openapi: 3.0.2
info:
  title: WealthOS API
  version: v1
  x-logo:
    url: >-
      data:image/svg+xml;base64,PHN2ZyBzdHlsZT0ibWF4LXdpZHRoOiAyMjBweDsgbWFyZ2luOiBhdXRvIiB2aWV3Qm94PSIwIDAgMTQwIDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNS4wMzEgMzIuNzgyN0wxOC4wMzQgMjguNjYwMlYxOC43NDU0TDMxLjg1ODEgMjYuOTAzN1YyOC43NTg0TDI1LjAzMSAzMi43ODI3Wk0yLjExMjU1IDIxLjEzODVIMTEuOTkxNUwxNS45MzY3IDE4LjgxNDdWMzYuODg5NUwyLjExMjU1IDI4Ljc1MDlWMjEuMTM4NVpNMTguMDQ1MyAzMS4xNDRMMjIuOTI4MSAzNC4wMjIyTDE4LjA0MTMgMzYuODg5NUwxOC4wNDUzIDMxLjE0NFpNMTEuNjkxMiA1LjYwMjg5VjEwLjQxMzlMNy45Mjk1NSAxMi42MzcxVjE1LjExODZMMTMuNzkyNCAxMS42NDgyVjQuMzYxNTlMMTYuOTg2NSAyLjQ4MzE4TDIwLjE4MzkgNC4zNjUwNVYxMS42NTM0TDI2LjA0NjIgMTUuMTI0M1YxMi42MzcxTDIyLjI4NjggMTAuNDEzOVY1LjYwNTJMMzEuODY1NSAxMS4yNDUxVjE4Ljk5MjFIMjIuNjU5NkwxNy4wNTA1IDE1LjY4TDExLjQyNDQgMTguOTkyMUgyLjEwOTE1VjExLjI0NTFMMTEuNjkxMiA1LjYwMjg5Wk0zMS44NjU1IDI0LjQxOTlMMjYuMzA0IDIxLjE0MjVIMzEuODY1NVYyNC40MTk5Wk0xNi45ODY1IDBMMCAxMC4wMDE0VjMwLjAwMDNMMTYuOTg2NSA0MEwzMy45NzQxIDMwLjAwMDNWMTAuMDAxNEwxNi45ODY1IDBaIiBmaWxsPSIjMzcwMEIzIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuOTQ0NzYgMjYuOTY5MkwxMC4wNTE2IDI4LjIwODhWMjQuMDQ3Nkg3Ljk0NDc2VjI2Ljk2OTJaIiBmaWxsPSIjMzcwMEIzIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUwLjk4MSAyMi45OTE0TDQ2Ljc0MTIgMjAuMzgyM0w0Mi41MDMxIDIyLjk5MTRWMTUuNDI1Mkg0MC4zNTQ5VjI2Ljg3MDdMNDYuNzQxMiAyMi45NDExTDUzLjEyOTMgMjYuODcwN1YxNS40MjUySDUwLjk4MVYyMi45OTE0WiIgZmlsbD0iIzM3MDBCMyI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03NC41NjMyIDIwLjA1NDdINjkuMjk4Nkw3MS45MzQ2IDE3LjA5MzNMNzQuNTYzMiAyMC4wNTQ3Wk03My40Mjg1IDE1LjQxMzZINzAuNDQwN0w3MC40ODQzIDE1LjQ2MTVMNjYuNTAzNCAxOS45MzY5VjI2Ljg3ODFINjguNjUxNlYyMi4yNTA4SDc1LjIxNzVWMjYuODc4MUg3Ny4zNjhWMTkuOTM2OUw3My4zOTYyIDE1LjQ2MTVMNzMuNDI4NSAxNS40MTM2WiIgZmlsbD0iIzM3MDBCMyI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMDguNTkgMjAuMDU0OEgxMDIuMDI0VjE1LjQyOTJIOTkuODczOFYyNi44NzA2SDEwMi4wMjRWMjIuMjQ1MUgxMDguNTlWMjYuODcwNkgxMTAuNzRWMTUuNDI5MkgxMDguNTlWMjAuMDU0OFoiIGZpbGw9IiMzNzAwQjMiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTI1LjU0NiAyMi41MjI5TDEyMy40ODggMjQuNjIwOEgxMjAuNjJMMTE4LjU2MiAyMi41MjI5VjE5LjcxNzRMMTIwLjYyIDE3LjYxOTVIMTIzLjQ5MUwxMjUuNTQ4IDE5LjcxNzRMMTI1LjU0NiAyMi41MjI5Wk0xMTkuNzI3IDE1LjQyOTJMMTE2LjQxMiAxOC44MDk0VjIzLjQzNjdMMTE5LjcyNyAyNi44MTY5SDEyNC4zNzlMMTI3LjY5NCAyMy40MzY3VjE4LjgwOTRMMTI0LjM3OSAxNS40MjkySDExOS43MjdaIiBmaWxsPSIjMzcwMEIzIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTU1LjI2MDYgMjYuODcwOUg2NC4zNTMyVjI0LjY4MDVINTcuNDEwNlYyMi4yNDUzSDYxLjg0NThWMjAuMDU1SDU3LjQxMDZWMTcuNjE5Mkg2NC4zNTMyVjE1LjQyODhINTUuMjYwNlYyNi44NzA5WiIgZmlsbD0iIzM3MDBCMyI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ni40NDE1IDE3LjYxOTRIOTEuMDM4OFYyNi44NzExSDkzLjE4ODhWMTcuNjE5NEg5Ny43MjU0VjE1LjQyOTFIODYuNDQxNVYxNy42MTk0WiIgZmlsbD0iIzM3MDBCMyI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04MS42NDc0IDE1LjQxMTlINzkuNDk5MlYyNi44NzA2SDg2LjQxM1YyNC42ODAzSDgxLjY0NzRWMTUuNDExOVoiIGZpbGw9IiMzNzAwQjMiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTM2LjY3OSAyMC4wNDUySDEzMy4xNDVDMTMyLjQ5NCAyMC4wNDUyIDEzMS45NjYgMTkuNTA3NCAxMzEuOTY2IDE4Ljg0MzdDMTMxLjk2NiAxOC4xOCAxMzIuNDk0IDE3LjY0MjMgMTMzLjE0NSAxNy42NDIzSDEzNy44NFYxNS40Mjg4SDEzMy4xNDlDMTMxLjMwNCAxNS40MyAxMjkuODA5IDE2Ljk1NTUgMTI5LjgxMSAxOC44MzYyQzEyOS44MTIgMjAuNzE1MiAxMzEuMzA2IDIyLjIzODQgMTMzLjE0OSAyMi4yMzk1SDEzNi42ODFDMTM3LjMyOCAyMi4yNDM2IDEzNy44NTEgMjIuNzgwMiAxMzcuODUxIDIzLjQ0MDRWMjMuNDZDMTM3Ljg1MiAyNC4xMjE0IDEzNy4zMjggMjQuNjU5MiAxMzYuNjc5IDI0LjY2MDlIMTI5Ljg1MlYyNi44NjUxSDEzNi42NzlDMTM4LjUxNyAyNi44NTc2IDE0MC4wMDMgMjUuMzM0NCAxNDAgMjMuNDZWMjMuNDQwNEMxMzkuOTk4IDIxLjU3MDEgMTM4LjUxMyAyMC4wNTI3IDEzNi42NzkgMjAuMDQ1MloiIGZpbGw9IiMzNzAwQjMiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+
  description: "Welcome to WealthOS. Here you will find the comprehensive set of information you need to rapidly build rich digital wealth management features. \n# Getting Started\nBefore you start developing your features using the WealthOS API, please make sure that the following steps are complete:\n\n* Set-up your own environment unique to your organisation using the link we have provided\n* Follow the step-by-step [guide](https://wos-gb.sandbox.wealthos.cloud/admin/documentation) to configuring your environment\n* Sign-up and obtain keys for sandbox environments of all 3rd party integrations you require from the market place of available integrations in WealthOS\n* Setup the keys of the 3rd party integrations within the WealthOS Admin UI\n\nOnce you have set yourself up, you can add other users who will be able to collaborate with you.\n\n---\n# WealthOS API Basics\nThe WealthOS API is a RESTful API that provides synchronous communication between your application and the WealthOS platform. For some calls where WealthOS communicates with a 3rd party application (e.g. KYC providers, Payment providers, Custodians) thus causing asynchronicity in communication, WealthOS also provides anebsocket API so you do not have to build a polling function to retrieve responses. \n\nYour API URLs will be in the following formats:\n\n**RESTful API** - https://{unique_tenancy_identifier}.sandbox.wealthos.cloud/tenant/{endpoint}/v1\n\n```           E.g. https://acorn-gb.sandbox.wealthos.cloud/investors/v1```\n\n**Websocket API** - wss://{unique_tenancy_identifier}-ws.sandbox.wealthos.cloud/ws/\n\n```           E.g. wss://acorn-gb-ws.sandbox.wealthos.cloud/ws/```\n\nThe Websocket API is used by WealthOS to push asynchronous notifications to your application.\n\n---\n# Authentication\nThe wealth management organisation is granted a **secret key** that they must use in their API calls to interact with the WealthOS platform securely. This key must be stored securely only in your application server side code. It grants the highest level of access privileges to the WealthOS platform. \n<!-- Each wealth management organisation is granted a set of keys that they must use in their API calls to interact with the WealthOS platform securely.\n\n There are two (2) types of API keys:\n\n * The **secret key**. This must be stored securely only in your application server side code. It grants the highest level of access privileges to the WealthOS platform. \n\n * **Publishable keys**. These are temporary keys with a short life span issued specifically for some activities. These have limited privileges in terms of what types of calls are permitted to be made using them. Usually these are sent as a response to another API call (e.g. creating a payment intent)\n-->\n## Testing your keys\nYou may test your keys by calling on the following endpoints. \n\n### RESTful API\nTo test the **secret key**:&nbsp;Perform a GET call on ```~/tenant/test/hello-world-be```\n<!--\nTo test the **temporary key**:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perform a GET call on ```~/tenant/test/hello-world-gui```\n-->\n### Socket API\n In order to authenticate a Websocket API call, a query parameter x-token must be included within the URL. \n\nx-token = your organisation’s secret key \n\nFull URL must read as follows: \n````\nwss://{unique_tenancy_identifier}-ws.sandbox.wealthos.cloud/ws?x-token=<api_secret_key>\n````\n---\n# Idempotency\nSome of the capabilities exposed via WealthOS tenant API needs to be idempotant (from the perspective of the system). For those requests an additional field `request_id` is required to be sent with the request. The purpose of the `request_id` is to give an unique id for the request, so the system can differentiate requests. Advantage of the `request_id` is the system can check whether the request have already reached the system. If a request (that should be idempotant) has already reached the system, the duplicate request will be rejected.\n\n#### Sample response\n\n```json\n\n{\n  \"status\": 400,\n  \"body\": {\n    \"message\" : \"duplicate request\", \n    \"status\" : \"COMPLETE|PROCESSING\", \n    \"response\" : \"<stringified original response body>\"\n  }\n}\n\n```\nThe `request_id` stored for idempotency checks will be deleted after <span style=\"color:red\">**1 hour**</span> after which point a message with the same `request_id` will be considered as a new request.\n\n---\n# Entity Versioning\nWealthOS maintains versioning for reference data entities stored within the platform which can be updated by the Wealth Manager BE. This is to ensure integrity of data in the event the same entity is being updated by multiple users via the API. \n\nWhen requesting for an entity via the API the system will return the latest  `reference_version` which must be provided when the Wealth Manager BE is updating an entity. If the received `reference_version` is different to the latest `reference_version` in the system, the update will be rejected.\n\nWith each sucessful update done to the entity via the API the system will increment the  `reference_version`. \n\n---\n# Limits\n\nCurrently there are limits to the number of requests that can be made to the WealthOS API. Following are these limits:\n* Average requests per second       500\n* Burst requests                    1000\n* Total requests per day            10,000\n\n---\n# FAQ\n\n- **How do I see my API keys and how do I re-new the keys?**\n    - Your API keys are displayed in the developer section of the WOS Admin GUI. You have to be of user type 'developer' or 'admin' to see this. \n\n- **Is it mandatory to connect to the web socket**\n    - Right now this is optional. However it is highly recommended to do so, because the wealth manager BE can avoid polling (Remember: the REST API calls have a daily quota) for certain important events.\n\n---\n# Socket API\n## Intro\nWeb socket API is used by the WOS system to notify (push) asynchronous events to the Wealth Manager BE\n## Accessing the Socket api\nYour Socket API URL would be wss://{socket api root}/ws\n\nFor example lets assume your env is `gb` and tenant id is `acorn`. Then,\n\n- Socket API Root: acorn-gb-ws.sandbox.wealthos.cloud\n\n- Socket API URL: wss://acorn-gb-ws.sandbox.wealthos.cloud/ws\n## Authenticating Socket Connection\nWealthOS requires to authenticate the web socket connection before allowing you to communicate with the system through the socket. For that purpose WealthOS socket API expects a query parameter `x-token` to be attached with the socket URL.\n\n`x-token` is the ApiSecretKey given you by the WealthOS system\n\nSo the actual connection URL must look like\n\n```\nwss://acme-gb-ws.sandbox.wealthos.cloud/ws?x-token=<api_secret_key>\n```\n## Channels\nWealthOS socket api uses the concept of channels to group messages exchanged through web socket. A single socket connection may be used to handle one or many channels. Users are advised to implement a proper load balancing scheme.\n\nMessages sent via the channels will be strictly ordered by the event generation time. However, there is no guarantee of ordering messages across channels.\n\nA generic data message passed through the socket looks like,\n\n```json\n{\n    type: \"a string tag that identifies the message\"\n    resend: \"[optional] Indicates whether this is a resend message. Resends can be sent during explicit recovery servicing or due to server recovering from errors\"\n    ch: \"channel name\" \n    payload: { \n        .... \n    }\n    id: \"unique id for this message\"\n    ts: \"unique sequence number of message\"\n    \n}\n``` \n**Note**: The unique sequence number `ts` is a strictly monotonically increasing timestamp (milliseconds elapsed since January 1, 1970, 00:00:00 UTC). This is unique per channel.\n## Subscribe\nSent from client to server to subscribe to a channel.\n  * Channel name should be specified in the `ch` attribute.\n  * Unique request id must be sent in the `req_id` attribute.\n\n```\n{\n    \"type\": \"subscription\",\n    \"ch\": \"channel to be subscribed\",\n    \"req_id\": \"request ID\",\n    \"from_ts\": past sequence number / Timestamp value (milliseconds)\n}\n```\nServer responds with a **subscribe** message which echoes the request. In addition, a **status** field indicates the subscription status (success or failed) and aneason field indicating the reason in the case of a failure.\n\n```\n{\n    \"type\": \"subscription\",\n    \"ch\": \"subscribed channel\",\n    \"req_id\": \"request ID\",\n    \"status\": \"ACK\"\n}\n```\n\n```\n{\n    \"type\": \"subscription\",\n    \"ch\": \"subscribed channel\",\n    \"req_id\": \"request ID\",\n    \"status\": \"NACK\",\n    \"reason\": \"Error Message\"\n}\n```\n## Unsubscribe\nSent from client to server to unsubscribe from a channel.\n  * Channel name should be specified in the `ch` attribute.\n  * Unique request id must be sent in the `req_id` attribute.\n\n```\n{\n    \"type\": \"unsubscription\",\n    \"ch\": \"channel to be unsubscribed\",\n    \"req_id\": \"request ID\"\n}\n```\nServer responds with a **unsubscribe** message which echoes the request. In addition, a **status** field indicates the unsubscription status (success or failed) and aneason field indicating the reason in the case of a failure.\n\n```\n{\n    \"type\": \"unsubscription\",\n    \"ch\": \"channel to be unsubscribed\",\n    \"req_id\": \"request ID\",\n    \"status\": \"ACK\"\n}\n```\n\n```\n{\n    \"type\": \"unsubscription\",\n    \"ch\": \"channel to be unsubscribed\",\n    \"req_id\": \"request ID\",\n    \"status\": \"NACK\",\n    \"reason\": \"Error Message\"\n}\n```\n**NOTE**\n* Subscribing to an already subscribed channel will be rejected.\n* Client is expected to re-try, if no response is received within 60 secs\n <!--Server will only cache messages for 1 day.-->\n\n## Heart beats\nThe ws client must send a 'heart-beat'  to the server every **60 seconds** to keep the socket connection alive. Server will reply back with heat-beat (HB). Server will disconnect the ws connection if no HBs are recived for **3 HB intervals** (i.e. between 2 to 3 minutes). Client should also disconnet if no data or hb message is received for 3 minutes\n\n```json\n{\n    type: \"hb\",\n    ch: \"system\"\n}\n```\n<div class=\"warning\" style='padding:0.1em; background-color:#FFD2D2; color:#D8000C;'>\n    <span>\n        <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>\n            <b>ⓘ</b> A live socket connection will be automatically disconnected by the server after 2 hours\n        </p>\n    </span>\n</div>\n\n\n## Recover missed updates\nThe ws client can send a **past sequence number** with the subscription to receive missed updates from the provided sequence number onwards.\n\n```json\n{\n    \"type\": \"subscription\",\n    \"ch\": \"channel to be subscribed\",\n    \"req_id\": \"request ID\",\n    \"from_ts\": \"past sequence number\"\n}\n```\nServer responds with a **subscribe** message which echoes the request. Then the ws client will receive past socket updates from the provided sequence number onwards.\n\n```\n{\n    \"type\": \"subscription\",\n    \"ch\": \"subscribed channel\",\n    \"req_id\": \"request ID\",\n    \"status\": \"ACK\",\n    \"from_ts\": 1625660972000\n}\n{\n    \"type\": \"investor_status\",\n    \"ch\": \"investors\",\n    \"payload\": {\n        \"investor_id\" : \"<investor_id>\",\n        \"status\" : \"'fail' | 'success'\", \n        \"error\" : \"\",  \n        \"event\": \"'kyc.started' | 'kyc.completed'\" \n    },\n    \"id\": \"fd232671-d47b-4ae2-a4c4-0a37258ffae5\",\n    \"ts\": 1625660972222,\n    \"resend\": true\n}\n```\n**NOTE**\n* If the provided sequence number equals **-1**, Then the system will send all the past socket updates to the client.\n* System only accepts integer type sequence number values.\n\n## Supported Channels\n\n- investors\n- payments\n- transactions  \n- holdings\n- reconciliations\n- notifications\n\n###  publish investors\n\nThis channel publishes investor related updates.\n\n#### Message\n\n\nThe investor channel publishes the following message types:\n- `investor_status` : This message type is used to communicate updates to the KYC/AML status of an investor\n\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type | string | message type | `investor_status` |\n| ch   | string  | channel name | `investors` |\n| payload.investor_id | string | unique Id of investor | |\n| payload.status   | string  | | `fail` , `success` |\n| payload.error | string | error text. Populated only on failure | |\n| payload.event   | string  | KYC status. Populated only if request is sucessful | `kyc.started`, `kyc.completed` |\n\n##### Examples\n```json\n{\n    \"type\": \"investor_status\",\n    \"ch\": \"investors\",\n    \"payload\": {\n        \"investor_id\" : \"inv-XUT11265\",\n        \"status\" : \"success\", \n        \"error\" : \"\",  \n        \"event\": \"kyc.completed\" \n    },\n    \"id\": \"fd232671-d47b-4ae2-a4c4-0a37258ffae5\",\n    \"ts\": 1625660972222\n}\n```\n\n<a name=\"payments\"></a>\n\n###  publish payments\n\nThis channel publishes payment status related updates\n\n#### Message\n\nThe payments channel publishes the following message types:\n- `payment_update` : This message type is used to communicate updates to the status of the payment.\n\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type | string | | `payment_update` |\n| ch   | string  | | `payments` |\n| payload.transaction_id | string | Unique Id of the payment | |\n| payload.pot_id | string | Id of the pot the payment is directed to | |\n| payload.reason | string | This field populated only when payment intent status is failed or cancelled, with reason for cancellation or failure | |\n| payload.status   | string  | | `pending_confirmation`, `processing`, `succeeded`, `cancelled`, `failed` |\n\n##### Examples\n\n```json\n{\n    \"type\": \"payment_update\",\n    \"ch\": \"payments\",\n    \"payload\": {\n        \"transaction_id\" : \"80784c92-8f9d-4150-b83c-dc\",\n        \"pot_id\" : \"pot-GYQ5423100\",\n        \"status\" : \"succeeded\"\n    },\n    \"id\": \"fd232671-d47b-4ae2-a4c4-0a37258ffae5\",\n    \"ts\": 1625660972222\n}\n```\n\n<a name=\"channel-transactions\"></a>\n\n###  publish transactions\n\nThis channel publishes various transaction related updates.\n\n#### Message\n\nThe transactions channel publishes the following message types:\n- `transaction_initiated` : This message type is used to communicate a new transaction created within the system (e.g. a scheduled fee deduction, individual transactions of a portfolio rebalance etc.)\n- `transaction_updated` : This message type is used to communicate an update to a transaction.\n- `external_transaction_added` : This message type is used to communicate a new transaction created in the system via an external party (e.g. transaction created by a custodian).\n- `transaction_failed` : This message type is used to notify the user of a transaction failure.\n\n\n##### Payload\nFor further information regarding the description of fields in the payload, mandatory fields and conditionally returned fields etc. please refer [GET pending & past transactions of a pot](https://wos-gb.sandbox.wealthos.cloud/admin/documentation). \n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type   | string  | | `transaction_updated`,`transaction_initiated`,`external_transaction_added` |\n| ch | string | | `transactions` |\n| payload.transaction_id | string | Unique Id of the transaction | |\n| payload.parent_transaction_id | string | Parent Transaction ID | |\n| payload.external_transaction_reference | string | External Transaction Reference | |\n| payload.pot_id | string | Pot ID of the transaction | |\n| payload.investment_product_id | string | Invetment Prouct ID or cash | |\n| payload.client_order_id | string | (Optional) Order identifier assigned by the wealth manager | |\n| payload.primary_transaction_type | string | Primary Transaction Type | `Fees`,`Buy`,`Sell`,`Transfers`,`Income`,`Tax`,`Contribution`,`Withdrawal`,`Corporate actions` |\n| payload.sub_transaction_type | string | Sub Transaction Type | `Dividend Reinvestment`,`Interest Reinvestment`,`Reinvestment`,`Buy`,`Sell Cancel`,`Switch Buy`,`Sell`,`Buy Cancel`,`Switch Sell`,`Lump sum`, `Lump sum - non relievable`, `Employer contribution`,`Employee contribution`,`Regular contribution`, `Regular contribution - non relievable`, `Regular contribution - Employer`, `Payment in for fees`,`Internal Transfer - Cash In`,`Internal Transfer - Stock In`,`Internal Transfer - Cash Out`,`Internal Transfer - Stock Out`,`Stock Transfer In`,`Cash Transfer In`,`Stock Transfer Out`,`Cash Transfer Out`,`Commission`,`Ancillary fee`,`Management fee`,`Fee credit`,`Fee rebate`,`Advisor ongoing fee`,`One-off advisor fee`,`Commission rebate`,`Custody fees`,`Dividends`,`Distributions`,`Interest`,`Other income`,`Takeovers, Mergers & Name Changes - Create`,`Takeovers, Mergers & Name Changes - Extinguish`,`Rights Expiry`,`Rights Exercise`,`Warrant Exercise`,`Fixed Income Maturity - Receive Capital`, `Fixed Income Maturity - Extinguish Bond Units`,`Fund Merger - Create New Fund Units`,`Fund Merger - Extinguish Old Fund Units`,`Rights Issue`,`Stock Dividend`,`Spin-Off`,`Warrant Issue`,`Stock Split`,`Fee Tax`,`Tax Relief`,`GST`,`HST`,`PST`,`QST`,`Withholding Tax`,`PAYE Tax`,`Non-resident Tax`,`Penalty`,`Contribution Refund`,`Income Withdrawal`,`Reversal`,`Withdrawal`,`Miscellaneous Corporate Action Exercise - Buy`,`Miscellaneous Corporate Action Exercise - Sell`, `Contribution Bonus` |\n| payload.type | string | Type of the transaction | `pending`,`archived` |\n| payload.sub_type | string | Sub type of the transaction | `instructed`,`confirmed`,`priced`,`rejected`,`settled`,`cancelled`, `scheduled`, `failed` |\n| payload.currency | string | Currency of the pot | |\n| payload.direction | string | Direction of the transaction | `in`,`out` |\n| payload.transaction_quantity | string | Quantity of the investment product transaction. This will be empty for cash transactions | |\n| payload.transaction_value | string | Value of the transaction | |\n| payload.execution_price | string | Executed price of the buy, sell transaction | |\n| payload.trade_date | date | Will indicate the date where this transaction was effected | |\n| payload.settlement_date | date | Intendent settlement date of the pending transaction or actual the settled day of the transaction | |\n| payload.created_at | time | Transaction created date | |\n| payload.updated_at | time | Transaction last updated date | |\n| payload.additional_external_details | Object | Additional external details of the transaction, This may be populated in reconciliation process | |\n| payload.origin | string | Origin of the transaction | `api`, `admin_ui`, `file_upload`, `system` | \n| payload.source_id | string | transactions created for payments intents - employer contributions for SIPP Accumulation Products | | \n| payload.reason | string | This field populated only when status is failed or canceled, with reason for cancellation or failure | | \n##### Examples\n\n```json\n{\n    \"type\": \"transaction_updated\",\n    \"ch\": \"transactions\",\n    \"object\": {\n         \"pot_id\":\"pot-GYQ5423100\",\n         \"transaction_id\":\"80784c92-8f9d-4150-b83c-dc\",\n         \"investment_product_id\":\"GB0000495209\",\n         \"primary_transaction_type\":\"Buy\",\n         \"sub_transaction_type\":\"Buy\",\n         \"type\":\"archived\",\n         \"sub_type\":\"settled\",\n         \"currency\":\"GBP\",\n         \"direction\":\"in\",\n         \"transaction_quantity\":\"20\",\n         \"transaction_value\":\"129.69\",\n         \"execution_price\":\"6.45\",\n         \"trade_date\":\"2021-08-06\",\n         \"settlement_date\":\"2021-08-06\",\n         \"origin\": \"admin_ui\",\n         \"source_id\": \"cem-ASP43560\",\n         \"created_at\":\"2021-08-06T09:25:44.251Z\",\n         \"updated_at\":\"2021-08-06T09:27:18.003Z\",\n         \"external_transaction_reference\": \"117709248888833\"\n     },\n    \"id\":\"8e754ef9-5d63-4c2a-9f43-ac42f588e122\",\n    \"ts\":1628244517263\n}\n```\n<a name=\"holdings\"></a>\n\n###  publish holdings\n\nThis channel publishes holdings related updates.\n\n#### Message\n\nThe holdings channel publishes the following message types:\n- `holding_updated` : This message type is used to communicate an update to the units of an investment product holding, or value of a cash holding.\n\n##### Payload\nFor further information regarding the description of fields in the payload, mandatory fields and conditionally returned fields etc. please refer [GET current holdings of a pot](https://wos-gb.sandbox.wealthos.cloud/admin/documentation). \n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type | string | | `holding_updated` |\n| ch   | string  | | `holdings` | \n| payload.pot_id | string | Id of the pot the payment is directed to | |\n| payload.investment_product_id | string | Investment product ID or 'cash' for cash | |\n| payload.currency | string | Currency of the pot | |\n| payload.total_quantity | string | Total Quantity of the investment product holding. This value is empty for cash holdings | |\n| payload.free_quantity | string | Free Quantity of the investment product holding. This value is empty for cash holdings | |\n| payload.locked_quantity | string | Locked Quantity of the investment product holding. This value is empty for cash holdings | |\n| payload.total_value | string | Total Value of the holding | |\n| payload.free_value | string | Free Value of the holding | |\n| payload.locked_value | string | Locked Value of the holding | |\n| payload.investment_product_name | string | Name of the investment product | |\n| payload.price | string | Price of the holding | |\n| payload.price_date | time | The time which the price is updated | |\n| payload.average_book_cost | string | Per-unit book cost for a particular holding (applicable for investment product holdings only) | |\n| payload.cost_of_holding | string | Total book cost for the total units currently held within the pot (applicable for investment product holdings only) | |\n| payload.settled_cash_position | string | Settled cash amount within the pot (applicable for cash holdings only) | |\n| payload.additional_external_details | Object | Additional external details of the holding, This may be populated in reconciliation process | |\n\n##### Examples\n\n```json\n{\n    \"type\": \"holding_updated\",\n    \"ch\": \"holdings\",\n    \"payload\": {\n         \"pot_id\":\"pot-GYQ5423100\",\n         \"investment_product_id\":\"GB0000495209\",\n         \"currency\":\"GBP\",\n         \"total_quantity\":\"20\",\n         \"free_quantity\":\"20\",\n         \"locked_quantity\":\"0\",\n         \"total_value\":\"137.358\",\n         \"free_value\":\"137.358\",\n         \"locked_value\":\"0\",\n         \"investment_product_name\":\"BlackRock European Dynamic Fund A Accumulation\",\n         \"price\":\"6.8679\",\n         \"price_date\":\"2021-08-06T09:27:37.512Z\",\n         \"average_book_cost\": \"5\",\n         \"cost_of_holding\": \"100\"        \n    },\n    \"id\":\"8e754ef9-5d63-4c2a-9f43-ac42f588e122\",\n    \"ts\":1628244517263\n}\n```\n\n<a name=\"reconciliations\"></a> \n\n###  publish reconciliations\n\nThe reconciliations channel publishes the following message types:\n- `investor_summary` : This message type is used to communicate a summary of investor reconciliation process.\n- `investor_mismatch` : This message type is used to communicate all mismatches in each investor reconciliations process.\n- `pot_summary` : This message type is used to communicate a summary of pot reconciliation process.\n- `pot_mismatch` : This message type is used to communicate all mismatches in each pot reconciliations process.\n- `transaction_summary` : This message type is used to communicate a summary of transaction reconciliation process.\n- `transaction_mismatch` : This message type is used to communicate mismatches in each transaction reconciliations process.\n- `transaction_ingestion_failure` : This message type is used to communicate ingestion failures in each transaction reconciliations process.\n- `transaction_ignored` : This message type is used to communicate all ignored transactions in each transaction reconciliations process.\n- `holdings_summary` : This message type is used to communicate a summary of holding reconciliation process.\n- `holdings_mismatch` : This message type is used to communicate all mismatches in each holding reconciliations process.\n\n#### Investor summary message\n##### Payload\n\t\t\t\n\n| Name   | Type   | Description | Accepted values |\n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `investor_summary` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `reconciliations` |\n| payload.job_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Unique Id of reconciliation process | |\n| payload.job_name <br><font size=\"2\" color=\"red\">Required</font>  | string | type of reconciliations | |\n| payload.date <br><font size=\"2\" color=\"red\">Required</font>  | string | date and time  | |\n| payload.total_records <br><font size=\"2\" color=\"red\">Required</font>  | number | total record count | |\n| payload.mismatched_records <br><font size=\"2\" color=\"red\">Required</font>  | number | mismatched record count | |\n| payload.incoming_records <br><font size=\"2\" color=\"red\">Required</font>  | number | incoming record count | |\n| payload.no_incoming_records <br><font size=\"2\" color=\"red\">Required</font>  | number | no incoming record count | |\n\n\n##### Examples\n\n```json\n{\n    \"type\":\"investor_summary\",\n    \"ch\":\"reconciliations\",\n        \"payload\":\n        {\n            \"job_id\":\"hydrangea-dc-210806-1628240463777\",\n            \"job_name\":\"Investor Details\",\n            \"date\":\"2021-08-09T06:49:34.227Z\",\n            \"total_records\":1,\n            \"mismatched_records\":1,\n            \"incoming_records\": 0,\n            \"no_incoming_records\": 0\n        },\n    \"id\":\"e1c7797f-f590-4490-a452-01894b33d014\",\n    \"ts\":1628244517823\n}\n\n```\n\n#### Investor mismatch message\n##### Payload\n\n| Name   | Type   | Description | Accepted values |\n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `investor_mismatch` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `reconciliations` |\n| payload.job_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Unique Id of reconciliation process | |\n| payload.date <br><font size=\"2\" color=\"red\">Required</font>  | string | date and time  | |\n| payload.record_id <br><font size=\"2\" color=\"red\">Required</font>  | string | unique id of a record | |\n| payload.investor_id | string | unique id of the investor being reconciled (if available) | |\n| payload.record_status <br><font size=\"2\" color=\"red\">Required</font>  | string | record status   |  `reconciled`, `unreconciled`, `not_found`, `key_unavailable` |\n| payload.fields | object | mismatched fields with field, incoming_value, available_value and status   | |\n| payload.fields.field <br><font size=\"2\" color=\"red\">Required</font>  | string | Name of the fields  | |\n| payload.fields.incoming_value | string | Incoming value for the field | |\n| payload.fields.available_value | string | Available value for the field | |\n| payload.fields.status | string | status of the field | `mismatched`, `matched` |\n\n##### Examples\n\n```json\n{\n    \"type\":\"investor_mismatch\",\n    \"ch\":\"reconciliations\",\n    \"payload\":\n    {\n        \"job_id\":\"hydrangea-dc-210806-1628240463777\",\n        \"date\":\"2021-08-09T06:49:34.227Z\",\n        \"record_id\":\"F180010Q\",\n        \"record_status\":\"not_found\",\n        \"fields\":\n        [\n            {\"field\":\"first_name\",\"incoming_value\":\"David\",\"available_value\": \"Dane\", \"status\":\"mismatched\"},\n            {\"field\":\"last_name\",\"incoming_value\":\"Brown\", \"available_value\": \"Black\", \"status\":\"mismatched\"}\n        ]\n    },\n    \"id\":\"8e754ef9-5d63-4c2a-9f43-ac42f588e122\",\n    \"ts\":1628244517263\n}\n\n```\n\n#### Pot summary message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `pot_summary` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `reconciliations` |\n| payload.job_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Unique Id of reconciliation process | |\n| payload.job_name <br><font size=\"2\" color=\"red\">Required</font>  | string | type of reconciliations | |\n| payload.date <br><font size=\"2\" color=\"red\">Required</font>  | string | date and time  | |\n| payload.total_records <br><font size=\"2\" color=\"red\">Required</font>  | number | total record count | |\n| payload.mismatched_records <br><font size=\"2\" color=\"red\">Required</font>  | number | mismatched record count | |\n| payload.incoming_records <br><font size=\"2\" color=\"red\">Required</font>  | number | incoming record count | |\n| payload.no_incoming_records <br><font size=\"2\" color=\"red\">Required</font>  | number | no incoming record count | |\n\n##### Examples\n\n```json\n{\n    \"type\": \"pot_summary\",\n    \"ch\": \"reconciliations\",\n    \"payload\": {\n        \"job_id\": \"dev14_recon_pot_200\",\n        \"job_name\": \"Pot Details\",\n        \"date\": \"2021-09-02T10:07:40.578Z\",\n        \"total_records\": 91,\n        \"mismatched_records\": 41,\n        \"incoming_records\": 0,\n        \"no_incoming_records\": 0\n    },\n    \"id\": \"c574d276-de4b-4014-80f3-80e54d31d3da\",\n    \"ts\": 1630577304480\n}\n```\n\n#### Pot mismatch message\n##### Payload\n\n| Name   | Type   | Description | Accepted values |  \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `pot_mismatch` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `reconciliations` |\n| payload.job_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Unique Id of reconciliation process | |\n| payload.date <br><font size=\"2\" color=\"red\">Required</font>  | string | date and time  | |\n| payload.record_id <br><font size=\"2\" color=\"red\">Required</font>  | string | unique id of a record | |\n| payload.pot_id | string | unique id of the pot being reconciled (if available) | |\n| payload.record_status <br><font size=\"2\" color=\"red\">Required</font>  | string | record status   |  `reconciled`, `unreconciled`, `not_found`, `key_unavailable` |\n| payload.fields | object | mismatched fields | |\n| payload.fields.field <br><font size=\"2\" color=\"red\">Required</font>  | string | Name of the fields  | |\n| payload.fields.incoming_value | string | Incoming value for the field | |\n| payload.fields.available_value | string | Available value for the field | |\n| payload.fields.status | string | status of the field | `matched`, `mismatched` |\n\n##### Examples\n\n```json\n{\n    \"type\": \"pot_mismatch\",\n    \"ch\": \"reconciliations\",\n    \"payload\": {\n        \"job_id\": \"dev14_recon_pot_200\",\n        \"date\": \"2021-09-02T10:07:40.578Z\",\n        \"record_id\": \"53_RWM\",\n        \"record_status\": \"not_found\",\n        \"fields\": [\n            {\"field\": \"custodian_account_reference\",\"incoming_value\": \"F3A0023Q\",\"status\": \"mismatched\"},\n            {\"field\": \"pot_currency\",\"incoming_value\": \"GBP\",\"status\": \"mismatched\"}\n \n        ]\n    },\n    \"id\": \"7722f072-4e8d-48ec-ad4f-4543e64fb536\",\n    \"ts\": 1630577304156\n}\n```\n\n#### Transaction summary message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `transaction_summary` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `reconciliations` |\n| payload.job_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Unique Id of reconciliation process | |\n| payload.job_name <br><font size=\"2\" color=\"red\">Required</font>  | string | Name of the reconciliations job | |\n| payload.date <br><font size=\"2\" color=\"red\">Required</font>  | string | date and time  | |\n| payload.total_records <br><font size=\"2\" color=\"red\">Required</font>  | number | total record count | |\n| payload.mismatched_records <br><font size=\"2\" color=\"red\">Required</font>  | number | mismatched record count | |\n| payload.updated_records <br><font size=\"2\" color=\"red\">Required</font>  | number | updated record count | |\n| payload.unable_to_ingest <br><font size=\"2\" color=\"red\">Required</font>  | number | ingestion failed record count | |\n| payload.ignored_records <br><font size=\"2\" color=\"red\">Required</font>  | number | ignored record count | |\n| payload.incoming_records <br><font size=\"2\" color=\"red\">Required</font>  | number | incoming record count | |\n| payload.no_incoming_records <br><font size=\"2\" color=\"red\">Required</font>  | number | no incoming record count | |\n\n\n##### Examples\n\n```json\n{\n    \"type\": \"transaction_summary\",\n    \"ch\": \"reconciliations\",\n    \"payload\": {\n        \"job_id\": \"dev10_cat_inv_178\",\n        \"job_name\": \"Transaction Details\",\n        \"date\": \"2021-08-18T09:08:27.171Z\",\n        \"total_records\": 8,\n        \"mismatched_records\": 1,\n        \"updated_records\": 4,\n        \"unable_to_ingest\": 1,\n        \"ignored_records\": 1,\n        \"incoming_records\": 7,\n        \"no_incoming_records\": 1\n    },\n    \"id\": \"7d3614c7-3f63-4930-88df-062c5059047d\",\n    \"ts\": 1629277726128\n}\n```\n\n#### Transaction mismatch message\n##### Payload\n\n| Name   | Type   | Description | Accepted values |\n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font> | string | | `transaction_mismatch` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>  | string  | | `reconciliations` |\n| payload.job_id <br><font size=\"2\" color=\"red\">Required</font> | string | Unique Id of reconciliation process | |\n| payload.date <br><font size=\"2\" color=\"red\">Required</font> | string | date and time  | |\n| payload.record_id <br><font size=\"2\" color=\"red\">Required</font> | string | unique id of a record | |\n| payload.external_transaction_reference | string | External transaction reference (if available) | |\n| payload.transaction_ids | object | Transaction ids of mismatched records (if available) | |\n| payload.pot_id | string | Pot ID of the transaction (if available) | |\n| payload.record_status <br><font size=\"2\" color=\"red\">Required</font> | string | record status   |  `unreconciled`,`not_found`,`key_unavailable`, `multiple_found`, `no_incoming_record`, `updated` |\n| payload.fields | object | mismatched fields | |\n| payload.fields.field <br><font size=\"2\" color=\"red\">Required</font> | string | Name of the fields  | |\n| payload.fields.incoming_value | string | Incoming value for the field | |\n| payload.fields.available_value | string | Available value for the field | |\n| payload.fields.status | string | status of the field | `matched`, `mismatched`, `key_value_missing` |\n\n##### Examples\n\n```json\n{\n\t\"type\":\"transaction_mismatch\",\n\t\"ch\":\"reconciliations\",\n\t\"payload\":{\"job_id\":\"peony-transaction_reconciliations-1630493472846\",\n\t\"date\":\"2021-09-01T10:51:18.577Z\",\n\t\"record_id\":\"2_RWM\",\n\t\"external_transaction_reference\":\"117709248888833\",\n    \"transaction_ids\": [ \"80784c92-8f9d-4150-b83c-dc\" ],\n\t\"pot_id\":\"pot-GYQ5423100\",\n\t\"record_status\":\"unreconciled\",\n\t\"fields\":[\n\t{\n\t\t\"field\":\"primary_transaction_type\",\n\t\t\"incoming_value\":\"Buy\",\n\t\t\"available_value\":\"Corporate actions\",\n\t\t\"status\":\"mismatched\"\n\t},\n\t{\n\t\t\"field\":\"sub_transaction_type\",\n\t\t\"incoming_value\":\"Buy\",\n\t\t\"available_value\":\"Stock Split\",\n\t\t\"status\":\"mismatched\"\n    },\n\t{\n\t\t\"field\":\"execution_price\",\n\t\t\"incoming_value\":null,\n\t\t\"status\":\"mismatched\"\n    },\n\t{\n\t\t\"field\":\"trade_date\",\n\t\t\"incoming_value\":\"2021-08-31\",\n\t\t\"status\":\"mismatched\"\n\t},\n\t{\n\t\t\"field\":\"settlement_date\",\n\t\t\"incoming_value\":\"2021-09-02\",\n\t\t\"status\":\"mismatched\"\n\t}\n\t]\n},\n\t\"id\":\"0b3aa3b1-b14c-44ee-ac47-656149645ba9\",\n\t\"ts\":1630493491292\n}\n```\n\n#### Transaction ingestion failure message\n##### Payload\n\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font> | string | | `transaction_ingestion_failure` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>  | string  | | `reconciliations` |\n| payload.job_id <br><font size=\"2\" color=\"red\">Required</font> | string | Unique Id of reconciliation process | |\n| payload.date <br><font size=\"2\" color=\"red\">Required</font> | string | date and time  | |\n| payload.record_id <br><font size=\"2\" color=\"red\">Required</font> | string | unique id of a record | |\n| payload.external_transaction_reference | string | External transaction reference | |\n| payload.pot_id | string | Pot ID of the transaction (if available) | |\n| payload.record_status <br><font size=\"2\" color=\"red\">Required</font> | string | record status | `unable_to_ingest` |\n| payload.fields <br><font size=\"2\" color=\"red\">Required</font> | object | fields | |\n| payload.fields.field <br><font size=\"2\" color=\"red\">Required</font> | string | Name of the fields  | |\n| payload.fields.incoming_value <br><font size=\"2\" color=\"red\">Required</font> | string | Incoming value for the field | |\n| payload.fields.status <br><font size=\"2\" color=\"red\">Required</font> | string | status of the field | `unrecognised`, `key_value_missing` |\n\n##### Examples\n\n```json\n{\n    \"type\": \"transaction_ingestion_failure\",\n    \"ch\": \"reconciliations\",\n    \"payload\": {\n        \"job_id\": \"peony-transaction_reconciliations-1630657432163\",\n        \"date\": \"2021-09-03T08:23:54.373Z\",\n        \"record_id\": \"3_RWM\",\n        \"external_transaction_reference\": \"331738147053699\",\n        \"record_status\": \"unable_to_ingest\",\n        \"fields\": [\n            {\n                \"field\": \"custodian_account_reference\",\n                \"incoming_value\": \"F3A0000A\",\n                \"status\": \"unrecognised\"\n            },\n            {\n                \"field\": \"pot_currency\",\n                \"incoming_value\": \"GBP\",\n                \"status\": \"unrecognised\"\n            },\n            {\n                \"field\": \"investment_product_id\",\n                \"incoming_value\": \"CA1358251\",\n                \"status\": \"unrecognised\"\n            }\n        ]\n    },\n    \"id\": \"718f9758-e2b0-4a07-9cc6-8a6cb5aae419\",\n    \"ts\": 1630657439928\n}\n```\n\n#### Transaction ignored failure message\n##### Payload\n\n| Name   | Type   | Description | Accepted values |  \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font> | string | | `transaction_ignored` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `reconciliations` |\n| payload.job_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Unique Id of reconciliation process | |\n| payload.date <br><font size=\"2\" color=\"red\">Required</font>  | string | date and time  | |\n| payload.record_id <br><font size=\"2\" color=\"red\">Required</font>  | string | unique id of a record | |\n| payload.record_status <br><font size=\"2\" color=\"red\">Required</font>  | string | record status   | `ignored` |\n\n##### Examples\n\n```json\n{\n    \"type\": \"transaction_ignored\",\n    \"ch\": \"reconciliations\",\n    \"payload\": {\n        \"job_id\": \"peony-transaction_reconciliations-1630657867836\",\n        \"date\": \"2021-09-03T08:31:08.191Z\",\n        \"record_id\": \"3_RWM\",\n        \"record_status\": \"ignored\"\n    },\n    \"id\": \"8a82df6b-d34a-4eb9-91a1-b98cd18aa4e2\",\n    \"ts\": 1630657913417\n}    \n```\n#### Holding summary message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values |  \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `holdings_summary` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `reconciliations` |\n| payload.job_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Unique Id of reconciliation process | |\n| payload.job_name <br><font size=\"2\" color=\"red\">Required</font>  | string | type of reconciliations | |\n| payload.date <br><font size=\"2\" color=\"red\">Required</font>  | string | date and time  | |\n| payload.total_records <br><font size=\"2\" color=\"red\">Required</font>  | number | total record count | |\n| payload.mismatched_records <br><font size=\"2\" color=\"red\">Required</font>  | number | mismatched record count | |\n| payload.incoming_records <br><font size=\"2\" color=\"red\">Required</font>  | number | incoming record count | |\n| payload.no_incoming_records <br><font size=\"2\" color=\"red\">Required</font>  | number | no incoming record count | |\n\n##### Examples\n\n```json\n{\n    \"type\":\"holdings_summary\",\n    \"ch\":\"reconciliations\",\n        \"payload\":\n        {\n            \"job_id\":\"cat-holding_reconciliations-1631619829926\",\n            \"job_name\":\"Holdings Details\",\n            \"date\":\"2021-08-09T06:49:34.227Z\",\n            \"total_records\":10,\n            \"mismatched_records\":5,\n            \"incoming_records\": 0,\n            \"no_incoming_records\": 0\n        },\n    \"id\":\"e1c7797f-f590-4490-a452-01894b33d014\",\n    \"ts\":1628244517823\n}\n\n```\n\n#### Holding mismatch message\n##### Payload\n\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `holding_mismatch` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `reconciliations` |\n| payload.job_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Unique Id of reconciliation process | |\n| payload.date <br><font size=\"2\" color=\"red\">Required</font>  | string | date and time  | |\n| payload.record_id <br><font size=\"2\" color=\"red\">Required</font>  | string | unique id of a record | |\n| payload.pot_id | string | unique id of the pot being reconciled (if available) | |\n| payload.investment_product_id | string | unique id of the investment product being reconciled (if available) | |\n| payload.record_status <br><font size=\"2\" color=\"red\">Required</font> | string | record status   |  `reconciled`, `unreconciled`, `not_found`, `key_unavailable` |\n| payload.fields | object | mismatched fields with field, incoming_value, available_value and status   | |\n| payload.fields.field <br><font size=\"2\" color=\"red\">Required</font>  | string | Name of the fields  | |\n| payload.fields.incoming_value | string | Incoming value for the field | |\n| payload.fields.available_value | string | Available value for the field | |\n| payload.fields.status | string | status of the field | `mismatched`, `matched`, `updated` |\n\n##### Examples\n\n```json\n{\n    \"type\":\"holding_mismatch\",\n    \"ch\":\"reconciliations\",\n    \"payload\":\n    {\n        \"job_id\":\"cat-holding_reconciliations-1631619829926\",\n        \"date\":\"2021-08-09T06:49:34.227Z\",\n        \"record_id\":\"RWM_9_sr\",\n        \"pot_id\": \"pot-GYQ5423100\",\n        \"investment_product_id\": \"pqr\",\n        \"record_status\":\"not_found\",\n        \"fields\":\n        [\n            {\"field\":\"custodian_account_reference\",\"incoming_value\":\"F180010Q\",\"status\":\"mismatched\"},\n            {\"field\":\"free_value\",\"incoming_value\":0, \"status\":\"mismatched\"}\n        ]\n    },\n    \"id\":\"8e754ef9-5d63-4c2a-9f43-ac42f588e122\",\n    \"ts\":1628244517263\n}\n\n```\n\n<a name=\"notifications\"></a> \n\n###  publish notifications\n\nThis channel publishes general notifications.\n\n#### Message\n\n\nThe notifications channel publishes the following message types:\n- `recurring_contribution_activated` : This message type is used to communicate activation of recurring contribution requests\n- `recurring_contribution_cancelled` : This message type is used to communicate cancellation of recurring contribution requests\n- `recurring_contribution_rejected` : This message type is used to communicate rejection of recurring contribution requests\n- `recurring_contribution_authorization_url_received` : This message type is used to communicate that the authorization url is received for the recurring contribution\n- `recurring_contribution_resumed` : This message type is used to communicate resuming of recurring contribution requests\n- `recurring_contribution_finished` : This message type is used to communicate completion of recurring contribution requests\n- `recurring_contribution_updated` : This message type is used to communicate updates (mandate transferr, mandate replacement) of recurring contribution requests\n- `HMRC_LISA_investor_creation_failed` : This message type is used to communicate rejection of HMRC LISA investor creation requests\n- `HMRC_LISA_account_creation_failed` : This message type is used to communicate rejection of HMRC LISA investor account creation requests\n- `HMRC_LISA_account_creation_successful` : This message type is used to communicate completion of HMRC LISA investor and account creation requests\n\n####  Recurring contribution activation message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `recurring_contribution_activated` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `notifications` |\n| payload.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status of the recurring contribution | |\n| payload.contribution_name <br><font size=\"2\" color=\"red\">Required</font>  | string | User given identifier for the contribution  | |\n| payload.pot_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Pot ID of investor to direct the payment | |\n| payload.investor_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Investor ID of the investor making the contribution | |\n| payload.amount <br><font size=\"2\" color=\"red\">Required</font>  | string | Amount as a numeral string with two decimal points | |\n| payload.sub_transaction_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Sub transaction type for recurring contribution | `Regular contribution`, `Regular contribution - non relievable`, `Regular contribution - Employer` |\n| payload.currency <br><font size=\"2\" color=\"red\">Required</font>  | string | Currency configured for the pot | |\n| payload.payment_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Type of payment | |\n| payload.service_provider <br><font size=\"2\" color=\"red\">Required</font> | string | Service provider managing the recurring payment subscription  | |\n| payload.purpose <br><font size=\"2\" color=\"red\">Required</font> | string | Purpose of the recurring contribution  | `cash`, `invest` |\n| payload.source_id | string | Only for payments intents for employer contributions made towards SIPP Accumulation Products | |\n| payload.payment_schedule <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on payment schedules   | |\n| payload.payment_schedule.interval_unit <br><font size=\"2\" color=\"red\">Required</font>  | string | Repeating interval unit of recurring payment  | `monthly` |\n| payload.payment_schedule.interval <br><font size=\"2\" color=\"red\">Required</font>  | number | Repeating interval of recurring payment  | |\n| payload.payment_schedule.date | number | Date the payment is expected to be triggered if frequency is monthly | |\n| payload.payment_schedule.start_date <br><font size=\"2\" color=\"red\">Required</font>  | string | Date to initiate the recurring payments  | |\n| payload.payment_schedule.end_date | string | Date to conclude the recurring payments, if count is not provided | |\n| payload.payment_schedule.count | number | No of recurring payments to trigger before concluding the payments, if an end date is not provided | |\n| payload.contribution_id <br><font size=\"2\" color=\"red\">Required</font>  | string | System generated unique id | |\n| payload.service_provider_params <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on service provider   | |\n| payload.service_provider_params.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status transitions depend on the service provider  | |\n| payload.service_provider_params.reason <br><font size=\"2\" color=\"red\">Required</font>  | string | Reason for disabling/cancelling the contribution  | |\n\n##### Examples\n```json\n{\n    \"type\": \"recurring_contribution_activated\",\n    \"ch\": \"notifications\",\n    \"payload\": {\n        \"status\": \"Active\",\n        \"contribution_name\": \"GIA contribution-1\",\n        \"pot_id\": \"pot-XWL3805770\",\n        \"investor_id\": \"inv-QRY29279\",\n        \"amount\": \"1000060.12\",\n        \"sub_transaction_type\": \"Regular contribution\",\n        \"currency\": \"GBP\",\n        \"payment_type\": \"direct_debit\",\n        \"service_provider\": \"gocardless\",\n        \"purpose\": \"cash\",\n        \"payment_schedule\": {\n            \"interval_unit\": \"monthly\",\n            \"interval\": 7,\n            \"date\": 1,\n            \"start_date\": \"2024-04-02T00:00:00.000Z\",\n            \"end_date\": \"2024-04-03T00:00:00.000Z\"\n        },\n        \"contribution_id\": \"RCB-GC-JSJ6709\",\n        \"service_provider_params\": {\n            \"status\": \"Subscription created\",\n            \"authorization_reference\" : \"EV0159P7DZB2P6\",\n            \"contribution_reference\" : \"BRQ00030E3DXA4P\",\n            \"request_id\" : \"BRF00014ZXYN5V4F05M90GZEQCARE84K\",\n            \"authorization_url\": \"https://authexample.gocardless-sandbox.com\"\n        }\n    },\n    \"id\": \"952c7d0a-ecc6-4538-86f4-ad021f6855d0\",\n    \"ts\": 1683086449658,\n    \"resend\": true\n}\n```\n\n####  Recurring contribution cancellation message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `recurring_contribution_cancelled` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `notifications` |\n| payload.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status of the recurring contribution | |\n| payload.contribution_name <br><font size=\"2\" color=\"red\">Required</font>  | string | User given identifier for the contribution  | |\n| payload.pot_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Pot ID of investor to direct the payment | |\n| payload.investor_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Investor ID of the investor making the contribution | |\n| payload.amount <br><font size=\"2\" color=\"red\">Required</font>  | string | Amount as a numeral string with two decimal points | |\n| payload.sub_transaction_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Sub transaction type for recurring contribution | `Regular contribution`, `Regular contribution - non relievable`, `Regular contribution - Employer` |\n| payload.currency <br><font size=\"2\" color=\"red\">Required</font>  | string | Currency configured for the pot | |\n| payload.payment_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Type of payment | |\n| payload.service_provider <br><font size=\"2\" color=\"red\">Required</font> | string | Service provider managing the recurring payment subscription  | |\n| payload.purpose <br><font size=\"2\" color=\"red\">Required</font> | string | Purpose of the recurring contribution  | `cash`, `invest` |\n| payload.source_id | string | Only for payments intents for employer contributions made towards SIPP Accumulation Products | |\n| payload.payment_schedule <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on payment schedules   | |\n| payload.payment_schedule.interval_unit <br><font size=\"2\" color=\"red\">Required</font>  | string | Repeating interval unit of recurring payment  | `monthly` |\n| payload.payment_schedule.interval <br><font size=\"2\" color=\"red\">Required</font>  | number | Repeating interval of recurring payment  | |\n| payload.payment_schedule.date | number | Date the payment is expected to be triggered if frequency is monthly | |\n| payload.payment_schedule.start_date <br><font size=\"2\" color=\"red\">Required</font>  | string | Date to initiate the recurring payments  | |\n| payload.payment_schedule.end_date | string | Date to conclude the recurring payments, if count is not provided | |\n| payload.payment_schedule.count | number | No of recurring payments to trigger before concluding the payments, if an end date is not provided | |\n| payload.contribution_id <br><font size=\"2\" color=\"red\">Required</font>  | string | System generated unique id | |\n| payload.service_provider_params <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on service provider   | |\n| payload.service_provider_params.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status transitions depend on the service provider  | |\n| payload.service_provider_params.reason <br><font size=\"2\" color=\"red\">Required</font>  | string | Reason for disabling/cancelling the contribution  | |\n\n##### Examples\n```json\n{\n    \"type\": \"recurring_contribution_cancelled\",\n    \"ch\": \"notifications\",\n    \"payload\": {\n        \"status\": \"Cancelled\",\n        \"contribution_name\": \"GIA contribution-1\",\n        \"pot_id\": \"pot-XWL3805770\",\n        \"investor_id\": \"inv-QRY29279\",\n        \"amount\": \"1000060.12\",\n        \"sub_transaction_type\": \"Regular contribution\",\n        \"currency\": \"GBP\",\n        \"payment_type\": \"direct_debit\",\n        \"service_provider\": \"gocardless\",\n        \"purpose\": \"cash\",\n        \"payment_schedule\": {\n            \"interval_unit\": \"monthly\",\n            \"interval\": 7,\n            \"date\": 1,\n            \"start_date\": \"2024-04-02T00:00:00.000Z\",\n            \"end_date\": \"2024-04-03T00:00:00.000Z\"\n        },\n        \"contribution_id\": \"RCB-GC-JSJ6709\",\n        \"service_provider_params\": {\n            \"status\": \"Subscription cancelled\",\n            \"authorization_reference\" : \"EV0159P7DZB2P6\",\n            \"contribution_reference\" : \"BRQ00030E3DXA4P\",\n            \"request_id\" : \"BRF00014ZXYN5V4F05M90GZEQCARE84K\",\n            \"authorization_url\": \"https://authexample.gocardless-sandbox.com\",\n            \"reason\" : \"The mandate for this subscription was cancelled at a bank branch.\"\n        }\n    },\n    \"id\": \"952c7d0a-ecc6-4538-86f4-ad021f6855d0\",\n    \"ts\": 1683086449658,\n    \"resend\": true\n}\n```\n\n####  Recurring contribution rejection message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `recurring_contribution_rejected` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `notifications` |\n| payload.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status of the recurring contribution | |\n| payload.contribution_name <br><font size=\"2\" color=\"red\">Required</font>  | string | User given identifier for the contribution  | |\n| payload.pot_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Pot ID of investor to direct the payment | |\n| payload.investor_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Investor ID of the investor making the contribution | |\n| payload.amount <br><font size=\"2\" color=\"red\">Required</font>  | string | Amount as a numeral string with two decimal points | |\n| payload.sub_transaction_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Sub transaction type for recurring contribution | `Regular contribution`, `Regular contribution - non relievable`, `Regular contribution - Employer` |\n| payload.currency <br><font size=\"2\" color=\"red\">Required</font>  | string | Currency configured for the pot | |\n| payload.payment_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Type of payment | |\n| payload.service_provider <br><font size=\"2\" color=\"red\">Required</font> | string | Service provider managing the recurring payment subscription  | |\n| payload.purpose <br><font size=\"2\" color=\"red\">Required</font> | string | Purpose of the recurring contribution  | `cash`, `invest` |\n| payload.source_id | string | Only for payments intents for employer contributions made towards SIPP Accumulation Products | |\n| payload.payment_schedule <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on payment schedules   | |\n| payload.payment_schedule.interval_unit <br><font size=\"2\" color=\"red\">Required</font>  | string | Repeating interval unit of recurring payment  | `monthly` |\n| payload.payment_schedule.interval <br><font size=\"2\" color=\"red\">Required</font>  | number | Repeating interval of recurring payment  | |\n| payload.payment_schedule.date | number | Date the payment is expected to be triggered if frequency is monthly | |\n| payload.payment_schedule.start_date <br><font size=\"2\" color=\"red\">Required</font>  | string | Date to initiate the recurring payments  | |\n| payload.payment_schedule.end_date | string | Date to conclude the recurring payments, if count is not provided | |\n| payload.payment_schedule.count | number | No of recurring payments to trigger before concluding the payments, if an end date is not provided | |\n| payload.contribution_id <br><font size=\"2\" color=\"red\">Required</font>  | string | System generated unique id | |\n| payload.service_provider_params <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on service provider   | |\n| payload.service_provider_params.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status transitions depend on the service provider  | |\n| payload.service_provider_params.reason <br><font size=\"2\" color=\"red\">Required</font>  | string | Reason for disabling/cancelling the contribution  | |\n\n##### Examples\n```json\n{\n    \"type\": \"recurring_contribution_rejected\",\n    \"ch\": \"notifications\",\n    \"payload\": {\n        \"status\": \"Rejected\",\n        \"contribution_name\": \"GIA contribution-1\",\n        \"pot_id\": \"pot-XWL3805770\",\n        \"investor_id\": \"inv-QRY29279\",\n        \"amount\": \"1000060.12\",\n        \"sub_transaction_type\": \"Regular contribution\",\n        \"currency\": \"GBP\",\n        \"payment_type\": \"direct_debit\",\n        \"service_provider\": \"gocardless\",\n        \"purpose\": \"cash\",\n        \"payment_schedule\": {\n            \"interval_unit\": \"monthly\",\n            \"interval\": 7,\n            \"date\": 1,\n            \"start_date\": \"2024-04-02T00:00:00.000Z\",\n            \"end_date\": \"2024-04-03T00:00:00.000Z\"\n        },\n        \"contribution_id\": \"RCB-GC-JSJ6709\",\n        \"service_provider_params\": {\n            \"status\": \"Pending service provider setup\",\n            \"reason\": \"One of your parameters was incorrectly typed\"\n        }\n    },\n    \"id\": \"952c7d0a-ecc6-4538-86f4-ad021f6855d0\",\n    \"ts\": 1683086449658,\n    \"resend\": true\n}\n```\n\n####  Recurring contribution authorization url received message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `recurring_contribution_authorization_url_received` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `notifications` |\n| payload.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status of the recurring contribution | |\n| payload.contribution_name <br><font size=\"2\" color=\"red\">Required</font>  | string | User given identifier for the contribution  | |\n| payload.pot_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Pot ID of investor to direct the payment | |\n| payload.investor_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Investor ID of the investor making the contribution | |\n| payload.amount <br><font size=\"2\" color=\"red\">Required</font>  | string | Amount as a numeral string with two decimal points | |\n| payload.sub_transaction_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Sub transaction type for recurring contribution | `Regular contribution`, `Regular contribution - non relievable`, `Regular contribution - Employer` |\n| payload.currency <br><font size=\"2\" color=\"red\">Required</font>  | string | Currency configured for the pot | |\n| payload.payment_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Type of payment | |\n| payload.service_provider <br><font size=\"2\" color=\"red\">Required</font> | string | Service provider managing the recurring payment subscription  | |\n| payload.purpose <br><font size=\"2\" color=\"red\">Required</font> | string | Purpose of the recurring contribution  | `cash`, `invest` |\n| payload.source_id | string | Only for payments intents for employer contributions made towards SIPP Accumulation Products | |\n| payload.payment_schedule <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on payment schedules   | |\n| payload.payment_schedule.interval_unit <br><font size=\"2\" color=\"red\">Required</font>  | string | Repeating interval unit of recurring payment  | `monthly` |\n| payload.payment_schedule.interval <br><font size=\"2\" color=\"red\">Required</font>  | number | Repeating interval of recurring payment  | |\n| payload.payment_schedule.date | number | Date the payment is expected to be triggered if frequency is monthly | |\n| payload.payment_schedule.start_date <br><font size=\"2\" color=\"red\">Required</font>  | string | Date to initiate the recurring payments  | |\n| payload.payment_schedule.end_date | string | Date to conclude the recurring payments, if count is not provided | |\n| payload.payment_schedule.count | number | No of recurring payments to trigger before concluding the payments, if an end date is not provided | |\n| payload.contribution_id <br><font size=\"2\" color=\"red\">Required</font>  | string | System generated unique id | |\n| payload.service_provider_params <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on service provider   | |\n| payload.service_provider_params.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status transitions depend on the service provider  | |\n| payload.service_provider_params.request_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Request ID used to create a contribution with the service provider  | |\n| payload.service_provider_params.authorization_url <br><font size=\"2\" color=\"red\">Required</font>  | string | Authorization URL sent by service provider to setup customer reference data and bank account information  | |\n\n##### Examples\n```json\n{\n    \"type\": \"recurring_contribution_rejected\",\n    \"ch\": \"notifications\",\n    \"payload\": {\n        \"status\": \"Pending\",\n        \"contribution_name\": \"Sanjali SIPP contribution\",\n        \"pot_id\": \"pot-XWL3805775\",\n        \"investor_id\": \"inv-NNO44399\",\n        \"amount\": \"1000\",\n        \"sub_transaction_type\": \"Regular contribution\",\n        \"currency\": \"GBP\",\n        \"payment_type\": \"direct_debit\",\n        \"service_provider\": \"gocardless\",\n        \"purpose\": \"cash\",\n        \"payment_schedule\": {\n            \"interval_unit\": \"monthly\",\n            \"interval\": 1,\n            \"start_date\": \"Thu Jun 01 2023 00:00:00 GMT+0000 (Coordinated Universal Time)\",\n            \"date\": 1,\n            \"count\": 10\n        },\n        \"financial_product_id\": \"sipp_accumulation\",\n        \"contribution_id\": \"RCB-GC-JDJ4807\",\n        \"service_provider_params\": {\n            \"status\": \"Pending service provider setup\",\n            \"request_id\": \"BRQ0003R0RBM2BK\",\n            \"authorization_url\": \"https://pay-sandbox.gocardless.com/billing/static/flow?id=BRF0001BM491H7NWGZ6W2Z5NMVV7GP4T\"\n        }\n    },\n    \"id\": \"852c7d0a-ecc6-4538-86f4-ad021f6855k0\",\n    \"ts\": 1684086449658,\n    \"resend\": true\n}\n```\n\n####  Recurring contribution resume message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `recurring_contribution_resumed` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `notifications` |\n| payload.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status of the recurring contribution | |\n| payload.contribution_name <br><font size=\"2\" color=\"red\">Required</font>  | string | User given identifier for the contribution  | |\n| payload.pot_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Pot ID of investor to direct the payment | |\n| payload.investor_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Investor ID of the investor making the contribution | |\n| payload.amount <br><font size=\"2\" color=\"red\">Required</font>  | string | Amount as a numeral string with two decimal points | |\n| payload.sub_transaction_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Sub transaction type for recurring contribution | `Regular contribution`, `Regular contribution - non relievable`, `Regular contribution - Employer` |\n| payload.currency <br><font size=\"2\" color=\"red\">Required</font>  | string | Currency configured for the pot | |\n| payload.payment_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Type of payment | |\n| payload.service_provider <br><font size=\"2\" color=\"red\">Required</font> | string | Service provider managing the recurring payment subscription  | |\n| payload.purpose <br><font size=\"2\" color=\"red\">Required</font> | string | Purpose of the recurring contribution  | `cash`, `invest` |\n| payload.source_id | string | Only for payments intents for employer contributions made towards SIPP Accumulation Products | |\n| payload.payment_schedule <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on payment schedules   | |\n| payload.payment_schedule.interval_unit <br><font size=\"2\" color=\"red\">Required</font>  | string | Repeating interval unit of recurring payment  | `monthly` |\n| payload.payment_schedule.interval <br><font size=\"2\" color=\"red\">Required</font>  | number | Repeating interval of recurring payment  | |\n| payload.payment_schedule.date | number | Date the payment is expected to be triggered if frequency is monthly | |\n| payload.payment_schedule.start_date <br><font size=\"2\" color=\"red\">Required</font>  | string | Date to initiate the recurring payments  | |\n| payload.payment_schedule.end_date | string | Date to conclude the recurring payments, if count is not provided | |\n| payload.payment_schedule.count | number | No of recurring payments to trigger before concluding the payments, if an end date is not provided | |\n| payload.contribution_id <br><font size=\"2\" color=\"red\">Required</font>  | string | System generated unique id | |\n| payload.service_provider_params <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on service provider   | |\n| payload.service_provider_params.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status transitions depend on the service provider  | |\n| payload.service_provider_params.reason <br><font size=\"2\" color=\"red\">Required</font>  | string | Reason for disabling/cancelling the contribution  | |\n\n##### Examples\n```json\n{\n    \"type\": \"recurring_contribution_resumed\",\n    \"ch\": \"notifications\",\n    \"payload\": {\n        \"status\": \"Active\",\n        \"contribution_name\": \"GIA contribution-1\",\n        \"pot_id\": \"pot-XWL3805770\",\n        \"investor_id\": \"inv-QRY29279\",\n        \"amount\": \"1000060.12\",\n        \"sub_transaction_type\": \"Regular contribution\",\n        \"currency\": \"GBP\",\n        \"payment_type\": \"direct_debit\",\n        \"service_provider\": \"gocardless\",\n        \"purpose\": \"cash\",\n        \"payment_schedule\": {\n            \"interval_unit\": \"monthly\",\n            \"interval\": 7,\n            \"date\": 1,\n            \"start_date\": \"2024-04-02T00:00:00.000Z\",\n            \"end_date\": \"2024-04-03T00:00:00.000Z\"\n        },\n        \"contribution_id\": \"RCB-GC-JSJ6709\",\n        \"service_provider_params\": {\n            \"status\": \"Subscription resumed\",\n            \"authorization_reference\" : \"EV0159P7DZB2P6\",\n            \"contribution_reference\" : \"BRQ00030E3DXA4P\",\n            \"request_id\" : \"BRF00014ZXYN5V4F05M90GZEQCARE84K\",\n            \"authorization_url\": \"https://authexample.gocardless-sandbox.com\"\n        }\n    },\n    \"id\": \"952c7d0a-ecc6-4538-86f4-ad021f6855d0\",\n    \"ts\": 1683086449658,\n    \"resend\": true\n}\n```\n\n####  Recurring contribution completion message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `recurring_contribution_finished` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `notifications` |\n| payload.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status of the recurring contribution | |\n| payload.contribution_name <br><font size=\"2\" color=\"red\">Required</font>  | string | User given identifier for the contribution  | |\n| payload.pot_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Pot ID of investor to direct the payment | |\n| payload.investor_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Investor ID of the investor making the contribution | |\n| payload.amount <br><font size=\"2\" color=\"red\">Required</font>  | string | Amount as a numeral string with two decimal points | |\n| payload.sub_transaction_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Sub transaction type for recurring contribution | `Regular contribution`, `Regular contribution - non relievable`, `Regular contribution - Employer` |\n| payload.currency <br><font size=\"2\" color=\"red\">Required</font>  | string | Currency configured for the pot | |\n| payload.payment_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Type of payment | |\n| payload.service_provider <br><font size=\"2\" color=\"red\">Required</font> | string | Service provider managing the recurring payment subscription  | |\n| payload.purpose <br><font size=\"2\" color=\"red\">Required</font> | string | Purpose of the recurring contribution  | `cash`, `invest` |\n| payload.source_id | string | Only for payments intents for employer contributions made towards SIPP Accumulation Products | |\n| payload.payment_schedule <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on payment schedules   | |\n| payload.payment_schedule.interval_unit <br><font size=\"2\" color=\"red\">Required</font>  | string | Repeating interval unit of recurring payment  | `monthly` |\n| payload.payment_schedule.interval <br><font size=\"2\" color=\"red\">Required</font>  | number | Repeating interval of recurring payment  | |\n| payload.payment_schedule.date | number | Date the payment is expected to be triggered if frequency is monthly | |\n| payload.payment_schedule.start_date <br><font size=\"2\" color=\"red\">Required</font>  | string | Date to initiate the recurring payments  | |\n| payload.payment_schedule.end_date | string | Date to conclude the recurring payments, if count is not provided | |\n| payload.payment_schedule.count | number | No of recurring payments to trigger before concluding the payments, if an end date is not provided | |\n| payload.contribution_id <br><font size=\"2\" color=\"red\">Required</font>  | string | System generated unique id | |\n| payload.service_provider_params <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on service provider   | |\n| payload.service_provider_params.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status transitions depend on the service provider  | |\n| payload.service_provider_params.reason <br><font size=\"2\" color=\"red\">Required</font>  | string | Reason for disabling/cancelling the contribution  | |\n\n##### Examples\n```json\n{\n    \"type\": \"recurring_contribution_finished\",\n    \"ch\": \"notifications\",\n    \"payload\": {\n        \"status\": \"Finished\",\n        \"contribution_name\": \"GIA contribution-1\",\n        \"pot_id\": \"pot-XWL3805770\",\n        \"investor_id\": \"inv-QRY29279\",\n        \"amount\": \"1000060.12\",\n        \"sub_transaction_type\": \"Regular contribution\",\n        \"currency\": \"GBP\",\n        \"payment_type\": \"direct_debit\",\n        \"service_provider\": \"gocardless\",\n        \"purpose\": \"cash\",\n        \"payment_schedule\": {\n            \"interval_unit\": \"monthly\",\n            \"interval\": 7,\n            \"date\": 1,\n            \"start_date\": \"2024-04-02T00:00:00.000Z\",\n            \"end_date\": \"2024-04-03T00:00:00.000Z\"\n        },\n        \"contribution_id\": \"RCB-GC-JSJ6709\",\n        \"service_provider_params\": {\n            \"status\": \"Subscription finished\",\n            \"authorization_reference\" : \"EV0159P7DZB2P6\",\n            \"contribution_reference\" : \"BRQ00030E3DXA4P\",\n            \"request_id\" : \"BRF00014ZXYN5V4F05M90GZEQCARE84K\",\n            \"authorization_url\": \"https://authexample.gocardless-sandbox.com\",\n            \"reason\" : \"The subscription has finished.\"\n        }\n    },\n    \"id\": \"952c7d0a-ecc6-4538-86f4-ad021f6855d0\",\n    \"ts\": 1683086449658,\n    \"resend\": true\n}\n```\n\n####  Recurring contribution update message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `recurring_contribution_updated` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `notifications` |\n| payload.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status of the recurring contribution | |\n| payload.contribution_name <br><font size=\"2\" color=\"red\">Required</font>  | string | User given identifier for the contribution  | |\n| payload.pot_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Pot ID of investor to direct the payment | |\n| payload.investor_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Investor ID of the investor making the contribution | |\n| payload.amount <br><font size=\"2\" color=\"red\">Required</font>  | string | Amount as a numeral string with two decimal points | |\n| payload.sub_transaction_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Sub transaction type for recurring contribution | `Regular contribution`, `Regular contribution - non relievable`, `Regular contribution - Employer` |\n| payload.currency <br><font size=\"2\" color=\"red\">Required</font>  | string | Currency configured for the pot | |\n| payload.payment_type <br><font size=\"2\" color=\"red\">Required</font>  | string | Type of payment | |\n| payload.service_provider <br><font size=\"2\" color=\"red\">Required</font> | string | Service provider managing the recurring payment subscription  | |\n| payload.purpose <br><font size=\"2\" color=\"red\">Required</font> | string | Purpose of the recurring contribution  | `cash`, `invest` |\n| payload.source_id | string | Only for payments intents for employer contributions made towards SIPP Accumulation Products | |\n| payload.payment_schedule <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on payment schedules   | |\n| payload.payment_schedule.interval_unit <br><font size=\"2\" color=\"red\">Required</font>  | string | Repeating interval unit of recurring payment  | `monthly` |\n| payload.payment_schedule.interval <br><font size=\"2\" color=\"red\">Required</font>  | number | Repeating interval of recurring payment  | |\n| payload.payment_schedule.date | number | Date the payment is expected to be triggered if frequency is monthly | |\n| payload.payment_schedule.start_date <br><font size=\"2\" color=\"red\">Required</font>  | string | Date to initiate the recurring payments  | |\n| payload.payment_schedule.end_date | string | Date to conclude the recurring payments, if count is not provided | |\n| payload.payment_schedule.count | number | No of recurring payments to trigger before concluding the payments, if an end date is not provided | |\n| payload.contribution_id <br><font size=\"2\" color=\"red\">Required</font>  | string | System generated unique id | |\n| payload.service_provider_params <br><font size=\"2\" color=\"red\">Required</font> | object | Parameters based on service provider   | |\n| payload.service_provider_params.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Status transitions depend on the service provider  | |\n| payload.service_provider_params.reason <br><font size=\"2\" color=\"red\">Required</font>  | string | Reason for disabling/cancelling the contribution  | |\n\n##### Examples\n```json\n{\n    \"type\": \"recurring_contribution_updated\",\n    \"ch\": \"notifications\",\n    \"payload\": {\n        \"status\": \"Active\",\n        \"contribution_name\": \"GIA contribution-1\",\n        \"pot_id\": \"pot-XWL3805770\",\n        \"investor_id\": \"inv-QRY29279\",\n        \"amount\": \"1000060.12\",\n        \"sub_transaction_type\": \"Regular contribution\",\n        \"currency\": \"GBP\",\n        \"payment_type\": \"direct_debit\",\n        \"service_provider\": \"gocardless\",\n        \"purpose\": \"cash\",\n        \"payment_schedule\": {\n            \"interval_unit\": \"monthly\",\n            \"interval\": 7,\n            \"date\": 1,\n            \"start_date\": \"2024-04-02T00:00:00.000Z\",\n            \"end_date\": \"2024-04-03T00:00:00.000Z\"\n        },\n        \"contribution_id\": \"RCB-GC-JSJ6709\",\n        \"service_provider_params\": {\n            \"status\": \"Mandate replaced\",\n            \"authorization_reference\" : \"EV1059P8HGJ6P6\",\n            \"contribution_reference\" : \"BRQ00030E3DXA4P\",\n            \"request_id\" : \"BRF00014ZXYN5V4F05M90GZEQCARE84K\",\n            \"authorization_url\": \"https://authexample.gocardless-sandbox.com\"\n        }\n    },\n    \"id\": \"952c7d0a-ecc6-4538-86f4-ad021f6855d0\",\n    \"ts\": 1683086449658,\n    \"resend\": true\n}\n```\n\n####  HMRC LISA investor creation failed message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `HMRC_LISA_investor_creation_failed` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `notifications` |\n| payload.investor_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Investor id of the investor account | |\n| payload.account_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Account id of the investor account  | |\n| payload.hmrc_data <br><font size=\"2\" color=\"red\">Required</font> | object | HMRC related data   | |\n| payload.hmrc_data.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Indicate the status of the LISA investor and investor account creation with HMRC  | |\n| payload.hmrc_data.reason <br><font size=\"2\" color=\"red\">Required</font>  | string | Reason for failure  | |\n\n##### Examples\n```json\n{\n    \"type\": \"HMRC_LISA_investor_creation_failed\",\n    \"ch\": \"notifications\",\n    \"payload\": {\n        \"investor_id\": \"inv-QRY29279\",\n        \"account_id\": \"LISAC1699158978930\",\n        \"hmrc_data\": {\n            \"status\": \"hmrc_investor_creation_failed\",\n            \"reason\": \"The HMRC request contains invalid or missing data\"\n        }\n    },\n    \"id\": \"952c7d0a-ecc6-4538-86f4-ad021f6855d0\",\n    \"ts\": 1683086449658,\n    \"resend\": true\n}\n```\n\n####  HMRC LISA account creation failed message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `HMRC_LISA_account_creation_failed` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `notifications` |\n| payload.investor_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Investor id of the investor account | |\n| payload.account_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Account id of the investor account  | |\n| payload.hmrc_data <br><font size=\"2\" color=\"red\">Required</font> | object | HMRC related data   | |\n| payload.hmrc_data.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Indicate the status of the LISA investor and investor account creation with HMRC  | |\n| payload.hmrc_data.reason <br><font size=\"2\" color=\"red\">Required</font>  | string | Reason for failure  | |\n\n##### Examples\n```json\n{\n    \"type\": \"HMRC_LISA_account_creation_failed\",\n    \"ch\": \"notifications\",\n    \"payload\": {\n        \"investor_id\": \"inv-QRY29279\",\n        \"account_id\": \"LISAC1699158978930\",\n        \"hmrc_data\": {\n            \"status\": \"hmrc_account_creation_failed\",\n            \"reason\": \"The HMRC request contains invalid or missing data\"\n        }\n    },\n    \"id\": \"952c7d0a-ecc6-4538-86f4-ad021f6855d0\",\n    \"ts\": 1683086449658,\n    \"resend\": true\n}\n```\n\n####  HMRC LISA account creation successful message\n##### Payload\n\t\t\t\n| Name   | Type   | Description | Accepted values | \n| ----------- | ----------- | ----------- | ----------- |\n| type <br><font size=\"2\" color=\"red\">Required</font>  | string | | `HMRC_LISA_account_creation_successful` |\n| ch <br><font size=\"2\" color=\"red\">Required</font>    | string  | | `notifications` |\n| payload.investor_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Investor id of the investor account | |\n| payload.account_id <br><font size=\"2\" color=\"red\">Required</font>  | string | Account id of the investor account  | |\n| payload.hmrc_data <br><font size=\"2\" color=\"red\">Required</font> | object | HMRC related data   | |\n| payload.hmrc_data.status <br><font size=\"2\" color=\"red\">Required</font>  | string | Indicate the status of the LISA investor and investor account creation with HMRC  | |\n| payload.hmrc_data.lisa_investor_reference <br><font size=\"2\" color=\"red\">Required</font>  | object | HMRC LISA investor reference  | |\n\n##### Examples\n```json\n{\n    \"type\": \"HMRC_LISA_account_creation_successful\",\n    \"ch\": \"notifications\",\n    \"payload\": {\n        \"investor_id\": \"inv-QRY29279\",\n        \"account_id\": \"LISAC1699158978930\",\n        \"hmrc_data\": {\n            \"status\": \"hmrc_account_creation_successful\",\n            \"lisa_investor_reference\": \"5305636328\" \n        }\n    },\n    \"id\": \"952c7d0a-ecc6-4538-86f4-ad021f6855d0\",\n    \"ts\": 1683086449658,\n    \"resend\": true\n}\n```"
  x-tagGroups:
    - name: Tenant
  x-api-status-urls: false
tags:
  - name: Test Methods
    description: >
      Test methods are used for easier testing of connectivity, keys and tokens.
      Since they are not tied to a speific functionality you can use them freely
  - name: Investors
    description: >-
      The Investor endpoint allows you to create investors, update investors and
      retrieve investor records in bulk or individually. If a KYC/AML service
      has been set-up through the system (e.g. Onfido), then the investor will
      be verified using this service. 


      When retrieving the investor, the following fields will provide
      information regarding the investor’s status that can be used for deciding
      on what subsequent investor action must be permitted.
       
      * dealing_status: Normally set to Active once KYC/AML passes, however may
      be independently set by administrators if required. 
       
      * kyc_aml_status - the status of the KYC/AML check. 
       
      * Status - ultimate status of the investor derived from dealing_status and
      kcy_aml_status.


      If the system is not set-up to manage the KYC/AML service then the wealth
      manager must specify the `kyc_aml_status` and `dealing_status` on investor
      creation and update. The `status` of the investor will be consider active
      only when the `kyc_aml_status : "clear"` and `dealing_status : "active"`
  - name: Pots, Holdings and Transactions
    description: >
      Pots allows a wealth manager to compartmentalise investments made by (or
      on behalf of) an investor to represent different savings goals, risk
      appetite and investment instructions (e.g. model portfolios). 

      An Investor can have multiple pots for a financial product (e.g within the
      General Investment Account, one pot could be to target a house purchase
      goal whereas another pot could target savings for school fees etc.). Each
      pot consists of cash,  investment product holdings, both cash and
      investments or nothing (empty pot - pending investments). 

      <!--Creating or updating a pot with a linked portfolio template -
      `portfolio_template_id`  will allow WealthOS to carry out actions such as
      automated investing based on portfolio, portfolio rebalancing etc. for a
      pot. 

      -->

      This end point also returns key information related to the pot (e.g.
      value, total holdings etc.) as well as transaction history for the pot.


      ### Current Holdings and Transaction History

      #### Current Holding

      * Cash : `investment_product_id` will be specified as `cash`. For cash
      holdings, `free_quantity` and `free_value` will return the cash that is
      settled and available, while `locked_quantity` and `locked_value`  returns
      the value of cash which is locked (i.e unsettled, ringfenced for a fee
      deduction etc.) and cannot be used.`total_quantity` and `total_value` will
      be the total of free and locked. 


      * Investment Products : For investment product holdings, 
      `total_quantity`  return the total number of units held of an investment
      product within the pot, `locked-quantity` returns the total number of unit
      which are locked (e.g. ringfenced to be sold) and `free-quantity` returns
      number of units available for trading. Value of the holdings are
      calculated using latest available price. So the formula to calculate the
      value of the investment products holdings will be `quantity`*`price`.


      #### Pending Transactions

      * Cash : `type : pending`,`direction : in` (if cash is inbound) or `out`
      (if cash is withdrawn - functionality not available yet).


      * Investment products : `type : pending`,`direction : in`(buy instruction)
      or `out` (sell instruction).


      #### Archived Transactions (historical)


      * Cash : `type = archived`, `direction= in` (if cash is inbound) or `out`
      (if cash is withdrawn - functionality not available yet) and `sub-type :
      "rejected" or "cancelled"`for a failed transaction, and `sub-type =
      "confirmed"or "settled"` for a successful transaction.  


      * Investment Products : `type = archived`, `direction= in` (buy
      instruction) or `out` (sell instruction) and `sub-type = "rejected"or
      "cancelled"` for a failed transaction, and `sub-type = "confirmed"or
      "settled"` for a successful transaction. 
  - name: Portfolio Templates
    description: >+
      A portfolio template captures how an investor’s cash (once transferred to
      a pot) should be automatically invested by the system. A portfolio
      template consists of a set of investment products and the ratios in which
      these products must be bought, once cleared cash is available to invest. 


      For example, a portfolio template ‘PT1’ has the following template


      Investment Product | Ratio

      -------------------|-------

      Investment Product A | 20%

      Investment Product B | 30%

      Investment Product C | 50%


      If GBP 100 is transferred to a pot linked to Portfolio template PT1, the
      following buy orders will be triggered


      * BUY Investment Product A for GBP 20

      * BUY Investment Product B for GBP 30

      * BUY Investment Product C for GBP 50


      ### Portfolio Creation


      Portfolio Templates can be created by the Wealth Manger (generic set of
      portfolio templates created in the system and a single template will be
      assigned to an Investor’s pot based on suitability - e.g. robo advisory) 


      <!-- If a Portfolio template is created by an investor then the request
      must have `owner : "investor"` and `investor_id` populated with the
      relevant investor ID.  -->


      The ratios of investment products within a portfolio template must add up
      to a 100% - if this is not the case, the system will reject the portfolio
      creation or update. 


      Once cleared cash is available in a pot, the system can be instructed to
      trigger investment product buy requests based on the portfolio template
      linked to the pot. 

  - name: Financial Products
    description: >-
      Financial Products are the tax wrapper investment vehicles offered by the
      Wealth Manager (e.g. General Investment Accounts, Stocks and Shares ISAs,
      SIPPs, LISAs etc.). 


      The Financial Products endpoint returns all financial products and their
      configurations setup by the Wealth Manager via the Admin UI.
  - name: Investment Products
    description: >-
      Investment products  (e.g. mutual funds, ETFs, stocks etc.) are bought and
      sold by the investor (or by the wealth manager on the investor’s behalf). 


      The Investment Products endpoint returns all the investment products that
      are offered by the wealth manager, as well as the current market price.
      The wealth manager must specify the universe of supported investment
      products via the Admin UI. 
  - name: Payments
    description: >-
      The Payments endpoint allows you to put cash into a specific pot in your
      account by sending a payment intent. This intent must capture the
      following information regarding the payment:


      * Details regarding payment such as the `amount` to collect and the
      `currency`

      * Supported `payment_type` (card payments, electronic fund transfers
      etc.).

      * Associated key information to track a payment (e.g. `pot_id`).

      * Intention of payment:
          * Cash into the pot only, do not invest (`purpose: "cash"`)
          * Invest based on the portfolio attached to the investor (`purpose: "invest"` and `investment_instructions` not populated)
          * Invest based on attached instructions (`purpose: "invest"` and `investment_instructions` populated). If the pot has a portfolio attached, then the priority will be given to investment instructions. If the investment instructions apply only for a propotion of money coming in, then the rest will be added as cash.

      <!-- If you have additional parameters to associate with a payment, you
      can define a custom object and include it under a top-level field of the
      request body with the value you used for `payment_type` as its field name.
      (e.g. `"stripe": {.....}`). -->

      Additionaly, if the `service_provider` is given as `"truelayer"` accept an
      extra object `service_provider_params` where you have to provide the
      `bank_account_id` as a key-value pair and you will recieve this object in
      response including the fields, `bank_account_id`, `payment_intent_id` and
      `hpp_url`. (e.g `"service_provider_params: {"bank_account_id":
      "ba-82faf049...", "payment_intent_id: 91aa9de...",
      "hpp_url":"https://..."}"`).


      For `"stripe"`, in the response, you will receive the 
      `payment_intent_id`, `client_secret` and `publishable_key` inside that
      additional object with the value you used for `payment_type` as its field
      name. (e.g. `"service_provider_params": {"payment_intent_id: 91aa9de...",
      "client_secret": "pi_XXXXX", "publishable_key": "pk_test_XXXXX", .....}`).


      These values will be used with the client library for each payment call
      for the following purposes.


      * `payment_intent_id` - to uniquely identify your payment intent

      * `client_secret` - The client secret of the PaymentIntent. Required if a
      publishable key is used to retrieve the source.

      * `publishable_key` - to uniquely identify your payment service account

      * `hpp_url` - The redirect URL for proceed with bank payment (only for
      Truelayer)
  - name: Recurring Contributions
    description: >-
      The recurring contribution endpoints allow a tenant to manage their
      investors regular contribution requests.
  - name: Transactions
    description: >
      The "Transactions" endpoint grouping encompasses various endpoints
      associated with transactions. This section includes a collection of
      endpoints that facilitate creation and retrieval of different types of
      transactions.


      A transaction to buy or sell an investment product can be specified in
      units (i.e. buy/sell n number of units of the investment product) or as a
      value (i.e. buy/sell up to n value of the investment product). Also, these
      endpoints support single or bulk buy/sell transactions.
  - name: Switch Instruction
    description: >-
      The Switch Instruction endpoints allow you to switch existing holdings
      (cash and investment products) to a new set of investment products via a
      single instruction. You can specify the holdings you want to sell along
      with a `mode` and `value` (e.g. number of units to be sold, total value of
      holding to be sold or % of holding to be sold) and the investment products
      you want to buy (using the proceeds of the sales and and/or free cash
      available in the pot). The buy instructions can also be specified with a
      `mode` and `value` (e.g. number of units to buy, total value of holding to
      be bought or % of proceeds to be used to buy specific investment
      product). 


      You can view the status of your switch instruction at any point through
      the API (both the overall 'parent' switch instruction as well as the
      individual 'child' buy/sell transactions).
  - name: Rebalance
    description: >-
      The rebalancing feature provides advisors and portfolio managers the
      ability to evaluate which pots have drifted significantly from their
      target portfolios, and trigger a rebalance execution for these pots to
      bring the holdings back to parity with the pot's target portfolio. Driven
      by a single rebalance request, the system completely orchestrates this
      multi-day buy/sell process across a host of different pots, with status
      updates being provided via API endpoints and web sockets.
  - name: Rates
    description: >-
      Wealth Managers require various types of rates (e.g. spot fx rates,
      interest rates) for valuations, currency conversations etc. 


      The Rates endpoint returns all the configured rate types along with the
      latest available rate. 
  - name: Fees
    description: >
      The Fees endpoints allow a wealth manager to manage fees in terms of
      creating and charging an external fee or retrieving information on fee
      configurations setup in the system for recurring fee computations.
  - name: Withdrawals
    description: >-
      The Withdrawal endpoint allows an investor to withdraw money from one of
      his/her pots.
  - name: Recurring Withdrawals
    description: >-
      The recurring withdrawal endpoints allow a tenant to manage regular
      withdrawals of investor pots. 
  - name: Utility
    description: >-
      The utility endpoint allows the Wealth Manager to upload information
      required by the system to support the daily operations (e.g. file uploads
      for daily jobs, calendar updates etc.)
  - name: Bank Accounts
    description: >-
      The Bank Account endpoint allows a wealth manager to create, update and
      retrieve the bank account details of an investor. An investor can have one
      or more bank accounts within the system and a default bank account should
      always be configured. 


      Every bank account has an account status that represents the `active` or
      `inactive` status of an account. Only `active` bank accounts can be used
      for any transactions in the system.


      Currently bank accounts can be created for investors and contributing
      employers. The ownership is reflected in the `bank_account_type` field.
  - name: Investor Accounts
    description: >-
      An investor account is designed to manage a group of pots attached to a
      single financial product. A user can maintain multiple accounts for a
      given financial product if the product regulations support this setup.
  - name: Projections
    description: >-
      The projection endpoint provides a projection of pension accounts.


      For SIPP Accumulation accounts, projection is provided for the end of the
      1st, 3rd, and 5th years and the retirement year by default. \

      For monthly drawdown, projection is provided for end of the 5th and 10th
      years and the year when investor’s age where the pension fund goes to zero
      by default. If it is not going to zero before investor ages 100 years,
      response will be `The pension will last beyond the 100th year`
  - name: SIPP Crystallisation
    description: The crystallisation endpoints allow a tenant to manage their drawdowns.
  - name: LISA Transactions
    description: >-
      The "LISA Transactions" section is tailored exclusively for the financial
      product Lifetime ISA (LISA). It includes a specialized set of endpoints
      designed to handle transactions related to LISA accounts' unique features
      and requirements.
  - name: Workplace Employers
    description: >-
      <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
      color:#9F6000;'>
          <span>
              <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                  <b>ⓘ</b> This feature is currently in BETA mode
              </p>
          </span>
      </div>


      Workplace employers are an entity where organizations can create workplace
      employers and manage them.


      This API endpoint allows you to create, update, and retrieve workplace
      employers. Additionally, it provides the capability to view the employees
      (investors) attached to a particular workplace employer.
servers:
  - url: https://web_host_name
components:
  schemas:
    DefaultError:
      required:
        - message
      properties:
        error_code:
          description: Optional error code
          type: string
        message:
          description: Human readable description of the error
          type: string
    BadRequestError:
      required:
        - message
      properties:
        error_code:
          description: Optional error code
          type: string
        message:
          description: Human readable description of the error
          type: string
        status:
          description: Current status of the original request
          type: string
          enum:
            - PROCESSING
            - COMPLETE
        response:
          description: Stringified original response body if status is `COMPLETE`
          type: object
    MultipleBadRequestError:
      properties:
        error_code:
          description: Optional error code
          type: string
        message:
          description: >-
            Human readable description of the error. Will be populated when a
            high level validation fails
          type: string
        results:
          description: Will be populated when validations fail for creation instructions
          type: array
        status:
          description: Current status of the original request
          type: string
          enum:
            - PROCESSING
            - COMPLETE
        response:
          description: Stringified original response body if status is `COMPLETE`
          type: object
    Investor:
      title: Root Type for Investor
      description: JSON for the Investor resource type
      required:
        - investor_id
        - first_name
        - last_name
        - nationality
        - tax_id
        - address
        - tax_residency_compliant
        - date_of_birth
        - kyc_aml_status
        - dealing_status
        - kyc_aml_status_last_updated
        - status
        - reference_version
        - created_at
        - updated_at
      properties:
        investor_id:
          type: string
          maxLength: 64
          example: inv-XUT11265
        title:
          type: string
          example: Mr.
        gender:
          type: string
          example: male
        first_name:
          type: string
          maxLength: 100
          example: David
        last_name:
          type: string
          minLength: 2
          maxLength: 100
          example: Brown
        status:
          type: string
          enum:
            - kyc_pending
            - kyc_failed
            - inactive
            - active
          readOnly: true
          example: kyc_pending
        email:
          type: string
          maxLength: 100
          example: davidbrown@gmail.com
        mobile_number:
          type: string
          maxLength: 16
          example: '+441234567890'
        home_number:
          type: string
          maxLength: 16
          example: '+441234587830'
        office_number:
          type: string
          maxLength: 16
          example: '+442072343456'
        nationality:
          type: string
          description: 3 character country code inline with ISO 3166-1 alpha-3
          minLength: 3
          maxLength: 3
          example: GBR
        tax_id:
          type: string
          example: AB123456C
        kyc_aml_status:
          type: string
          enum:
            - submitted
            - kyc_failed_error
            - pending
            - clear
            - not_started
          default: not_started
          example: not_started
        dealing_status:
          type: string
          enum:
            - inactive
            - active
          default: inactive
          example: inactive
        id_numbers:
          type: array
          items:
            type: object
            properties:
              id_type:
                type: string
              id_number:
                type: string
            required:
              - id_type
              - id_number
          example:
            - id_type: passport
              id_number: '2324839048381'
        address:
          type: object
          properties:
            postal_code:
              type: string
              example: S2 2DF
            address_line:
              type: string
              nullable: true
              example: '14'
            street_name:
              type: string
              nullable: true
              example: Tottenham Court Road
            city:
              type: string
              nullable: true
              example: London
            state:
              type: string
              nullable: true
              example: England
            country:
              type: string
              description: 3 character country code inline with ISO 3166-1 alpha-3
              minLength: 3
              maxLength: 3
              example: GBR
          required:
            - postal_code
            - country
        mifid_tax_id:
          type: string
          example: '2382392274'
        tax_residency_compliant:
          type: boolean
          example: true
        date_of_birth:
          type: string
          format: date
          description: YYYY-MM-DD
          example: '1990-12-20'
        kyc_aml_status_last_updated:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
        bank_accounts:
          type: array
          description: Array of bank account IDs
          items:
            type: string
            example: ba-bc00c28f-b3fc-42b7
        retirement_age:
          type: number
          description: Intended retirement age of the investor
          example: 60
        tax_residence:
          type: string
          description: >-
            Residence of the investor for tax purposes. (for example, to claim
            relief at source) GB-ENG=England GB-NIR=Northern Ireland
            GB-SCT=Scotland GB-WLS=Wales
          enum:
            - GB-ENG
            - GB-NIR
            - GB-SCT
            - GB-WLS
          example: GB-ENG
        employment_status:
          type: string
          description: Status of an investor best describes their personal circumstances.
          enum:
            - employed
            - self_employed
            - pensioner
            - child_under_16
            - in_full_time_education
            - unemployed
            - caring_for_a_person_over_16
            - caring_for_a_person_under_16
            - other
          example: employed
        mpaa_triggered:
          type: boolean
          description: >-
            Whether the investor has triggered the Money Purchase Annual
            Allowance.
          example: true
        mpaa_triggered_date:
          type: string
          description: >-
            Date of triggering the Money Purchase Annual Allowance. It is
            required if mpaa_triggered is true.
          format: date
          example: '2023-01-30'
        workplace_employers:
          type: array
          description: >-
            Unique IDs of workplace employers who are contributing to the
            workplace pension of the investor.
          items:
            type: string
            example: wem-AHY58878
        lta_protection_details:
          type: array
          description: >-
            Additional details of the lifetime allowance protections of the
            investor
          items:
            type: object
            properties:
              lta_protection_type:
                type: string
                enum:
                  - primary
                  - enhanced
                  - fp12
                  - fp14
                  - ip14
                  - fp16
                  - ip16
              lta_primary_protection_factor:
                type: string
                description: Required only when the lta_protection_type is primary
              lta_individual_protection_amount:
                type: string
                description: Required when the lta_protection_type is ip14 or ip16.
              lta_protection_notification_number:
                type: string
                description: Required when the lta_protection_type is fp16 or ip16.
              lta_protection_scheme_administrator_reference:
                type: string
                description: Required when the lta_protection_type is fp16 or ip16.
            required:
              - lta_protection_type
          example:
            - lta_protection_type: primary
              lta_primary_protection_factor: '20.00'
            - lta_protection_type: fp14
        expression_of_wish:
          type: object
          description: Beneficiary and nominee list of the expression of wish.
          properties:
            sipp_beneficiaries:
              type: array
              items:
                type: object
                properties:
                  title:
                    type: string
                  first_name:
                    type: string
                    maxLength: 100
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                  address:
                    type: string
                  tax_id:
                    type: string
                  phone_number:
                    type: string
                  email:
                    type: string
                  percentage:
                    type: string
                required:
                  - first_name
                  - last_name
                  - address
                  - percentage
              example:
                - title: Mr.
                  first_name: William
                  last_name: Smith
                  address: 13 Park Row,Edinburgh, United Kingdom
                  tax_id: AB123956P
                  phone_number: '+441332960321'
                  email: davidbrown@gmail.com
                  percentage: '75.00'
                - title: Miss.
                  first_name: Jessica
                  last_name: Smith
                  address: 14 Park Row,Edinburgh, United Kingdom
                  tax_id: KL123956M
                  phone_number: '+441630960345'
                  email: jessicasmith@gmail.com
                  percentage: '25.00'
            sipp_nominees:
              type: array
              items:
                type: object
                properties:
                  title:
                    type: string
                  first_name:
                    type: string
                    maxLength: 100
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                  address:
                    type: string
                  tax_id:
                    type: string
                  phone_number:
                    type: string
                  email:
                    type: string
                  percentage:
                    type: string
                required:
                  - first_name
                  - last_name
                  - address
                  - percentage
              example:
                - title: Mr.
                  first_name: James
                  last_name: Brown
                  address: 87 Colorado Way,Richmond, United Kingdom
                  tax_id: XY123956Z
                  phone_number: '+441630960322'
                  email: jamesbrown@gmail.com
                  percentage: '50.00'
                - title: Mrs.
                  first_name: Emily
                  last_name: Brown
                  address: 4 Baldock Street, Newtown, United Kingdom
                  tax_id: SY123956P
                  phone_number: '+441615960345'
                  email: emilybrown@gmail.com
                  percentage: '50.00'
        reference_version:
          type: integer
          example: 1
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
    Greeting:
      required:
        - tenant
        - message
        - members
      properties:
        tenant:
          type: string
        members:
          type: array
          items:
            type: string
        message:
          type: string
      example:
        tenant: wos
        members:
          - Leonardo
          - Michelangelo
          - Donatello
          - Raphael
        message: Welcome to WOS world
    schemas-Investor:
      title: Root Type for Investor
      description: JSON for the Investor resource type
      required:
        - investor_id
        - first_name
        - last_name
        - nationality
        - tax_id
        - address
        - tax_residency_compliant
        - date_of_birth
        - kyc_aml_status
        - dealing_status
        - kyc_aml_status_last_updated
        - status
        - reference_version
        - created_at
        - updated_at
      properties:
        investor_id:
          type: string
          maxLength: 64
          example: inv-XUT11265
        title:
          type: string
          example: Mr.
        gender:
          type: string
          example: male
        first_name:
          type: string
          maxLength: 100
          example: David
        last_name:
          type: string
          minLength: 2
          maxLength: 100
          example: Brown
        status:
          type: string
          enum:
            - kyc_pending
            - kyc_failed
            - inactive
            - active
          readOnly: true
          example: kyc_pending
        email:
          type: string
          maxLength: 100
          example: davidbrown@gmail.com
        mobile_number:
          type: string
          maxLength: 16
          example: '+441234567890'
        home_number:
          type: string
          maxLength: 16
          example: '+441234587830'
        office_number:
          type: string
          maxLength: 16
          example: '+442072343456'
        nationality:
          type: string
          description: 3 character country code inline with ISO 3166-1 alpha-3
          minLength: 3
          maxLength: 3
          example: GBR
        tax_id:
          type: string
          example: AB123456C
        kyc_aml_status:
          type: string
          enum:
            - submitted
            - kyc_failed_error
            - pending
            - clear
            - not_started
          default: not_started
          example: not_started
        dealing_status:
          type: string
          enum:
            - inactive
            - active
          default: inactive
          example: inactive
        id_numbers:
          type: array
          items:
            type: object
            properties:
              id_type:
                type: string
              id_number:
                type: string
            required:
              - id_type
              - id_number
          example:
            - id_type: passport
              id_number: '2324839048381'
        address:
          type: object
          properties:
            postal_code:
              type: string
              example: S2 2DF
            address_line:
              type: string
              nullable: true
              example: '14'
            street_name:
              type: string
              nullable: true
              example: Tottenham Court Road
            city:
              type: string
              nullable: true
              example: London
            state:
              type: string
              nullable: true
              example: England
            country:
              type: string
              description: 3 character country code inline with ISO 3166-1 alpha-3
              minLength: 3
              maxLength: 3
              example: GBR
          required:
            - postal_code
            - country
        mifid_tax_id:
          type: string
          example: '2382392274'
        tax_residency_compliant:
          type: boolean
          example: true
        date_of_birth:
          type: string
          format: date
          description: YYYY-MM-DD
          example: '1990-12-20'
        kyc_aml_status_last_updated:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
        bank_accounts:
          type: array
          description: Array of bank account IDs
          items:
            type: string
            example: ba-bc00c28f-b3fc-42b7
        retirement_age:
          type: number
          description: Intended retirement age of the investor
          example: 60
        tax_residence:
          type: string
          description: >-
            Residence of the investor for tax purposes. (for example, to claim
            relief at source) GB-ENG=England GB-NIR=Northern Ireland
            GB-SCT=Scotland GB-WLS=Wales
          enum:
            - GB-ENG
            - GB-NIR
            - GB-SCT
            - GB-WLS
          example: GB-ENG
        employment_status:
          type: string
          description: Status of an investor best describes their personal circumstances.
          enum:
            - employed
            - self_employed
            - pensioner
            - child_under_16
            - in_full_time_education
            - unemployed
            - caring_for_a_person_over_16
            - caring_for_a_person_under_16
            - other
          example: employed
        mpaa_triggered:
          type: boolean
          description: >-
            Whether the investor has triggered the Money Purchase Annual
            Allowance.
          example: true
        mpaa_triggered_date:
          type: string
          description: >-
            Date of triggering the Money Purchase Annual Allowance. It is
            required if mpaa_triggered is true.
          format: date
          example: '2023-01-30'
        workplace_employers:
          type: array
          description: >-
            Unique IDs of workplace employers who are contributing to the
            workplace pension of the investor.
          items:
            type: string
            example: wem-AHY58878
        lta_protection_details:
          type: array
          description: >-
            Additional details of the lifetime allowance protections of the
            investor
          items:
            type: object
            properties:
              lta_protection_type:
                type: string
                enum:
                  - primary
                  - enhanced
                  - fp12
                  - fp14
                  - ip14
                  - fp16
                  - ip16
              lta_primary_protection_factor:
                type: string
                description: Required only when the lta_protection_type is primary
              lta_individual_protection_amount:
                type: string
                description: Required when the lta_protection_type is ip14 or ip16.
              lta_protection_notification_number:
                type: string
                description: Required when the lta_protection_type is fp16 or ip16.
              lta_protection_scheme_administrator_reference:
                type: string
                description: Required when the lta_protection_type is fp16 or ip16.
            required:
              - lta_protection_type
          example:
            - lta_protection_type: primary
              lta_primary_protection_factor: '20.00'
            - lta_protection_type: fp14
        expression_of_wish:
          type: object
          description: Beneficiary and nominee list of the expression of wish.
          properties:
            sipp_beneficiaries:
              type: array
              items:
                type: object
                properties:
                  title:
                    type: string
                  first_name:
                    type: string
                    maxLength: 100
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                  address:
                    type: string
                  tax_id:
                    type: string
                  phone_number:
                    type: string
                  email:
                    type: string
                  percentage:
                    type: string
                required:
                  - first_name
                  - last_name
                  - address
                  - percentage
              example:
                - title: Mr.
                  first_name: William
                  last_name: Smith
                  address: 13 Park Row,Edinburgh, United Kingdom
                  tax_id: AB123956P
                  phone_number: '+441332960321'
                  email: davidbrown@gmail.com
                  percentage: '75.00'
                - title: Miss.
                  first_name: Jessica
                  last_name: Smith
                  address: 14 Park Row,Edinburgh, United Kingdom
                  tax_id: KL123956M
                  phone_number: '+441630960345'
                  email: jessicasmith@gmail.com
                  percentage: '25.00'
            sipp_nominees:
              type: array
              items:
                type: object
                properties:
                  title:
                    type: string
                  first_name:
                    type: string
                    maxLength: 100
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                  address:
                    type: string
                  tax_id:
                    type: string
                  phone_number:
                    type: string
                  email:
                    type: string
                  percentage:
                    type: string
                required:
                  - first_name
                  - last_name
                  - address
                  - percentage
              example:
                - title: Mr.
                  first_name: James
                  last_name: Brown
                  address: 87 Colorado Way,Richmond, United Kingdom
                  tax_id: XY123956Z
                  phone_number: '+441630960322'
                  email: jamesbrown@gmail.com
                  percentage: '50.00'
                - title: Mrs.
                  first_name: Emily
                  last_name: Brown
                  address: 4 Baldock Street, Newtown, United Kingdom
                  tax_id: SY123956P
                  phone_number: '+441615960345'
                  email: emilybrown@gmail.com
                  percentage: '50.00'
        reference_version:
          type: integer
          example: 1
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
    Investors:
      description: Array of investors
      required:
        - investors
        - next_page_available
      type: object
      properties:
        investors:
          type: array
          items:
            title: Root Type for Investor
            description: JSON for the Investor resource type
            required:
              - investor_id
              - first_name
              - last_name
              - nationality
              - tax_id
              - address
              - tax_residency_compliant
              - date_of_birth
              - kyc_aml_status
              - dealing_status
              - kyc_aml_status_last_updated
              - status
              - reference_version
              - created_at
              - updated_at
            properties:
              investor_id:
                type: string
                maxLength: 64
                example: inv-XUT11265
              title:
                type: string
                example: Mr.
              gender:
                type: string
                example: male
              first_name:
                type: string
                maxLength: 100
                example: David
              last_name:
                type: string
                minLength: 2
                maxLength: 100
                example: Brown
              status:
                type: string
                enum:
                  - kyc_pending
                  - kyc_failed
                  - inactive
                  - active
                readOnly: true
                example: kyc_pending
              email:
                type: string
                maxLength: 100
                example: davidbrown@gmail.com
              mobile_number:
                type: string
                maxLength: 16
                example: '+441234567890'
              home_number:
                type: string
                maxLength: 16
                example: '+441234587830'
              office_number:
                type: string
                maxLength: 16
                example: '+442072343456'
              nationality:
                type: string
                description: 3 character country code inline with ISO 3166-1 alpha-3
                minLength: 3
                maxLength: 3
                example: GBR
              tax_id:
                type: string
                example: AB123456C
              kyc_aml_status:
                type: string
                enum:
                  - submitted
                  - kyc_failed_error
                  - pending
                  - clear
                  - not_started
                default: not_started
                example: not_started
              dealing_status:
                type: string
                enum:
                  - inactive
                  - active
                default: inactive
                example: inactive
              id_numbers:
                type: array
                items:
                  type: object
                  properties:
                    id_type:
                      type: string
                    id_number:
                      type: string
                  required:
                    - id_type
                    - id_number
                example:
                  - id_type: passport
                    id_number: '2324839048381'
              address:
                type: object
                properties:
                  postal_code:
                    type: string
                    example: S2 2DF
                  address_line:
                    type: string
                    nullable: true
                    example: '14'
                  street_name:
                    type: string
                    nullable: true
                    example: Tottenham Court Road
                  city:
                    type: string
                    nullable: true
                    example: London
                  state:
                    type: string
                    nullable: true
                    example: England
                  country:
                    type: string
                    description: 3 character country code inline with ISO 3166-1 alpha-3
                    minLength: 3
                    maxLength: 3
                    example: GBR
                required:
                  - postal_code
                  - country
              mifid_tax_id:
                type: string
                example: '2382392274'
              tax_residency_compliant:
                type: boolean
                example: true
              date_of_birth:
                type: string
                format: date
                description: YYYY-MM-DD
                example: '1990-12-20'
              kyc_aml_status_last_updated:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-10T07:36:05.884Z'
              bank_accounts:
                type: array
                description: Array of bank account IDs
                items:
                  type: string
                  example: ba-bc00c28f-b3fc-42b7
              retirement_age:
                type: number
                description: Intended retirement age of the investor
                example: 60
              tax_residence:
                type: string
                description: >-
                  Residence of the investor for tax purposes. (for example, to
                  claim relief at source) GB-ENG=England GB-NIR=Northern Ireland
                  GB-SCT=Scotland GB-WLS=Wales
                enum:
                  - GB-ENG
                  - GB-NIR
                  - GB-SCT
                  - GB-WLS
                example: GB-ENG
              employment_status:
                type: string
                description: >-
                  Status of an investor best describes their personal
                  circumstances.
                enum:
                  - employed
                  - self_employed
                  - pensioner
                  - child_under_16
                  - in_full_time_education
                  - unemployed
                  - caring_for_a_person_over_16
                  - caring_for_a_person_under_16
                  - other
                example: employed
              mpaa_triggered:
                type: boolean
                description: >-
                  Whether the investor has triggered the Money Purchase Annual
                  Allowance.
                example: true
              mpaa_triggered_date:
                type: string
                description: >-
                  Date of triggering the Money Purchase Annual Allowance. It is
                  required if mpaa_triggered is true.
                format: date
                example: '2023-01-30'
              workplace_employers:
                type: array
                description: >-
                  Unique IDs of workplace employers who are contributing to the
                  workplace pension of the investor.
                items:
                  type: string
                  example: wem-AHY58878
              lta_protection_details:
                type: array
                description: >-
                  Additional details of the lifetime allowance protections of
                  the investor
                items:
                  type: object
                  properties:
                    lta_protection_type:
                      type: string
                      enum:
                        - primary
                        - enhanced
                        - fp12
                        - fp14
                        - ip14
                        - fp16
                        - ip16
                    lta_primary_protection_factor:
                      type: string
                      description: Required only when the lta_protection_type is primary
                    lta_individual_protection_amount:
                      type: string
                      description: Required when the lta_protection_type is ip14 or ip16.
                    lta_protection_notification_number:
                      type: string
                      description: Required when the lta_protection_type is fp16 or ip16.
                    lta_protection_scheme_administrator_reference:
                      type: string
                      description: Required when the lta_protection_type is fp16 or ip16.
                  required:
                    - lta_protection_type
                example:
                  - lta_protection_type: primary
                    lta_primary_protection_factor: '20.00'
                  - lta_protection_type: fp14
              expression_of_wish:
                type: object
                description: Beneficiary and nominee list of the expression of wish.
                properties:
                  sipp_beneficiaries:
                    type: array
                    items:
                      type: object
                      properties:
                        title:
                          type: string
                        first_name:
                          type: string
                          maxLength: 100
                        last_name:
                          type: string
                          minLength: 2
                          maxLength: 100
                        address:
                          type: string
                        tax_id:
                          type: string
                        phone_number:
                          type: string
                        email:
                          type: string
                        percentage:
                          type: string
                      required:
                        - first_name
                        - last_name
                        - address
                        - percentage
                    example:
                      - title: Mr.
                        first_name: William
                        last_name: Smith
                        address: 13 Park Row,Edinburgh, United Kingdom
                        tax_id: AB123956P
                        phone_number: '+441332960321'
                        email: davidbrown@gmail.com
                        percentage: '75.00'
                      - title: Miss.
                        first_name: Jessica
                        last_name: Smith
                        address: 14 Park Row,Edinburgh, United Kingdom
                        tax_id: KL123956M
                        phone_number: '+441630960345'
                        email: jessicasmith@gmail.com
                        percentage: '25.00'
                  sipp_nominees:
                    type: array
                    items:
                      type: object
                      properties:
                        title:
                          type: string
                        first_name:
                          type: string
                          maxLength: 100
                        last_name:
                          type: string
                          minLength: 2
                          maxLength: 100
                        address:
                          type: string
                        tax_id:
                          type: string
                        phone_number:
                          type: string
                        email:
                          type: string
                        percentage:
                          type: string
                      required:
                        - first_name
                        - last_name
                        - address
                        - percentage
                    example:
                      - title: Mr.
                        first_name: James
                        last_name: Brown
                        address: 87 Colorado Way,Richmond, United Kingdom
                        tax_id: XY123956Z
                        phone_number: '+441630960322'
                        email: jamesbrown@gmail.com
                        percentage: '50.00'
                      - title: Mrs.
                        first_name: Emily
                        last_name: Brown
                        address: 4 Baldock Street, Newtown, United Kingdom
                        tax_id: SY123956P
                        phone_number: '+441615960345'
                        email: emilybrown@gmail.com
                        percentage: '50.00'
              reference_version:
                type: integer
                example: 1
                readOnly: true
              created_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-08T07:36:05.884Z'
              updated_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-10T07:36:05.884Z'
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    BankAccount:
      required:
        - account_name
        - default_account
        - bank_account_number
      properties:
        account_name:
          type: string
          maxLength: 100
          example: David Brown
        default_account:
          type: string
          enum:
            - 'yes'
            - 'no'
          description: Only one account should be the default
          example: 'yes'
        bank_account_number:
          type: string
          minLength: 6
          maxLength: 8
          description: Unique for the investor
          example: '12345678'
        account_status:
          type: string
          enum:
            - active
            - inactive
          description: If not populated, will be defaulted to inactive
          example: active
        sort_code:
          type: string
          minLength: 6
          maxLength: 8
          example: '123456'
          description: Mandatory if region is UK
        building_society_roll_number:
          type: string
          minLength: 1
          maxLength: 18
          example: '12345672'
    InvestorRequest:
      title: Root Type for Investor creation request
      description: JSON for the Investor creation request resource type
      required:
        - first_name
        - last_name
        - nationality
        - tax_id
        - address
        - tax_residency_compliant
        - date_of_birth
      properties:
        title:
          type: string
          example: Mr.
        gender:
          type: string
          example: male
        first_name:
          type: string
          maxLength: 100
          example: David
        last_name:
          type: string
          minLength: 2
          maxLength: 100
          example: Brown
        status:
          type: string
          enum:
            - kyc_pending
            - kyc_failed
            - inactive
            - active
          readOnly: true
          example: kyc_pending
        email:
          type: string
          maxLength: 100
          example: davidbrown@gmail.com
        mobile_number:
          type: string
          maxLength: 16
          example: '+441234567890'
        home_number:
          type: string
          maxLength: 16
          example: '+441234587830'
        office_number:
          type: string
          maxLength: 16
          example: '+442072343456'
        nationality:
          type: string
          description: 3 character country code inline with ISO 3166-1 alpha-3
          minLength: 3
          maxLength: 3
          example: GBR
        tax_id:
          type: string
          example: AB123456C
        kyc_aml_status:
          type: string
          enum:
            - submitted
            - kyc_failed_error
            - pending
            - clear
            - not_started
          default: not_started
          example: not_started
        dealing_status:
          type: string
          enum:
            - inactive
            - active
          default: inactive
          example: inactive
        id_numbers:
          type: array
          items:
            type: object
            properties:
              id_type:
                type: string
              id_number:
                type: string
            required:
              - id_type
              - id_number
          example:
            - id_type: passport
              id_number: '2324839048381'
        address:
          type: object
          properties:
            postal_code:
              type: string
              example: S2 2DF
            address_line:
              type: string
              nullable: true
              example: '14'
            street_name:
              type: string
              nullable: true
              example: Tottenham Court Road
            city:
              type: string
              nullable: true
              example: London
            state:
              type: string
              nullable: true
              example: England
            country:
              type: string
              description: 3 character country code inline with ISO 3166-1 alpha-3
              minLength: 3
              maxLength: 3
              example: GBR
          required:
            - postal_code
            - country
        mifid_tax_id:
          type: string
          example: '2382392274'
        tax_residency_compliant:
          type: boolean
          example: true
        date_of_birth:
          type: string
          format: date
          description: YYYY-MM-DD
          example: '1990-12-20'
        retirement_age:
          type: number
          description: Intended retirement age of the investor.
          example: 60
        tax_residence:
          type: string
          description: >-
            Residence of the investor for tax purposes. (for example, to claim
            relief at source) GB-ENG=England GB-NIR=Northern Ireland
            GB-SCT=Scotland GB-WLS=Wales.
          enum:
            - GB-ENG
            - GB-NIR
            - GB-SCT
            - GB-WLS
          example: GB-ENG
        employment_status:
          type: string
          description: Status of an investor best describes their personal circumstances.
          enum:
            - employed
            - self_employed
            - pensioner
            - child_under_16
            - in_full_time_education
            - unemployed
            - caring_for_a_person_over_16
            - caring_for_a_person_under_16
            - other
          example: employed
        mpaa_triggered:
          type: boolean
          description: >-
            Whether the investor has triggered the Money Purchase Annual
            Allowance.
          example: true
        mpaa_triggered_date:
          type: string
          description: >-
            Date of triggering the Money Purchase Annual Allowance. This is only
            required if mpaa_triggered is true.The date format should be
            YYYY-MM-DD.
          format: date
          example: '2023-01-30'
        workplace_employers:
          type: array
          description: >-
            Unique IDs of workplace employers who are contributing to the
            workplace pension of the investor.
          items:
            type: string
            example: wem-AHY58878
        lta_protection_details:
          type: array
          description: >-
            Additional details of the lifetime allowance protections of the
            investor.
          items:
            type: object
            properties:
              lta_protection_type:
                type: string
                description: >-
                  primary=Primary protection, enhanced=Enhanced protection,
                  fp12=Fixed protection 2012, fp14=Fixed protection 2014,
                  fp16=Fixed protection 2016, ip14=Individual protection 2014,
                  ip16=Individual protection 2016
                enum:
                  - primary
                  - enhanced
                  - fp12
                  - fp14
                  - ip14
                  - fp16
                  - ip16
              lta_primary_protection_factor:
                type: string
                description: >-
                  Primary protection factor of the investor. Required only when
                  the lta_protection_type is primary.
              lta_individual_protection_amount:
                type: string
                description: >-
                  Protected lifetime allowance of the investor. Required when
                  the lta_protection_type is ip14 or ip16.
              lta_protection_notification_number:
                type: string
                description: >-
                  Protection notification number issued by HMRC. Required for
                  protection from 2016 onwards. Required when the
                  lta_protection_type is fp16 or ip16.
              lta_protection_scheme_administrator_reference:
                type: string
                description: >-
                  Scheme administrator reference issued by HMRC. Required for
                  protection from 2016 onwards. Required when the
                  lta_protection_type is fp16 or ip16.
            required:
              - lta_protection_type
          example:
            - lta_protection_type: primary
              lta_primary_protection_factor: '20.00'
            - lta_protection_type: fp14
        expression_of_wish:
          type: object
          description: Beneficiary and nominee list of the expression of wish.
          properties:
            sipp_beneficiaries:
              type: array
              description: Beneficiaries list of the expression of wish
              items:
                type: object
                properties:
                  title:
                    type: string
                  first_name:
                    type: string
                    maxLength: 100
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                  address:
                    type: string
                  tax_id:
                    type: string
                  phone_number:
                    type: string
                  email:
                    type: string
                  percentage:
                    type: string
                    description: >-
                      Percentage of assets that will be allocated to the
                      beneficiary
                required:
                  - first_name
                  - last_name
                  - address
                  - percentage
              example:
                - title: Mr.
                  first_name: William
                  last_name: Smith
                  address: 13 Park Row,Edinburgh, United Kingdom
                  tax_id: AB123956P
                  phone_number: '+441332960321'
                  email: davidbrown@gmail.com
                  percentage: '75.00'
                - title: Miss.
                  first_name: Jessica
                  last_name: Smith
                  address: 14 Park Row,Edinburgh, United Kingdom
                  tax_id: KL123956M
                  phone_number: '+441630960345'
                  email: jessicasmith@gmail.com
                  percentage: '25.00'
            sipp_nominees:
              type: array
              description: Nominees list of the expression of wish
              items:
                type: object
                properties:
                  title:
                    type: string
                  first_name:
                    type: string
                    maxLength: 100
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                  address:
                    type: string
                  tax_id:
                    type: string
                  phone_number:
                    type: string
                  email:
                    type: string
                  percentage:
                    type: string
                    description: Percentage of assets that will be allocated to the nominee
                required:
                  - first_name
                  - last_name
                  - address
                  - percentage
              example:
                - title: Mr.
                  first_name: James
                  last_name: Brown
                  address: 87 Colorado Way,Richmond, United Kingdom
                  tax_id: XY123956Z
                  phone_number: '+441630960322'
                  email: jamesbrown@gmail.com
                  percentage: '50.00'
                - title: Mrs.
                  first_name: Emily
                  last_name: Brown
                  address: 4 Baldock Street, Newtown, United Kingdom
                  tax_id: SY123956P
                  phone_number: '+441615960345'
                  email: emilybrown@gmail.com
                  percentage: '50.00'
        bank_accounts:
          type: array
          description: Allow to create only one bank account when creating a new investor.
          items:
            required:
              - account_name
              - default_account
              - bank_account_number
            properties:
              account_name:
                type: string
                maxLength: 100
                example: David Brown
              default_account:
                type: string
                enum:
                  - 'yes'
                  - 'no'
                description: Only one account should be the default
                example: 'yes'
              bank_account_number:
                type: string
                minLength: 6
                maxLength: 8
                description: Unique for the investor
                example: '12345678'
              account_status:
                type: string
                enum:
                  - active
                  - inactive
                description: If not populated, will be defaulted to inactive
                example: active
              sort_code:
                type: string
                minLength: 6
                maxLength: 8
                example: '123456'
                description: Mandatory if region is UK
              building_society_roll_number:
                type: string
                minLength: 1
                maxLength: 18
                example: '12345672'
    BankAccountResponse:
      required:
        - account_name
        - investor_id
        - default_account
        - bank_account_number
      properties:
        bank_account_id:
          type: string
          readOnly: true
          maxLength: 100
          description: system generated id
          example: ba-bc00c28f-b3fc-42b7
        investor_id:
          type: string
          example: inv-XUT11265
        account_name:
          type: string
          maxLength: 100
          example: David Brown
        bank_account_type:
          type: string
          enum:
            - investor
            - contributing_employer
          example: contributing_employer
        default_account:
          type: string
          enum:
            - 'yes'
            - 'no'
          description: Only one account should be the default
          example: 'yes'
        bank_account_number:
          type: string
          minLength: 6
          maxLength: 8
          description: Unique for the investor
          example: '****5678'
        account_status:
          type: string
          enum:
            - active
            - inactive
          description: If not populated, will be defaulted to inactive
          example: active
        sort_code:
          type: string
          minLength: 6
          maxLength: 8
          example: '****56'
        building_society_roll_number:
          type: string
          minLength: 1
          maxLength: 18
          example: '******72'
        status:
          type: string
          enum:
            - failed
            - success
          example: failed
        error_message:
          type: string
          description: If the bank account creation failed
          example: Only one bank account can be set as the default account
        reference_version:
          type: integer
          readOnly: true
          example: 1
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
    InvestorResponse:
      title: Root Type for Investor creation response
      description: JSON for the Investor creation response resource type
      required:
        - investor_id
        - first_name
        - last_name
        - nationality
        - tax_id
        - address
        - tax_residency_compliant
        - date_of_birth
        - kyc_aml_status
        - dealing_status
        - kyc_aml_status_last_updated
        - status
        - reference_version
        - created_at
        - updated_at
      properties:
        investor_id:
          type: string
          maxLength: 64
          example: inv-XUT11265
        title:
          type: string
          example: Mr.
        gender:
          type: string
          example: male
        first_name:
          type: string
          maxLength: 100
          example: David
        last_name:
          type: string
          minLength: 2
          maxLength: 100
          example: Brown
        status:
          type: string
          enum:
            - kyc_pending
            - kyc_failed
            - inactive
            - active
          readOnly: true
          example: kyc_pending
        email:
          type: string
          maxLength: 100
          example: davidbrown@gmail.com
        mobile_number:
          type: string
          maxLength: 16
          example: '+441234567890'
        home_number:
          type: string
          maxLength: 16
          example: '+441234587830'
        office_number:
          type: string
          maxLength: 16
          example: '+442072343456'
        nationality:
          type: string
          description: 3 character country code inline with ISO 3166-1 alpha-3
          minLength: 3
          maxLength: 3
          example: GBR
        tax_id:
          type: string
          example: AB123456C
        kyc_aml_status:
          type: string
          enum:
            - submitted
            - kyc_failed_error
            - pending
            - clear
            - not_started
          default: not_started
          example: not_started
        dealing_status:
          type: string
          enum:
            - inactive
            - active
          default: inactive
          example: inactive
        id_numbers:
          type: array
          items:
            type: object
            properties:
              id_type:
                type: string
              id_number:
                type: string
            required:
              - id_type
              - id_number
          example:
            - id_type: passport
              id_number: '2324839048381'
        address:
          type: object
          properties:
            postal_code:
              type: string
              example: S2 2DF
            address_line:
              type: string
              nullable: true
              example: '14'
            street_name:
              type: string
              nullable: true
              example: Tottenham Court Road
            city:
              type: string
              nullable: true
              example: London
            state:
              type: string
              nullable: true
              example: England
            country:
              type: string
              description: 3 character country code inline with ISO 3166-1 alpha-3
              minLength: 3
              maxLength: 3
              example: GBR
          required:
            - postal_code
            - country
        mifid_tax_id:
          type: string
          example: '2382392274'
        tax_residency_compliant:
          type: boolean
          example: true
        date_of_birth:
          type: string
          format: date
          description: YYYY-MM-DD
          example: '1990-12-20'
        retirement_age:
          type: number
          example: 60
        tax_residence:
          type: string
          description: >-
            Residence of the investor for tax purposes. (for example, to claim
            relief at source) GB-ENG=England GB-NIR=Northern Ireland
            GB-SCT=Scotland GB-WLS=Wales
          enum:
            - GB-ENG
            - GB-NIR
            - GB-SCT
            - GB-WLS
          example: GB-ENG
        employment_status:
          type: string
          enum:
            - employed
            - self_employed
            - pensioner
            - child_under_16
            - in_full_time_education
            - unemployed
            - caring_for_a_person_over_16
            - caring_for_a_person_under_16
            - other
          example: employed
        mpaa_triggered:
          type: boolean
          example: true
        mpaa_triggered_date:
          type: string
          format: date
          example: '2023-01-30'
        workplace_employers:
          type: array
          description: >-
            Unique IDs of workplace employers who are contributing to the
            workplace pension of the investor.
          items:
            type: string
            example: wem-AHY58878
        lta_protection_details:
          type: array
          items:
            type: object
            properties:
              lta_protection_type:
                type: string
                enum:
                  - primary
                  - enhanced
                  - fp12
                  - fp14
                  - ip14
                  - fp16
                  - ip16
              lta_primary_protection_factor:
                type: string
                description: Required only when the lta_protection_type is primary
              lta_individual_protection_amount:
                type: string
                description: Required when the lta_protection_type is ip14 or ip16.
              lta_protection_notification_number:
                type: string
                description: Required when the lta_protection_type is fp16 or ip16.
              lta_protection_scheme_administrator_reference:
                type: string
                description: Required when the lta_protection_type is fp16 or ip16.
            required:
              - lta_protection_type
          example:
            - lta_protection_type: primary
              lta_primary_protection_factor: '20.00'
            - lta_protection_type: fp14
        expression_of_wish:
          type: object
          properties:
            sipp_beneficiaries:
              type: array
              items:
                type: object
                properties:
                  title:
                    type: string
                  first_name:
                    type: string
                    maxLength: 100
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                  address:
                    type: string
                  tax_id:
                    type: string
                  phone_number:
                    type: string
                  email:
                    type: string
                  percentage:
                    type: string
                required:
                  - first_name
                  - last_name
                  - address
                  - percentage
              example:
                - title: Mr.
                  first_name: William
                  last_name: Smith
                  address: 13 Park Row,Edinburgh, United Kingdom
                  tax_id: AB123956P
                  phone_number: '+441332960321'
                  email: davidbrown@gmail.com
                  percentage: '75.00'
                - title: Miss.
                  first_name: Jessica
                  last_name: Smith
                  address: 14 Park Row,Edinburgh, United Kingdom
                  tax_id: KL123956M
                  phone_number: '+441630960345'
                  email: jessicasmith@gmail.com
                  percentage: '25.00'
            sipp_nominees:
              type: array
              items:
                type: object
                properties:
                  title:
                    type: string
                  first_name:
                    type: string
                    maxLength: 100
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                  address:
                    type: string
                  tax_id:
                    type: string
                  phone_number:
                    type: string
                  email:
                    type: string
                  percentage:
                    type: string
                required:
                  - first_name
                  - last_name
                  - address
                  - percentage
              example:
                - title: Mr.
                  first_name: James
                  last_name: Brown
                  address: 87 Colorado Way,Richmond, United Kingdom
                  tax_id: XY123956Z
                  phone_number: '+441630960322'
                  email: jamesbrown@gmail.com
                  percentage: '50.00'
                - title: Mrs.
                  first_name: Emily
                  last_name: Brown
                  address: 4 Baldock Street, Newtown, United Kingdom
                  tax_id: SY123956P
                  phone_number: '+441615960345'
                  email: emilybrown@gmail.com
                  percentage: '50.00'
        kyc_aml_status_last_updated:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
        bank_accounts:
          description: Allow to create only one bank account when creating a new investor.
          type: array
          items:
            required:
              - account_name
              - investor_id
              - default_account
              - bank_account_number
            properties:
              bank_account_id:
                type: string
                readOnly: true
                maxLength: 100
                description: system generated id
                example: ba-bc00c28f-b3fc-42b7
              investor_id:
                type: string
                example: inv-XUT11265
              account_name:
                type: string
                maxLength: 100
                example: David Brown
              bank_account_type:
                type: string
                enum:
                  - investor
                  - contributing_employer
                example: contributing_employer
              default_account:
                type: string
                enum:
                  - 'yes'
                  - 'no'
                description: Only one account should be the default
                example: 'yes'
              bank_account_number:
                type: string
                minLength: 6
                maxLength: 8
                description: Unique for the investor
                example: '****5678'
              account_status:
                type: string
                enum:
                  - active
                  - inactive
                description: If not populated, will be defaulted to inactive
                example: active
              sort_code:
                type: string
                minLength: 6
                maxLength: 8
                example: '****56'
              building_society_roll_number:
                type: string
                minLength: 1
                maxLength: 18
                example: '******72'
              status:
                type: string
                enum:
                  - failed
                  - success
                example: failed
              error_message:
                type: string
                description: If the bank account creation failed
                example: Only one bank account can be set as the default account
              reference_version:
                type: integer
                readOnly: true
                example: 1
              created_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-08T07:36:05.884Z'
              updated_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-10T07:36:05.884Z'
        reference_version:
          type: integer
          example: 1
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
    UpdateInvestor:
      title: Update Request Body for Investor
      description: JSON for the Update Investor resource type
      required:
        - reference_version
      properties:
        title:
          type: string
          nullable: true
          example: Mr.
        gender:
          type: string
          nullable: true
          example: male
        first_name:
          type: string
          maxLength: 100
          example: David
        last_name:
          type: string
          minLength: 2
          maxLength: 100
          example: Brown
        status:
          type: string
          enum:
            - kyc_pending
            - kyc_failed
            - inactive
            - active
          readOnly: true
          example: kyc_pending
        email:
          type: string
          nullable: true
          maxLength: 100
          example: davidbrown@gmail.com
        mobile_number:
          type: string
          nullable: true
          maxLength: 16
          example: '+441234567890'
        home_number:
          type: string
          maxLength: 16
          nullable: true
          example: '+441234587830'
        office_number:
          type: string
          maxLength: 16
          nullable: true
          example: '+442072343456'
        nationality:
          type: string
          description: 3 character country code inline with ISO 3166-1 alpha-3
          minLength: 3
          maxLength: 3
          example: GBR
        tax_id:
          type: string
          example: AB123456C
        kyc_aml_status:
          type: string
          enum:
            - submitted
            - kyc_failed_error
            - pending
            - clear
            - not_started
          example: not_started
        dealing_status:
          type: string
          enum:
            - inactive
            - active
          example: inactive
        id_numbers:
          type: array
          nullable: true
          description: Replaces the array in the server.
          items:
            type: object
            properties:
              id_type:
                type: string
              id_number:
                type: string
          example:
            - id_type: passport
              id_number: '2324839048381'
        address:
          type: object
          properties:
            postal_code:
              type: string
              example: S2 2DF
            address_line:
              type: string
              nullable: true
              example: '14'
            street_name:
              type: string
              nullable: true
              example: Tottenham Court Road
            city:
              type: string
              nullable: true
              example: London
            state:
              type: string
              nullable: true
              example: England
            country:
              type: string
              description: 3 character country code inline with ISO 3166-1 alpha-3
              minLength: 3
              maxLength: 3
              example: GBR
        mifid_tax_id:
          type: string
          nullable: true
          example: '2382392274'
        tax_residency_compliant:
          type: boolean
          example: true
        date_of_birth:
          type: string
          format: date
          description: YYYY-MM-DD
          example: '1990-12-20'
        retirement_age:
          type: number
          description: Intended retirement age of the investor.
          nullable: true
          example: 60
        tax_residence:
          type: string
          description: >-
            Residence of the investor for tax purposes. (for example, to claim
            relief at source) GB-ENG=England GB-NIR=Northern Ireland
            GB-SCT=Scotland GB-WLS=Wales
          nullable: true
          enum:
            - GB-ENG
            - GB-NIR
            - GB-SCT
            - GB-WLS
          example: GB-ENG
        employment_status:
          type: string
          description: Status of an investor best describes their personal circumstances.
          enum:
            - employed
            - self_employed
            - pensioner
            - child_under_16
            - in_full_time_education
            - unemployed
            - caring_for_a_person_over_16
            - caring_for_a_person_under_16
            - other
          example: employed
        mpaa_triggered:
          type: boolean
          nullable: true
          description: >-
            Whether the investor has triggered the Money Purchase Annual
            Allowance.
          example: true
        mpaa_triggered_date:
          type: string
          nullable: true
          description: >-
            Date of triggering the Money Purchase Annual Allowance. This is only
            required if mpaa_triggered is true.
          format: date
          example: '2023-01-30'
        workplace_employers:
          type: array
          nullable: true
          description: >-
            Unique IDs of workplace employers who are contributing to the
            workplace pensions. The incoming list of employers will replace the
            existing list of employers.
          items:
            type: string
            example: wem-AHY58878
        lta_protection_details:
          type: array
          nullable: true
          description: >-
            Additional details of the lifetime allowance protections of the
            investor.
          items:
            type: object
            properties:
              lta_protection_type:
                type: string
                description: >-
                  primary=Primary protection, enhanced=Enhanced protection,
                  fp12=Fixed protection 2012, fp14=Fixed protection 2014,
                  fp16=Fixed protection 2016, ip14=Individual protection 2014,
                  ip16=Individual protection 2016
                enum:
                  - primary
                  - enhanced
                  - fp12
                  - fp14
                  - ip14
                  - fp16
                  - ip16
              lta_primary_protection_factor:
                type: string
                description: >-
                  Primary protection factor of the investor. Required only when
                  the lta_protection_type is primary.
              lta_individual_protection_amount:
                type: string
                description: >-
                  Protected lifetime allowance of the investor. Required when
                  the lta_protection_type is ip14 or ip16.
              lta_protection_notification_number:
                type: string
                description: >-
                  Protection notification number issued by HMRC. Required for
                  protection from 2016 onwards. Required when the
                  lta_protection_type is fp16 or ip16.
              lta_protection_scheme_administrator_reference:
                type: string
                description: >-
                  Scheme administrator reference issued by HMRC. Required for
                  protection from 2016 onwards. Required when the
                  lta_protection_type is fp16 or ip16.
            required:
              - lta_protection_type
          example:
            - lta_protection_type: primary
              lta_primary_protection_factor: '20.00'
            - lta_protection_type: fp14
        expression_of_wish:
          type: object
          nullable: true
          description: Beneficiary and nominee list of the expression of wish.
          properties:
            sipp_beneficiaries:
              type: array
              nullable: true
              description: Beneficiaries list of the expression of wish
              items:
                type: object
                properties:
                  title:
                    type: string
                  first_name:
                    type: string
                    maxLength: 100
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                  address:
                    type: string
                  tax_id:
                    type: string
                  phone_number:
                    type: string
                  email:
                    type: string
                  percentage:
                    type: string
                    description: >-
                      Percentage of assets that will be allocated to the
                      beneficiary
                required:
                  - first_name
                  - last_name
                  - address
                  - percentage
              example:
                - title: Mr.
                  first_name: William
                  last_name: Smith
                  address: 13 Park Row,Edinburgh, United Kingdom
                  tax_id: AB123956P
                  phone_number: '+441332960321'
                  email: davidbrown@gmail.com
                  percentage: '75.00'
                - title: Miss.
                  first_name: Jessica
                  last_name: Smith
                  address: 14 Park Row,Edinburgh, United Kingdom
                  tax_id: KL123956M
                  phone_number: '+441630960345'
                  email: jessicasmith@gmail.com
                  percentage: '25.00'
            sipp_nominees:
              type: array
              nullable: true
              description: Nominees list of the expression of wish
              items:
                type: object
                properties:
                  title:
                    type: string
                  first_name:
                    type: string
                    maxLength: 100
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                  address:
                    type: string
                  tax_id:
                    type: string
                  phone_number:
                    type: string
                  email:
                    type: string
                  percentage:
                    type: string
                    description: Percentage of assets that will be allocated to the nominee
                required:
                  - first_name
                  - last_name
                  - address
                  - percentage
              example:
                - title: Mr.
                  first_name: James
                  last_name: Brown
                  address: 87 Colorado Way,Richmond, United Kingdom
                  tax_id: XY123956Z
                  phone_number: '+441630960322'
                  email: jamesbrown@gmail.com
                  percentage: '50.00'
                - title: Mrs.
                  first_name: Emily
                  last_name: Brown
                  address: 4 Baldock Street, Newtown, United Kingdom
                  tax_id: SY123956P
                  phone_number: '+441615960345'
                  email: emilybrown@gmail.com
                  percentage: '50.00'
        kyc_aml_status_last_updated:
          type: string
          format: date-time
          readOnly: true
          example: '2020-08-12T07:36:05.884Z'
        reference_version:
          type: integer
          example: 1
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-08-12T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
        deleted_at:
          type: string
          format: date-time
          readOnly: true
          example: null
    FinancialProduct:
      title: Root Type for Financial Products
      description: ''
      required:
        - product_type
        - financial_product_id
        - name
        - created_at
        - updated_at
      type: object
      properties:
        financial_product_id:
          type: string
        name:
          type: string
          maxLength: 50
        availability:
          type: array
          items:
            type: string
        additional_cash_currencies:
          type: array
          items:
            type: string
        dividend_options:
          type: array
          items:
            type: string
        investment_preferences:
          type: object
          required:
            - minimum_one_off_investment
          properties:
            minimum_one_off_investment:
              type: string
            regular_investment_frequencies:
              type: array
              items:
                type: string
            lisa_bonus_percentage:
              description: >-
                The government-provided incentive rate applied to eligible
                contributions in a LISA. Can contain up to 2 decimal points.
                Applicable for LISA financial products.
              type: integer
        withdrawal_preferences:
          type: object
          required:
            - minimum_one_off_withdrawal
          properties:
            minimum_one_off_withdrawal:
              type: string
            minimum_regular_monthly_withdrawal:
              type: string
            regular_withdrawal_frequencies:
              type: array
              items:
                type: string
            regular_withdrawal_payment_dates:
              type: array
              items:
                type: string
                nullable: true
            withdrawal_notice_period:
              description: >-
                Specified number of days during which a withdrawal request
                remains pending, and at the end of this period, the withdrawal
                will be triggered. Applicable for LISA financial products.
              type: string
            withdrawal_charge_percentage:
              description: >-
                The government-imposed penalty percentage for unauthorized
                withdrawals executed by an investor from a LISA account. Can
                contain up to 2 decimal points. Applicable for LISA financial
                products.
              type: integer
        product_type:
          description: Financial product type
          type: string
        flexible:
          description: Whether the regulations allow a financial product to be flexible
          type: string
          enum:
            - 'YES'
            - 'NO'
        max_annual_ISA_subscription_limit:
          description: Max Annual ISA Subscription Limit. Applicable to ISA products
          type: string
        annual_product_subscription_limit:
          description: >-
            Annual limit for tax free contributions. Contributions up to this
            limit qualify for tax refund. Applicable to SIPP products
          type: string
        annual_subscription_reduced_limit:
          description: >-
            Annual limit for tax free contributions for minors and other
            individuals with limited income. Applicable to SIPP products
          type: string
        money_purchase_annual_allowance:
          description: >-
            Annual limit for tax free contributions when an investor has
            triggered a drawdown/crystallisation. Applicable to SIPP products
          type: string
        lifetime_allowance:
          description: Lifetime limit for tax free withdrawals. Applicable to SIPP products
          type: string
        minimum_age:
          description: >-
            Minimum age qualifying an individual to invest in a Pension
            Accumulation Plan or open a LISA investor account. Applicable for
            SIPP or LISA financial products.
          type: integer
        maximum_age:
          description: >-
            Maximum age qualifying an individual to open a LISA investor
            account. Applicable for LISA financial products.
          type: integer
        minimum_withdrawal_age:
          type: integer
          description: >-
            Minimum age at which an individual can make a penalty-free
            authorized withdrawal from a  Lifetime ISA, excluding reasons like
            purchasing a first home, being terminally ill, or in case of death.
            Applicable for LISA financial products.
        maximum_contribution_age:
          type: integer
          description: >-
            Maximum age qualifying an individual to contribute in to a LISA
            account. Applicable for LISA financial products.
        annual_lisa_subscription_limit:
          description: >-
            Maximum Subscription Limit for an individual can contribute to a
            LISA in a tax year. Applicable for LISA financial products.
          type: integer
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      example:
        financial_product_id: stocks_isa
        product_type: stocks_isa
        name: Acorn ISA
        availability:
          - All clients
        additional_cash_currencies:
          - EUR
          - USD
        dividend_options:
          - Auto reinvest always
          - Offer reinvest option
        investment_preferences:
          minimum_one_off_investment: '1000'
          minimum_regular_monthly_investment: '100'
          regular_investment_frequencies:
            - Calendar monthly
            - Yearly on a predefined date
          regular_investment_dates:
            - 10th
            - 17th
            - 24th
        withdrawal_preferences:
          minimum_one_off_withdrawal: '1000'
          minimum_regular_monthly_withdrawal: '100'
          regular_withdrawal_frequencies:
            - Calendar monthly
            - Yearly on a predefined date
          regular_withdrawal_payment_dates:
            - 10th
            - 17th
            - 24th
        interest_preferences:
          pay_interest: 'Yes'
          interest_accrual_basis: Daily
          interest_payment_frequency: Daily
        max_annual_ISA_subscription_limit: '20000'
        flexible: 'NO'
        created_at: '2020-07-08T07:36:05.884Z'
        updated_at: '2020-07-10T07:36:05.884Z'
    FinancialProducts:
      required:
        - financial_products
      type: object
      properties:
        financial_products:
          type: array
          items:
            title: Root Type for Financial Products
            description: ''
            required:
              - product_type
              - financial_product_id
              - name
              - created_at
              - updated_at
            type: object
            properties:
              financial_product_id:
                type: string
              name:
                type: string
                maxLength: 50
              availability:
                type: array
                items:
                  type: string
              additional_cash_currencies:
                type: array
                items:
                  type: string
              dividend_options:
                type: array
                items:
                  type: string
              investment_preferences:
                type: object
                required:
                  - minimum_one_off_investment
                properties:
                  minimum_one_off_investment:
                    type: string
                  regular_investment_frequencies:
                    type: array
                    items:
                      type: string
                  lisa_bonus_percentage:
                    description: >-
                      The government-provided incentive rate applied to eligible
                      contributions in a LISA. Can contain up to 2 decimal
                      points. Applicable for LISA financial products.
                    type: integer
              withdrawal_preferences:
                type: object
                required:
                  - minimum_one_off_withdrawal
                properties:
                  minimum_one_off_withdrawal:
                    type: string
                  minimum_regular_monthly_withdrawal:
                    type: string
                  regular_withdrawal_frequencies:
                    type: array
                    items:
                      type: string
                  regular_withdrawal_payment_dates:
                    type: array
                    items:
                      type: string
                      nullable: true
                  withdrawal_notice_period:
                    description: >-
                      Specified number of days during which a withdrawal request
                      remains pending, and at the end of this period, the
                      withdrawal will be triggered. Applicable for LISA
                      financial products.
                    type: string
                  withdrawal_charge_percentage:
                    description: >-
                      The government-imposed penalty percentage for unauthorized
                      withdrawals executed by an investor from a LISA account.
                      Can contain up to 2 decimal points. Applicable for LISA
                      financial products.
                    type: integer
              product_type:
                description: Financial product type
                type: string
              flexible:
                description: >-
                  Whether the regulations allow a financial product to be
                  flexible
                type: string
                enum:
                  - 'YES'
                  - 'NO'
              max_annual_ISA_subscription_limit:
                description: Max Annual ISA Subscription Limit. Applicable to ISA products
                type: string
              annual_product_subscription_limit:
                description: >-
                  Annual limit for tax free contributions. Contributions up to
                  this limit qualify for tax refund. Applicable to SIPP products
                type: string
              annual_subscription_reduced_limit:
                description: >-
                  Annual limit for tax free contributions for minors and other
                  individuals with limited income. Applicable to SIPP products
                type: string
              money_purchase_annual_allowance:
                description: >-
                  Annual limit for tax free contributions when an investor has
                  triggered a drawdown/crystallisation. Applicable to SIPP
                  products
                type: string
              lifetime_allowance:
                description: >-
                  Lifetime limit for tax free withdrawals. Applicable to SIPP
                  products
                type: string
              minimum_age:
                description: >-
                  Minimum age qualifying an individual to invest in a Pension
                  Accumulation Plan or open a LISA investor account. Applicable
                  for SIPP or LISA financial products.
                type: integer
              maximum_age:
                description: >-
                  Maximum age qualifying an individual to open a LISA investor
                  account. Applicable for LISA financial products.
                type: integer
              minimum_withdrawal_age:
                type: integer
                description: >-
                  Minimum age at which an individual can make a penalty-free
                  authorized withdrawal from a  Lifetime ISA, excluding reasons
                  like purchasing a first home, being terminally ill, or in case
                  of death. Applicable for LISA financial products.
              maximum_contribution_age:
                type: integer
                description: >-
                  Maximum age qualifying an individual to contribute in to a
                  LISA account. Applicable for LISA financial products.
              annual_lisa_subscription_limit:
                description: >-
                  Maximum Subscription Limit for an individual can contribute to
                  a LISA in a tax year. Applicable for LISA financial products.
                type: integer
              created_at:
                type: string
                format: date-time
                readOnly: true
              updated_at:
                type: string
                format: date-time
                readOnly: true
            example:
              financial_product_id: stocks_isa
              product_type: stocks_isa
              name: Acorn ISA
              availability:
                - All clients
              additional_cash_currencies:
                - EUR
                - USD
              dividend_options:
                - Auto reinvest always
                - Offer reinvest option
              investment_preferences:
                minimum_one_off_investment: '1000'
                minimum_regular_monthly_investment: '100'
                regular_investment_frequencies:
                  - Calendar monthly
                  - Yearly on a predefined date
                regular_investment_dates:
                  - 10th
                  - 17th
                  - 24th
              withdrawal_preferences:
                minimum_one_off_withdrawal: '1000'
                minimum_regular_monthly_withdrawal: '100'
                regular_withdrawal_frequencies:
                  - Calendar monthly
                  - Yearly on a predefined date
                regular_withdrawal_payment_dates:
                  - 10th
                  - 17th
                  - 24th
              interest_preferences:
                pay_interest: 'Yes'
                interest_accrual_basis: Daily
                interest_payment_frequency: Daily
              max_annual_ISA_subscription_limit: '20000'
              flexible: 'NO'
              created_at: '2020-07-08T07:36:05.884Z'
              updated_at: '2020-07-10T07:36:05.884Z'
    InvestmentInstruction:
      required:
        - investment_product_id
      properties:
        investment_product_id:
          type: string
        quantity:
          description: >-
            Require if `value` is not available. Must be in correct pattern (eg:
            25, 332.34, 1050.0025). For `funds`, upto 4 decimal places. For
            `equities`, `bonds` and `etf`, 0 decimal places allowed.
          type: string
        value:
          description: >-
            Require if `quantity` is not available. Must be in correct pattern
            (upto 2 decimal places, eg: 25, 332.3, 1050.25).
          type: string
    Payment:
      title: Root Type for Payments
      required:
        - amount
        - currency
        - status
        - pot_id
        - payment_type
        - transaction_id
        - service_provider
        - purpose
        - origin
      properties:
        transaction_id:
          type: string
        investor_id:
          type: array
          items:
            type: string
        amount:
          type: string
        currency:
          type: string
        pot_id:
          type: string
        payment_type:
          type: string
          enum:
            - card
            - electronic_fund_transfer
            - direct_debit
        service_provider:
          type: string
          enum:
            - stripe
            - truelayer
            - gocardless
            - none
        sub_transaction_type:
          type: string
          enum:
            - Lump sum
            - Lump sum - non relievable
            - Employer contribution
            - Regular contribution
            - Regular contribution - non relievable
            - Regular contribution - Employer
          description: Type of contribution
        source_id:
          type: string
          description: >-
            Required only for payments intents for employer contributions made
            towards SIPP Accumulation Products
        service_provider_params:
          type: object
          description: Custom parameters based on prerequisites of the selected provider
          properties:
            bank_account_id:
              type: string
              description: >-
                Bank account ID of Investor (include if
                service_provider="truelayer")
            payment_reference:
              type: string
              description: Recurring payment reference
            created_at:
              type: string
              format: date-time
              description: Recurring payment created date
            desrciption:
              type: string
              description: Recurring payment description
            service_provider_status:
              type: string
              description: >-
                Recurring payment status transitions depend on the service
                provider
            authorization_reference:
              type: string
              description: >-
                Recurring payment authorization reference ID provided by a
                service provider maintained under payment authorizations for an
                investor
        purpose:
          type: string
          enum:
            - cash
            - invest
        investment_instructions:
          description: >-
            mandatory only if purpose:"invest" and pot does not have a portfolio
            template attached (e.g. An execution-only or direct-to-consumer
            wealth manager)
          type: array
          nullable: true
          items:
            required:
              - investment_product_id
            properties:
              investment_product_id:
                type: string
              quantity:
                description: >-
                  Require if `value` is not available. Must be in correct
                  pattern (eg: 25, 332.34, 1050.0025). For `funds`, upto 4
                  decimal places. For `equities`, `bonds` and `etf`, 0 decimal
                  places allowed.
                type: string
              value:
                description: >-
                  Require if `quantity` is not available. Must be in correct
                  pattern (upto 2 decimal places, eg: 25, 332.3, 1050.25).
                type: string
        status:
          description: >-
            Status of the payment


            - `pending_confirmation`: Payment is pending approvals and
            confirmation

            - `processing`: Payment is confirmed, and being processed. Depending
            on the payment method, this may be instantaneous (e.g. card) or take
            multiple days (e.g. cheque) 

            - `succeeded`: Payment is successful. Cash is cleaned in account. 

            - `cancelled`: Payment cancelled, and any held funds have been
            returned. 

            - `failed`: Payment failed due to insufficient funds, invalid card
            details, network issues etc. 
          type: string
          enum:
            - pending_confirmation
            - processing
            - succeeded
            - cancelled
            - failed
        origin:
          type: string
          description: Origin of the payment
          enum:
            - api
            - admin_ui
        settlement_date:
          type: string
          format: date-time
          description: Required if origin is admin_ui
        contribution_id:
          type: string
          description: >-
            Required only for payments intents which created through a recurring
            contribution
        reason:
          type: string
          description: >-
            This field populated only when payment intent status is failed or
            cancelled, with reason for cancellation or failure
        payment_reference:
          type: string
      example:
        transaction_id: 75d65d2b-60c6-45ad-979d-0e3e403e6c7e
        investor_id:
          - inv-XUT11265
        amount: '20000'
        currency: GBP
        status: pending_confirmation
        pot_id: pot-UKW3452875
        payment_type: electronic_fund_transfer
        service_provider: truelayer
        sub_transaction_type: Lump sum
        purpose: cash
    Payments:
      required:
        - payments
        - next_page_available
      type: object
      properties:
        pot_id:
          type: string
          description: Pot Id
          example: pot-UKW3452875
        payments:
          type: array
          items:
            title: Root Type for Payments
            required:
              - amount
              - currency
              - status
              - pot_id
              - payment_type
              - transaction_id
              - service_provider
              - purpose
              - origin
            properties:
              transaction_id:
                type: string
              investor_id:
                type: array
                items:
                  type: string
              amount:
                type: string
              currency:
                type: string
              pot_id:
                type: string
              payment_type:
                type: string
                enum:
                  - card
                  - electronic_fund_transfer
                  - direct_debit
              service_provider:
                type: string
                enum:
                  - stripe
                  - truelayer
                  - gocardless
                  - none
              sub_transaction_type:
                type: string
                enum:
                  - Lump sum
                  - Lump sum - non relievable
                  - Employer contribution
                  - Regular contribution
                  - Regular contribution - non relievable
                  - Regular contribution - Employer
                description: Type of contribution
              source_id:
                type: string
                description: >-
                  Required only for payments intents for employer contributions
                  made towards SIPP Accumulation Products
              service_provider_params:
                type: object
                description: >-
                  Custom parameters based on prerequisites of the selected
                  provider
                properties:
                  bank_account_id:
                    type: string
                    description: >-
                      Bank account ID of Investor (include if
                      service_provider="truelayer")
                  payment_reference:
                    type: string
                    description: Recurring payment reference
                  created_at:
                    type: string
                    format: date-time
                    description: Recurring payment created date
                  desrciption:
                    type: string
                    description: Recurring payment description
                  service_provider_status:
                    type: string
                    description: >-
                      Recurring payment status transitions depend on the service
                      provider
                  authorization_reference:
                    type: string
                    description: >-
                      Recurring payment authorization reference ID provided by a
                      service provider maintained under payment authorizations
                      for an investor
              purpose:
                type: string
                enum:
                  - cash
                  - invest
              investment_instructions:
                description: >-
                  mandatory only if purpose:"invest" and pot does not have a
                  portfolio template attached (e.g. An execution-only or
                  direct-to-consumer wealth manager)
                type: array
                nullable: true
                items:
                  required:
                    - investment_product_id
                  properties:
                    investment_product_id:
                      type: string
                    quantity:
                      description: >-
                        Require if `value` is not available. Must be in correct
                        pattern (eg: 25, 332.34, 1050.0025). For `funds`, upto 4
                        decimal places. For `equities`, `bonds` and `etf`, 0
                        decimal places allowed.
                      type: string
                    value:
                      description: >-
                        Require if `quantity` is not available. Must be in
                        correct pattern (upto 2 decimal places, eg: 25, 332.3,
                        1050.25).
                      type: string
              status:
                description: >-
                  Status of the payment


                  - `pending_confirmation`: Payment is pending approvals and
                  confirmation

                  - `processing`: Payment is confirmed, and being processed.
                  Depending on the payment method, this may be instantaneous
                  (e.g. card) or take multiple days (e.g. cheque) 

                  - `succeeded`: Payment is successful. Cash is cleaned in
                  account. 

                  - `cancelled`: Payment cancelled, and any held funds have been
                  returned. 

                  - `failed`: Payment failed due to insufficient funds, invalid
                  card details, network issues etc. 
                type: string
                enum:
                  - pending_confirmation
                  - processing
                  - succeeded
                  - cancelled
                  - failed
              origin:
                type: string
                description: Origin of the payment
                enum:
                  - api
                  - admin_ui
              settlement_date:
                type: string
                format: date-time
                description: Required if origin is admin_ui
              contribution_id:
                type: string
                description: >-
                  Required only for payments intents which created through a
                  recurring contribution
              reason:
                type: string
                description: >-
                  This field populated only when payment intent status is failed
                  or cancelled, with reason for cancellation or failure
              payment_reference:
                type: string
            example:
              transaction_id: 75d65d2b-60c6-45ad-979d-0e3e403e6c7e
              investor_id:
                - inv-XUT11265
              amount: '20000'
              currency: GBP
              status: pending_confirmation
              pot_id: pot-UKW3452875
              payment_type: electronic_fund_transfer
              service_provider: truelayer
              sub_transaction_type: Lump sum
              purpose: cash
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    PaymentIntentRequestSchema:
      required:
        - request_id
        - amount
        - pot_id
        - payment_type
        - purpose
        - service_provider
      properties:
        request_id:
          type: string
          format: uuid
          description: 'Unique request id to ensure idempotency. (ex: UUID)'
        amount:
          type: string
          description: >-
            Amount as a numeral string with two decimal points. (ex: 1500.00).
            Minimum allowed amount is 1.00
          example: '100.00'
        pot_id:
          type: string
          example: pot-UKW3452850
        payment_type:
          type: string
          example: electronic_fund_transfer
          enum:
            - card
            - electronic_fund_transfer
        service_provider:
          type: string
          example: truelayer
          enum:
            - stripe
            - truelayer
            - none
        service_provider_params:
          type: object
          description: Parameters based on prerequisites of the selected provider
          properties:
            bank_account_id:
              type: string
              description: >-
                Bank account ID of Investor (mandatory only if
                service_provider="truelayer")
              example: ba-bc00c28f-b3fc-42b7
        currency:
          type: string
          description: Must be a currency configured for the Pot
          example: GBP
        sub_transaction_type:
          type: string
          example: Lump sum
          enum:
            - Lump sum
            - Lump sum - non relievable
            - Employer Contribution
          description: >-
            Type of contribution.  "Lump sum", "Lump sum - non relievable",
            "Employer contribution" is enabled for SIPP and is required to be
            sent in the request. "Lump sum" is enabled for all other financial
            products and need not be specified. If the sub transaction type is
            not specified for other financial products it will be defaulted to
            "Lump sum" .
        source_id:
          type: string
          example: cem-ASP43560
          description: >-
            Required only for payments intents for employer contributions made
            towards SIPP Accumulation Products
        purpose:
          type: string
          example: invest
          enum:
            - cash
            - invest
        investment_instructions:
          description: >-
            Mandatory only if purpose:"invest" and pot does not have a portfolio
            template attached (e.g. An execution-only or direct-to-consumer
            wealth manager).
          type: array
          items:
            required:
              - investment_product_id
            properties:
              investment_product_id:
                type: string
              quantity:
                description: >-
                  Require if `value` is not available. Must be in correct
                  pattern (eg: 25, 332.34, 1050.0025). For `funds`, upto 4
                  decimal places. For `equities`, `bonds` and `etf`, 0 decimal
                  places allowed.
                type: string
              value:
                description: >-
                  Require if `quantity` is not available. Must be in correct
                  pattern (upto 2 decimal places, eg: 25, 332.3, 1050.25).
                type: string
          example:
            - investment_product_id: isa_1223931892
              quantity: '300'
            - investment_product_id: isa_9913091898
              quantity: '500'
    PaymentIntentResponseSchema:
      required:
        - amount
        - currency
        - status
        - pot_id
        - payment_type
        - transaction_id
        - service_provider
        - purpose
      properties:
        transaction_id:
          type: string
        amount:
          type: string
        currency:
          type: string
        status:
          type: string
          enum:
            - pending_confirmation
            - processing
            - succeeded
        pot_id:
          type: string
        payment_type:
          type: string
          enum:
            - card
            - electronic_fund_transfer
        sub_transaction_type:
          type: string
          enum:
            - Lump sum
            - Lump sum - non relievable
            - Employer contribution
          description: Type of contribution.
        source_id:
          type: string
          description: >-
            Only for payments intents for employer contributions made towards
            SIPP Accumulation Products
        service_provider:
          type: string
          enum:
            - stripe
            - truelayer
            - none
        service_provider_params:
          type: object
          description: Parameters based on prerequisites of the selected provider
          properties:
            bank_account_id:
              type: string
              description: >-
                Bank account ID of Investor (include if
                service_provider="truelayer")
            hpp_url:
              type: string
              description: >-
                URL for Hosted Payment Page (include if
                service_provider="truelayer")
            payment_intent_id:
              type: string
              description: >-
                Payment intent ID (include if service_provider="truelayer" or
                service_provider="stripe")
            client_secret:
              type: string
              description: Client secret (include if service_provider="stripe")
            publishable_key:
              type: string
              description: Publishable key (include if service_provider="stripe")
        purpose:
          type: string
          enum:
            - cash
            - invest
        investment_instructions:
          description: >-
            mandatory only if purpose:"invest" and pot does not have a portfolio
            template attached (e.g. An execution-only or direct-to-consumer
            wealth manager)
          type: array
          items:
            required:
              - investment_product_id
            properties:
              investment_product_id:
                type: string
              quantity:
                description: >-
                  Require if `value` is not available. Must be in correct
                  pattern (eg: 25, 332.34, 1050.0025). For `funds`, upto 4
                  decimal places. For `equities`, `bonds` and `etf`, 0 decimal
                  places allowed.
                type: string
              value:
                description: >-
                  Require if `quantity` is not available. Must be in correct
                  pattern (upto 2 decimal places, eg: 25, 332.3, 1050.25).
                type: string
      example:
        transaction_id: 5badc696-5591-485f-9d7f-428b9b8460c2
        amount: '100.00'
        currency: GBP
        status: pending_confirmation
        pot_id: pot-UKW3452850
        payment_type: electronic_fund_transfer
        service_provider: truelayer
        sub_transaction_type: Lump sum
        source_id: cem-ASP43560
        service_provider_params:
          bank_account_id: ba-bc00c28f-b3fc-42b7
          hpp_url: https://paymentexample.truelayer-sandbox.com/payments#example
        purpose: invest
        investment_instructions:
          - investment_product_id: isa_1223931892
            quantity: '300'
          - investment_product_id: isa_9913091898
            quantity: '500'
    Pot:
      title: Single
      required:
        - pot_id
        - pot_name
        - investor_id
        - financial_product_id
        - pot_currency
        - status
        - reference_version
        - created_at
        - updated_at
      properties:
        pot_id:
          type: string
          example: pot-GYQ5423100
          readOnly: true
          maxLength: 64
          description: system generated id
        investor_id:
          type: array
          items:
            type: string
            example: inv-XUT11265
        pot_name:
          type: string
          minLength: 1
          maxLength: 50
          example: Retirement Pot
        financial_product_id:
          type: string
          example: general_investment_product
        portfolio_template_id:
          type: string
          example: pft-c60c9472-6668-4f7a-aa69
        pot_currency:
          type: string
          enum:
            - GBP
            - CAD
            - USD
          description: >-
            If not populated, will be defaulted to tenancy currency.<br>Currency
            should be enabled for Financial Product. Tenancy currency is allowed
            by default, additional currencies enabled for a product can be
            identified using the “Get all financial products” end point.
        status:
          type: string
          enum:
            - active
            - inactive
        reference_version:
          type: integer
          readOnly: true
          example: 1
        account_id:
          type: string
          example: SSISA0000000001
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
    Pots:
      required:
        - pot_name
        - status
      properties:
        pot_name:
          type: string
          minLength: 1
          maxLength: 50
        portfolio_template_id:
          type: string
        pot_currency:
          type: string
          enum:
            - GBP
            - CAD
            - USD
          description: >-
            If not populated, will be defaulted to tenancy currency.<br>Currency
            should be enabled for Financial Product. Tenancy currency is allowed
            by default, additional currencies enabled for a product can be
            identified using the “Get all financial products” end point
        status:
          type: string
          enum:
            - active
            - inactive
    CreatePotsRequest:
      title: Multiple
      type: object
      required:
        - request_id
        - investor_id
        - financial_product_id
        - pots
      properties:
        request_id:
          type: string
          format: uuid
          description: 'Unique request id to ensure idempotency. (ex: UUID)'
        investor_id:
          type: array
          items:
            type: string
            example: inv-XUT11265
        financial_product_id:
          type: string
          example: sipp_accumulation
        pots:
          type: array
          description: Maximum of five pots
          items:
            required:
              - pot_name
              - status
            properties:
              pot_name:
                type: string
                minLength: 1
                maxLength: 50
              portfolio_template_id:
                type: string
              pot_currency:
                type: string
                enum:
                  - GBP
                  - CAD
                  - USD
                description: >-
                  If not populated, will be defaulted to tenancy
                  currency.<br>Currency should be enabled for Financial Product.
                  Tenancy currency is allowed by default, additional currencies
                  enabled for a product can be identified using the “Get all
                  financial products” end point
              status:
                type: string
                enum:
                  - active
                  - inactive
          example:
            - pot_name: Retirement Pot 1
              portfolio_template_id: pft-c60c9472-6668-4f7a-aa69
              pot_currency: GBP
              status: active
            - pot_name: Retirement Pot 2
              portfolio_template_id: pft-c60c9472-6668-4f7a-aa69
              pot_currency: CHF
              status: active
    PotsResponse:
      required:
        - pot_id
        - pot_name
        - status
        - pot_currency
        - reference_version
        - success
        - created_at
        - updated_at
      properties:
        pot_id:
          type: string
          readOnly: true
          maxLength: 64
          description: system generated id
        pot_name:
          type: string
        portfolio_template_id:
          type: string
        account_id:
          type: string
          example: SSISA0000000001
        pot_currency:
          type: string
          enum:
            - GBP
            - CAD
            - USD
          description: >-
            If not populated, will be defaulted to tenancy currency.<br>Currency
            should be enabled for Financial Product. Tenancy currency is allowed
            by default, additional currencies enabled for a product can be
            identified using the “Get all financial products” end point
        status:
          type: string
          enum:
            - active
            - inactive
        reference_version:
          type: integer
          readOnly: true
          example: 1
        success:
          type: boolean
        message:
          type: string
          description: Reason for failure if success = false
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
    CreatePotsReponse:
      title: Multiple
      type: object
      required:
        - status
        - investor_id
        - financial_product_id
        - results
      properties:
        status:
          type: string
          description: >-
            status of the multi pot creation request

            . `success`: All pots created successfully

            . `partially_successful`: Some (but not all) pots were created
            successfully
             
          example: partially_successful
          enum:
            - success
            - partially_successful
        investor_id:
          type: array
          items:
            type: string
            example: inv-XUT11265
        financial_product_id:
          type: string
          example: sipp_accumulation
        results:
          type: array
          description: >-
            Array of successes and failures. Failures will include a reason for
            the error
          items:
            items:
              required:
                - pot_id
                - pot_name
                - status
                - pot_currency
                - reference_version
                - success
                - created_at
                - updated_at
              properties:
                pot_id:
                  type: string
                  readOnly: true
                  maxLength: 64
                  description: system generated id
                pot_name:
                  type: string
                portfolio_template_id:
                  type: string
                account_id:
                  type: string
                  example: SSISA0000000001
                pot_currency:
                  type: string
                  enum:
                    - GBP
                    - CAD
                    - USD
                  description: >-
                    If not populated, will be defaulted to tenancy
                    currency.<br>Currency should be enabled for Financial
                    Product. Tenancy currency is allowed by default, additional
                    currencies enabled for a product can be identified using the
                    “Get all financial products” end point
                status:
                  type: string
                  enum:
                    - active
                    - inactive
                reference_version:
                  type: integer
                  readOnly: true
                  example: 1
                success:
                  type: boolean
                message:
                  type: string
                  description: Reason for failure if success = false
                created_at:
                  type: string
                  format: date-time
                  readOnly: true
                  example: '2020-07-08T07:36:05.884Z'
                updated_at:
                  type: string
                  format: date-time
                  readOnly: true
                  example: '2020-07-10T07:36:05.884Z'
          example:
            - pot_id: pot-GYQ5423100
              pot_name: Retirement Pot 1
              portfolio_template_id: pft-c60c9472-6668-4f7a-aa69
              pot_currency: GBP
              account_id: SSISA0000000001
              status: active
              reference_version: 1
              created_at: '2020-07-08T07:36:05.884Z'
              updated_at: '2020-07-08T07:36:05.884Z'
              success: true
            - success: false
              message: Value [CHF] for [pot_currency] is not valid
    RebalanceRequest:
      title: Request body for the rebalance request
      description: Definition of a rebalance request body
      required:
        - request_id
        - type
        - values
      type: object
      properties:
        request_id:
          type: string
          format: uuid
          description: 'Unique request id to ensure idempotency. (eg: UUID)'
        type:
          type: string
          example: pot
          enum:
            - pot
            - investor
            - portfolio
          description: >-
            Rebalance request triggering type. This describe the types of
            elements included in the values field
        values:
          type: array
          items:
            type: string
          example:
            - pot-UKW3452850
            - pot-SDQ5239730
          description: >-
            List of unique Ids from the mentioned type to trigger the rebalance
            process
    RebalanceEvaluationRequestResponse:
      title: This is the return object for rebalance evaluation request
      description: Contains rebalance request id and status
      required:
        - rebalance_request_id
        - status
        - created_at
      type: object
      properties:
        rebalance_request_id:
          type: string
          description: Unique identifier of the rebalance instruction
          example: re-d3b39bc2-0ff5-40c0-9575-f5139b959c1b
        status:
          type: string
          description: Status of the rebalance evaluation process
          enum:
            - processing
          example: processing
        created_at:
          type: string
          description: Date and time of evaluation request created
          format: date-time
    PotDetailsForRebalanceEvaluation:
      title: each pot detail of the Rebalance Evaluation request
      description: Each individual pot details on the rebalance evaluation request
      type: object
      required:
        - pot_id
        - rebalance_eligibility_status
        - investor_id
      properties:
        pot_id:
          type: string
          description: Identifier of pot triggered for rebalance
          example: pot-GYA4736947
        rebalance_eligibility_status:
          type: string
          description: Status of whether a pot is capable of rebalance or not
          example: eligible
          enum:
            - eligible
            - ineligible
            - no_portfolio_attached
            - negative_holdings
            - no_holdings
        investor_id:
          type: array
          description: Unique ID of the Investors attached to the pot
          items:
            type: string
            example: inv-QXR38578
        portfolio_template_id:
          type: string
          description: portfolio_template_id in used by the relevent pot
          example: pft-5472de57-d291-4914-930e-0bbf5cb0cc47
        portfolio_deviation:
          type: string
          description: Portfolio deviation for the pot
          example: '50'
    RebalanceEvaluationStatusResponse:
      title: this is the return object with evaluation per pot
      description: contains array for pot details
      required:
        - rebalanceEvaluation
        - next_page_available
      properties:
        rebalanceEvaluation:
          type: object
          required:
            - rebalance_request_id
            - status
            - created_at
            - updated_at
          properties:
            rebalance_request_id:
              type: string
              description: Unique identifier of the rebalance instruction
              example: fh584838fff
            status:
              type: string
              description: Status of the rebalance evaluation process
              enum:
                - processing
                - in_progress
                - completed
                - failed
              example: completed
            pot_details:
              type: array
              description: Details of the each pot related to the rebalance instruction
              items:
                title: each pot detail of the Rebalance Evaluation request
                description: >-
                  Each individual pot details on the rebalance evaluation
                  request
                type: object
                required:
                  - pot_id
                  - rebalance_eligibility_status
                  - investor_id
                properties:
                  pot_id:
                    type: string
                    description: Identifier of pot triggered for rebalance
                    example: pot-GYA4736947
                  rebalance_eligibility_status:
                    type: string
                    description: Status of whether a pot is capable of rebalance or not
                    example: eligible
                    enum:
                      - eligible
                      - ineligible
                      - no_portfolio_attached
                      - negative_holdings
                      - no_holdings
                  investor_id:
                    type: array
                    description: Unique ID of the Investors attached to the pot
                    items:
                      type: string
                      example: inv-QXR38578
                  portfolio_template_id:
                    type: string
                    description: portfolio_template_id in used by the relevent pot
                    example: pft-5472de57-d291-4914-930e-0bbf5cb0cc47
                  portfolio_deviation:
                    type: string
                    description: Portfolio deviation for the pot
                    example: '50'
            reason:
              type: string
              description: Reason for failure
            warning:
              type: string
              description: >-
                List of instance IDs experiencing errors resulting in failed
                evaluation
              example: >-
                The following ids were not found [pot-PXO9735796,
                pot-LPO9735006]
            created_at:
              type: string
              description: Date and time of evaluation request created
              format: date-time
            updated_at:
              type: string
              description: Date and time of evaluation request updated
              format: date-time
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    RebalanceExecutionResponse:
      title: This is the response object for rebalance request
      description: Containes the response for the rebalance request
      required:
        - rebalance_request_id
        - created_at
        - status
      type: object
      properties:
        rebalance_request_id:
          type: string
          description: Unique identifier of the rebalance instruction
          example: fh584838fff
        status:
          type: string
          description: Status of the rebalance execution process
          enum:
            - processing
          example: processing
        created_at:
          type: string
          description: Date and time of execution request created
          format: date-time
    SwitchInstruction:
      title: each buy or sell instruction of the Switch request
      description: Each individual buy side and sell side instruction of the Switch request
      required:
        - investment_product_id
        - mode
        - value
      type: object
      properties:
        investment_product_id:
          type: string
          description: >-
            Identifier of the investment product sold or bought. If the
            instruction is to use a cash holding (relevant only for sell
            instruction) this must be `cash`
        mode:
          type: string
          description: >-
            Mode of the instruction. If investment_product_id is `cash` mode can
            only be set to `value` or `percentage` 
          enum:
            - percentage
            - unit
            - value
        value:
          type: string
          description: >-
            value according to the mode. e.g. mode `percentage` and value `10`
            implies 10%
    SwitchRequestStatus:
      required:
        - investment_product_id
        - status
        - side
        - transaction_id
        - created_at
      properties:
        investment_product_id:
          type: string
          description: Identifier of investment product that is bought or sold.
        status:
          type: string
          enum:
            - instructed
            - priced
            - settled
            - rejected
        side:
          type: string
          description: Side of the transaction
          enum:
            - buy
            - sell
        transaction_id:
          type: string
          description: Unique identifier of the transaction
        quantity:
          type: string
          description: quantity (in units)
        price:
          type: string
          description: Executed price of the transaction
        value:
          type: string
          description: Monetary value of the transaction
        created_at:
          type: string
          description: Date and time of transaction creation
          format: date-time
        updated_at:
          type: string
          description: Date and time of transaction update
          format: date-time
      example:
        investment_product_id: F0654GBP1
        status: instructed
        side: sell
        transaction_id: 066e9ac1-30fe-434a-856a-91deea3ea7b1
        value: '1000'
        created_at: '2023-01-30T08:21:24.260Z'
        updated_at: '2023-01-30T08:21:24.260Z'
    PotDetailsForGet:
      title: each pot instruction of the Rebalance request
      description: Each individual pot details on the rebalance request
      required:
        - pot_id
        - status
        - portfolio_template_id
        - portfolio_deviation
        - investor_id
      type: object
      properties:
        pot_id:
          type: string
          description: Identifier of pot triggered for rebalance
          example: pot-UKW3452850
        status:
          type: string
          description: Current status of the rebalance on the specific pot_id
          example: in_progress
          enum:
            - failed
            - processing
            - initiated
            - sell_in_progress
            - buy_in_progress
            - completed
        portfolio_template_id:
          type: string
          description: portfolio_template_id in used by the relevent pot
          example: pft-5472de57-d291-4914-930e-0bbf5cb0cc47
        investor_id:
          type: array
          items:
            type: string
            example: inv-XUT11265
        portfolio_deviation:
          type: string
          description: Portfolio deviation for the pot
          example: '50'
        reason:
          type: string
          description: if the status is rejected then the reason for it.
        instruction_id:
          type: string
          description: switch instruction ID
          example: d4c55e5e-c827-47ed-8811-b312f0cef2d2
        sell_instructions:
          type: array
          items:
            example:
              investment_product_id: F0654GBP1
              mode: value
              value: '1000'
            title: each buy or sell instruction of the Switch request
            description: >-
              Each individual buy side and sell side instruction of the Switch
              request
            required:
              - investment_product_id
              - mode
              - value
            type: object
            properties:
              investment_product_id:
                type: string
                description: >-
                  Identifier of the investment product sold or bought. If the
                  instruction is to use a cash holding (relevant only for sell
                  instruction) this must be `cash`
              mode:
                type: string
                description: >-
                  Mode of the instruction. If investment_product_id is `cash`
                  mode can only be set to `value` or `percentage` 
                enum:
                  - percentage
                  - unit
                  - value
              value:
                type: string
                description: >-
                  value according to the mode. e.g. mode `percentage` and value
                  `10` implies 10%
        buy_instructions:
          type: array
          items:
            example:
              investment_product_id: F1573GBP2
              mode: percentage
              value: '100'
            title: each buy or sell instruction of the Switch request
            description: >-
              Each individual buy side and sell side instruction of the Switch
              request
            required:
              - investment_product_id
              - mode
              - value
            type: object
            properties:
              investment_product_id:
                type: string
                description: >-
                  Identifier of the investment product sold or bought. If the
                  instruction is to use a cash holding (relevant only for sell
                  instruction) this must be `cash`
              mode:
                type: string
                description: >-
                  Mode of the instruction. If investment_product_id is `cash`
                  mode can only be set to `value` or `percentage` 
                enum:
                  - percentage
                  - unit
                  - value
              value:
                type: string
                description: >-
                  value according to the mode. e.g. mode `percentage` and value
                  `10` implies 10%
        transactions:
          type: array
          description: Array with status of all buy and sell transactions.
          items:
            required:
              - investment_product_id
              - status
              - side
              - transaction_id
              - created_at
            properties:
              investment_product_id:
                type: string
                description: Identifier of investment product that is bought or sold.
              status:
                type: string
                enum:
                  - instructed
                  - priced
                  - settled
                  - rejected
              side:
                type: string
                description: Side of the transaction
                enum:
                  - buy
                  - sell
              transaction_id:
                type: string
                description: Unique identifier of the transaction
              quantity:
                type: string
                description: quantity (in units)
              price:
                type: string
                description: Executed price of the transaction
              value:
                type: string
                description: Monetary value of the transaction
              created_at:
                type: string
                description: Date and time of transaction creation
                format: date-time
              updated_at:
                type: string
                description: Date and time of transaction update
                format: date-time
            example:
              investment_product_id: F0654GBP1
              status: instructed
              side: sell
              transaction_id: 066e9ac1-30fe-434a-856a-91deea3ea7b1
              value: '1000'
              created_at: '2023-01-30T08:21:24.260Z'
              updated_at: '2023-01-30T08:21:24.260Z'
    GetRebalanceResponse:
      required:
        - rebalanceExecution
        - next_page_available
      properties:
        rebalanceExecution:
          type: object
          required:
            - rebalance_request_id
            - status
            - pot_details
            - created_at
            - updated_at
          properties:
            rebalance_request_id:
              type: string
              description: Unique identifier of the rebalance instruction
              example: fh584838fff
            status:
              type: string
              description: Status of the rebalance instruction
              enum:
                - processing
                - in_progress
                - completed
                - failed
              example: completed
            pot_details:
              type: array
              description: Details of the each pot related to the rebalance instruction
              items:
                title: each pot instruction of the Rebalance request
                description: Each individual pot details on the rebalance request
                required:
                  - pot_id
                  - status
                  - portfolio_template_id
                  - portfolio_deviation
                  - investor_id
                type: object
                properties:
                  pot_id:
                    type: string
                    description: Identifier of pot triggered for rebalance
                    example: pot-UKW3452850
                  status:
                    type: string
                    description: Current status of the rebalance on the specific pot_id
                    example: in_progress
                    enum:
                      - failed
                      - processing
                      - initiated
                      - sell_in_progress
                      - buy_in_progress
                      - completed
                  portfolio_template_id:
                    type: string
                    description: portfolio_template_id in used by the relevent pot
                    example: pft-5472de57-d291-4914-930e-0bbf5cb0cc47
                  investor_id:
                    type: array
                    items:
                      type: string
                      example: inv-XUT11265
                  portfolio_deviation:
                    type: string
                    description: Portfolio deviation for the pot
                    example: '50'
                  reason:
                    type: string
                    description: if the status is rejected then the reason for it.
                  instruction_id:
                    type: string
                    description: switch instruction ID
                    example: d4c55e5e-c827-47ed-8811-b312f0cef2d2
                  sell_instructions:
                    type: array
                    items:
                      example:
                        investment_product_id: F0654GBP1
                        mode: value
                        value: '1000'
                      title: each buy or sell instruction of the Switch request
                      description: >-
                        Each individual buy side and sell side instruction of
                        the Switch request
                      required:
                        - investment_product_id
                        - mode
                        - value
                      type: object
                      properties:
                        investment_product_id:
                          type: string
                          description: >-
                            Identifier of the investment product sold or bought.
                            If the instruction is to use a cash holding
                            (relevant only for sell instruction) this must be
                            `cash`
                        mode:
                          type: string
                          description: >-
                            Mode of the instruction. If investment_product_id is
                            `cash` mode can only be set to `value` or
                            `percentage` 
                          enum:
                            - percentage
                            - unit
                            - value
                        value:
                          type: string
                          description: >-
                            value according to the mode. e.g. mode `percentage`
                            and value `10` implies 10%
                  buy_instructions:
                    type: array
                    items:
                      example:
                        investment_product_id: F1573GBP2
                        mode: percentage
                        value: '100'
                      title: each buy or sell instruction of the Switch request
                      description: >-
                        Each individual buy side and sell side instruction of
                        the Switch request
                      required:
                        - investment_product_id
                        - mode
                        - value
                      type: object
                      properties:
                        investment_product_id:
                          type: string
                          description: >-
                            Identifier of the investment product sold or bought.
                            If the instruction is to use a cash holding
                            (relevant only for sell instruction) this must be
                            `cash`
                        mode:
                          type: string
                          description: >-
                            Mode of the instruction. If investment_product_id is
                            `cash` mode can only be set to `value` or
                            `percentage` 
                          enum:
                            - percentage
                            - unit
                            - value
                        value:
                          type: string
                          description: >-
                            value according to the mode. e.g. mode `percentage`
                            and value `10` implies 10%
                  transactions:
                    type: array
                    description: Array with status of all buy and sell transactions.
                    items:
                      required:
                        - investment_product_id
                        - status
                        - side
                        - transaction_id
                        - created_at
                      properties:
                        investment_product_id:
                          type: string
                          description: >-
                            Identifier of investment product that is bought or
                            sold.
                        status:
                          type: string
                          enum:
                            - instructed
                            - priced
                            - settled
                            - rejected
                        side:
                          type: string
                          description: Side of the transaction
                          enum:
                            - buy
                            - sell
                        transaction_id:
                          type: string
                          description: Unique identifier of the transaction
                        quantity:
                          type: string
                          description: quantity (in units)
                        price:
                          type: string
                          description: Executed price of the transaction
                        value:
                          type: string
                          description: Monetary value of the transaction
                        created_at:
                          type: string
                          description: Date and time of transaction creation
                          format: date-time
                        updated_at:
                          type: string
                          description: Date and time of transaction update
                          format: date-time
                      example:
                        investment_product_id: F0654GBP1
                        status: instructed
                        side: sell
                        transaction_id: 066e9ac1-30fe-434a-856a-91deea3ea7b1
                        value: '1000'
                        created_at: '2023-01-30T08:21:24.260Z'
                        updated_at: '2023-01-30T08:21:24.260Z'
            reason:
              type: string
              description: Reason for failure
            warning:
              type: string
              description: >-
                List of instance IDs experiencing errors resulting in failed
                rebalance
              example: >-
                The following ids were not found [pot-PXO9735796,
                pot-LPO9735006]
            created_at:
              type: string
              description: Date and time of Rebalance request created
              format: date-time
            updated_at:
              type: string
              description: Date and time of Rebalance request updated
              format: date-time
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    ValueSumForSameCurrencyPots:
      required:
        - pot_currency
        - total_value
        - total_free_value
        - total_locked_value
        - total_cash_value
        - total_free_cash_value
        - total_locked_cash_value
        - total_settled_cash_position
      properties:
        pot_currency:
          type: string
          description: Currency of the pots
          example: GBP
        total_value:
          type: string
          description: Total value of the group of pots
          example: '400'
        total_free_value:
          type: string
          description: Total free value of the group of pots
          example: '250'
        total_locked_value:
          type: string
          description: Total locked value of the group of pots
          example: '150'
        total_cash_value:
          type: string
          description: Total cash value of the group of pots
          example: '300'
        total_free_cash_value:
          type: string
          description: Total free cash value of the group of pots
          example: '200'
        total_locked_cash_value:
          type: string
          description: Total locked cash value of the group of pots
          example: '100'
        total_settled_cash_position:
          type: string
          description: Total settled cash value of the group of pots
          example: '504.79'
        pots:
          type: array
          description: Pot ids of the pots belonging to the group
          items:
            required:
              - pot_id
            properties:
              pot_id:
                type: string
                example: pot-UKW3452850
    PotsOfInvestor:
      required:
        - total_values
      properties:
        total_values:
          type: array
          items:
            required:
              - pot_currency
              - total_value
              - total_free_value
              - total_locked_value
              - total_cash_value
              - total_free_cash_value
              - total_locked_cash_value
              - total_settled_cash_position
            properties:
              pot_currency:
                type: string
                description: Currency of the pots
                example: GBP
              total_value:
                type: string
                description: Total value of the group of pots
                example: '400'
              total_free_value:
                type: string
                description: Total free value of the group of pots
                example: '250'
              total_locked_value:
                type: string
                description: Total locked value of the group of pots
                example: '150'
              total_cash_value:
                type: string
                description: Total cash value of the group of pots
                example: '300'
              total_free_cash_value:
                type: string
                description: Total free cash value of the group of pots
                example: '200'
              total_locked_cash_value:
                type: string
                description: Total locked cash value of the group of pots
                example: '100'
              total_settled_cash_position:
                type: string
                description: Total settled cash value of the group of pots
                example: '504.79'
              pots:
                type: array
                description: Pot ids of the pots belonging to the group
                items:
                  required:
                    - pot_id
                  properties:
                    pot_id:
                      type: string
                      example: pot-UKW3452850
    PotHolding:
      required:
        - investment_product_id
        - currency
        - total_value
        - free_value
        - locked_value
      properties:
        investment_product_id:
          type: string
          description: >-
            Investment product id of the holding. Will be 'cash' for cash
            holdings
          readOnly: true
          example: F0573GBP1
        investment_product_name:
          type: string
          description: >-
            Investment product name of the holding. Will be empty for cash
            holdings
          readOnly: true
          example: VG 500
        price:
          type: string
          description: >-
            Last price available for the investment product. Will be empty for
            the cash holding
          readOnly: true
          example: '257.7856'
        price_date:
          type: string
          format: date
          description: >-
            Last price updated date for the investment product. Will be empty
            for the cash holding
          readOnly: true
          example: '2022-12-29'
        currency:
          type: string
          description: Currency of the pot
          readOnly: true
          example: GBP
        total_quantity:
          type: string
          description: >-
            Total quantity of the investment product holding. Will be empty for
            the cash holding
          readOnly: true
          example: '300'
        total_value:
          type: string
          description: Total value of the holding
          readOnly: true
          example: '534.87'
        free_quantity:
          type: string
          description: >-
            Free quantity of the investment product holding. Will be empty for
            the cash holding
          readOnly: true
          example: '30'
        free_value:
          type: string
          description: Free value of the holding
          readOnly: true
          example: '34'
        locked_quantity:
          type: string
          description: >-
            Locked quantity of the investment product holding. Will be empty for
            the cash holding
          readOnly: true
          example: '270'
        locked_value:
          type: string
          description: Locked value of the holding
          readOnly: true
          example: '500.87'
        average_book_cost:
          type: string
          description: >-
            Per-unit book cost for a particular holding (applicable for
            investment product holdings only)
          readOnly: true
          example: '34.89'
        cost_of_holding:
          type: string
          description: >-
            Total book cost for the total units currently held within the pot
            (applicable for investment product holdings only)
          readOnly: true
          example: '876.98'
        settled_cash_position:
          type: string
          description: >-
            Settled cash amount within the pot (applicable for cash holdings
            only)
          readOnly: true
          example: '56.90'
        additional_external_details:
          type: object
          description: >-
            Additional external details of the holding. This may be populated in
            reconciliation process
          readOnly: true
    PotHoldings:
      required:
        - pot_id
        - holdings
      properties:
        pot_id:
          type: string
          example: pot-GYQ5423100
          readOnly: true
        holdings:
          type: array
          readOnly: true
          description: Array of holdings belonging to a respective pot
          items:
            required:
              - investment_product_id
              - currency
              - total_value
              - free_value
              - locked_value
            properties:
              investment_product_id:
                type: string
                description: >-
                  Investment product id of the holding. Will be 'cash' for cash
                  holdings
                readOnly: true
                example: F0573GBP1
              investment_product_name:
                type: string
                description: >-
                  Investment product name of the holding. Will be empty for cash
                  holdings
                readOnly: true
                example: VG 500
              price:
                type: string
                description: >-
                  Last price available for the investment product. Will be empty
                  for the cash holding
                readOnly: true
                example: '257.7856'
              price_date:
                type: string
                format: date
                description: >-
                  Last price updated date for the investment product. Will be
                  empty for the cash holding
                readOnly: true
                example: '2022-12-29'
              currency:
                type: string
                description: Currency of the pot
                readOnly: true
                example: GBP
              total_quantity:
                type: string
                description: >-
                  Total quantity of the investment product holding. Will be
                  empty for the cash holding
                readOnly: true
                example: '300'
              total_value:
                type: string
                description: Total value of the holding
                readOnly: true
                example: '534.87'
              free_quantity:
                type: string
                description: >-
                  Free quantity of the investment product holding. Will be empty
                  for the cash holding
                readOnly: true
                example: '30'
              free_value:
                type: string
                description: Free value of the holding
                readOnly: true
                example: '34'
              locked_quantity:
                type: string
                description: >-
                  Locked quantity of the investment product holding. Will be
                  empty for the cash holding
                readOnly: true
                example: '270'
              locked_value:
                type: string
                description: Locked value of the holding
                readOnly: true
                example: '500.87'
              average_book_cost:
                type: string
                description: >-
                  Per-unit book cost for a particular holding (applicable for
                  investment product holdings only)
                readOnly: true
                example: '34.89'
              cost_of_holding:
                type: string
                description: >-
                  Total book cost for the total units currently held within the
                  pot (applicable for investment product holdings only)
                readOnly: true
                example: '876.98'
              settled_cash_position:
                type: string
                description: >-
                  Settled cash amount within the pot (applicable for cash
                  holdings only)
                readOnly: true
                example: '56.90'
              additional_external_details:
                type: object
                description: >-
                  Additional external details of the holding. This may be
                  populated in reconciliation process
                readOnly: true
    UpdatePot:
      title: Update Request Body for pot
      description: JSON for the Update pot resource type
      required:
        - reference_version
      properties:
        pot_name:
          type: string
          minLength: 1
          maxLength: 50
          example: Retirement Pot
        portfolio_template_id:
          type: string
          nullable: true
          example: pft-c60c9472-6668-4f7a-aa69
        status:
          type: string
          enum:
            - active
            - inactive
        reference_version:
          type: integer
          example: 1
    ValueSumForSameCurrencyPot:
      required:
        - pot_id
        - pot_currency
        - total_value
        - total_free_value
        - total_locked_value
        - total_cash_value
        - total_free_cash_value
        - total_locked_cash_value
        - settled_cash_position
      properties:
        pot_id:
          type: string
          description: Unique id of the pot
          example: pot-UKW3452850
        pot_currency:
          type: string
          description: Currency of the pot
          example: GBP
        total_value:
          type: string
          description: Total value of holdings of the pot
          example: '600'
        total_free_value:
          type: string
          description: Total free value of holdings of the pot
          example: '300'
        total_locked_value:
          type: string
          description: Total locked value of holdings of the pot
          example: '300'
        total_cash_value:
          type: string
          description: Total cash value of holdings of the pot
          example: '250'
        total_free_cash_value:
          type: string
          description: Total free cash value of holdings of the pot
          example: '50'
        total_locked_cash_value:
          type: string
          description: Total locked cash value of holdings of the pot
          example: '200'
        settled_cash_position:
          type: string
          description: Total settled cash value of holdings of the pot
          example: '334.87'
    PotTransaction:
      required:
        - transaction_id
        - created_at
        - updated_at
        - primary_transaction_type
        - sub_transaction_type
        - investment_product_id
        - currency
        - direction
        - type
        - sub_type
        - origin
      properties:
        parent_transaction_id:
          type: string
          description: Unique identifier for the parent transaction
          readOnly: true
        transaction_id:
          type: string
          description: Unique identifier for the transaction
          readOnly: true
        aggregated_transaction_id:
          type: string
          description: >-
            Unique identifier for the aggregated transaction. Only applicable
            for Switch Buy, Switch Sell, Rebalance Buy, Rebalance Sell, Tax
            Relief and Bonus Claim transactions
          readOnly: true
        external_transaction_reference:
          type: string
          description: External Transaction Reference
          readOnly: true
        created_at:
          format: date-time
          description: Indicates the transaction creation date/time
          readOnly: true
        updated_at:
          format: date-time
          description: Indicates the last updated date/time of the transaction
          readOnly: true
        primary_transaction_type:
          type: string
          description: Primary transaction type
          readOnly: true
          enum:
            - Fees
            - Buy
            - Sell
            - Transfers
            - Income
            - Tax
            - Contribution
            - Withdrawal
            - Corporate actions
        sub_transaction_type:
          type: string
          description: Sub transaction type
          readOnly: true
          enum:
            - Dividend Reinvestment
            - Interest Reinvestment
            - Reinvestment
            - Buy
            - Sell Cancel
            - Switch Buy
            - Sell
            - Buy Cancel
            - Switch Sell
            - Lump sum
            - Lump sum - non relievable
            - Employer contribution
            - Employee contribution
            - Regular contribution
            - Regular contribution - non relievable
            - Regular contribution - Employer
            - Payment in for fees
            - Internal Transfer - Cash In
            - Internal Transfer - Stock In
            - Internal Transfer - Cash Out
            - Internal Transfer - Stock Out
            - Stock Transfer In
            - Cash Transfer In
            - Stock Transfer Out
            - Cash Transfer Out
            - Commission
            - Ancillary fee
            - Management fee
            - Fee credit
            - Fee rebate
            - Advisor ongoing fee
            - One-off advisor fee
            - Commission rebate
            - Custody fees
            - Service fees
            - Product administration fees
            - Portfolio management fees
            - Platform fees
            - Dividends
            - Distributions
            - Interest
            - Other income
            - Takeovers, Mergers & Name Changes - Create
            - Takeovers, Mergers & Name Changes - Extinguish
            - Rights Expiry
            - Rights Exercise
            - Warrant Exercise
            - Fixed Income Maturity - Receive Capital
            - Fixed Income Maturity - Extinguish Bond Units
            - Fund Merger - Create New Fund Units
            - Fund Merger - Extinguish Old Fund Units
            - Rights Issue
            - Stock Dividend
            - Spin-Off
            - Warrant Issue
            - Stock Split
            - Fee Tax
            - Tax Relief
            - GST
            - HST
            - PST
            - QST
            - Withholding Tax
            - PAYE Tax
            - Non-resident Tax
            - Penalty
            - Contribution Refund
            - Income Withdrawal
            - Reversal
            - Withdrawal
            - Miscellaneous Corporate Action Exercise
            - PCLS Withdrawal
            - Withdrawal Charge
            - Contribution Bonus
        investment_product_id:
          type: string
          description: >-
            Investment product id of the transaction. Will be 'cash' for cash
            transaction
          readOnly: true
        fee_origin_pot:
          type: string
          description: (optional) Fee originated pot for the fee transactions
          readOnly: true
        client_order_id:
          type: string
          maxLength: 20
          description: (optional) Order identifier assigned by the wealth manager
        transaction_quantity:
          type: string
          description: >-
            Quantity of the investment product transaction. Will be empty for
            the cash transactions.
          readOnly: true
        transaction_value:
          type: string
          description: Value of the transaction. Up to 2 decimal values
          readOnly: true
        execution_price:
          type: string
          description: Executed price of the buy, sell transaction
          readOnly: true
        trade_date:
          type: string
          format: date
          description: Date the transaction was effected
          readOnly: true
        settlement_date:
          type: string
          format: date
          description: >-
            Intended settlement date of the pending transaction or actual the
            settled day of the transaction
          readOnly: true
        currency:
          type: string
          description: Currency of the transaction
          readOnly: true
        direction:
          type: string
          description: >-
            in = cash payment or pending buy transaction, out = cash out or
            pending sell transaction.
          readOnly: true
          enum:
            - in
            - out
        type:
          type: string
          description: State of the transaction
          readOnly: true
          enum:
            - pending
            - archived
        sub_type:
          type: string
          description: >-
            Sub state of the transaction. instructed, confirmed, priced
            sub_types applicable for pending state and rejected, cancelled,
            settled sub_types applicable for archived state
          readOnly: true
          enum:
            - instructed
            - confirmed
            - priced
            - rejected
            - settled
            - cancelled
            - scheduled
            - failed
        external_status:
          type: string
          description: Externel status of the transaction
          readOnly: true
          enum:
            - Submitted to HMRC
            - Submission pending
            - HMRC submission failed
            - HMRC resubmission failed
            - HMRC update failed
            - Pending
            - Paid
            - Cancelled
            - Void
            - Due
            - Collected
            - Superseded
        additional_external_details:
          type: object
          description: >-
            Additional external details of the transaction, This may be
            populated in reconciliation process
          readOnly: true
        origin:
          type: string
          description: Origin of the transaction
          readOnly: true
          enum:
            - api
            - admin_ui
            - file_upload
            - system
        source_id:
          type: string
          description: >-
            Required only for transactions created for payments intents -
            employer contributions for SIPP Accumulation Products
        reason:
          type: string
          description: >-
            This field populated only when status is failed or cancelled, with
            reason for cancellation or failure
        withdrawal_charge_applicable:
          type: boolean
          description: >-
            Mandatory for LISA financial products only. Flag to indicate if a
            withdrawal charge is applicable on the gross withdrawal amount
          readOnly: true
          enum:
            - true
            - false
        withdrawal_charge:
          type: string
          description: >-
            Applicable for LISA financial products only. Mandatory only if the
            withdrawal_charge_applicable = true. Value of the withdrawal charge
            applicable for the unauthorized withdrawal
      example:
        transaction_id: 80784c92-8f9d-4150-b83c-dc6d217a8155
        created_at: '2023-01-27T05:45:56.839Z'
        updated_at: '2023-01-27T05:45:56.839Z'
        primary_transaction_type: Contribution
        sub_transaction_type: Lump sum
        investment_product_id: cash
        transaction_value: '20000'
        settlement_date: '2023-01-27'
        currency: GBP
        direction: in
        type: archived
        sub_type: settled
        origin: api
    PotTransactions:
      required:
        - pot_id
        - transactions
        - next_page_available
      properties:
        pot_id:
          type: string
          readOnly: true
          example: pot-UKW3452850
        transactions:
          type: array
          readOnly: true
          items:
            required:
              - transaction_id
              - created_at
              - updated_at
              - primary_transaction_type
              - sub_transaction_type
              - investment_product_id
              - currency
              - direction
              - type
              - sub_type
              - origin
            properties:
              parent_transaction_id:
                type: string
                description: Unique identifier for the parent transaction
                readOnly: true
              transaction_id:
                type: string
                description: Unique identifier for the transaction
                readOnly: true
              aggregated_transaction_id:
                type: string
                description: >-
                  Unique identifier for the aggregated transaction. Only
                  applicable for Switch Buy, Switch Sell, Rebalance Buy,
                  Rebalance Sell, Tax Relief and Bonus Claim transactions
                readOnly: true
              external_transaction_reference:
                type: string
                description: External Transaction Reference
                readOnly: true
              created_at:
                format: date-time
                description: Indicates the transaction creation date/time
                readOnly: true
              updated_at:
                format: date-time
                description: Indicates the last updated date/time of the transaction
                readOnly: true
              primary_transaction_type:
                type: string
                description: Primary transaction type
                readOnly: true
                enum:
                  - Fees
                  - Buy
                  - Sell
                  - Transfers
                  - Income
                  - Tax
                  - Contribution
                  - Withdrawal
                  - Corporate actions
              sub_transaction_type:
                type: string
                description: Sub transaction type
                readOnly: true
                enum:
                  - Dividend Reinvestment
                  - Interest Reinvestment
                  - Reinvestment
                  - Buy
                  - Sell Cancel
                  - Switch Buy
                  - Sell
                  - Buy Cancel
                  - Switch Sell
                  - Lump sum
                  - Lump sum - non relievable
                  - Employer contribution
                  - Employee contribution
                  - Regular contribution
                  - Regular contribution - non relievable
                  - Regular contribution - Employer
                  - Payment in for fees
                  - Internal Transfer - Cash In
                  - Internal Transfer - Stock In
                  - Internal Transfer - Cash Out
                  - Internal Transfer - Stock Out
                  - Stock Transfer In
                  - Cash Transfer In
                  - Stock Transfer Out
                  - Cash Transfer Out
                  - Commission
                  - Ancillary fee
                  - Management fee
                  - Fee credit
                  - Fee rebate
                  - Advisor ongoing fee
                  - One-off advisor fee
                  - Commission rebate
                  - Custody fees
                  - Service fees
                  - Product administration fees
                  - Portfolio management fees
                  - Platform fees
                  - Dividends
                  - Distributions
                  - Interest
                  - Other income
                  - Takeovers, Mergers & Name Changes - Create
                  - Takeovers, Mergers & Name Changes - Extinguish
                  - Rights Expiry
                  - Rights Exercise
                  - Warrant Exercise
                  - Fixed Income Maturity - Receive Capital
                  - Fixed Income Maturity - Extinguish Bond Units
                  - Fund Merger - Create New Fund Units
                  - Fund Merger - Extinguish Old Fund Units
                  - Rights Issue
                  - Stock Dividend
                  - Spin-Off
                  - Warrant Issue
                  - Stock Split
                  - Fee Tax
                  - Tax Relief
                  - GST
                  - HST
                  - PST
                  - QST
                  - Withholding Tax
                  - PAYE Tax
                  - Non-resident Tax
                  - Penalty
                  - Contribution Refund
                  - Income Withdrawal
                  - Reversal
                  - Withdrawal
                  - Miscellaneous Corporate Action Exercise
                  - PCLS Withdrawal
                  - Withdrawal Charge
                  - Contribution Bonus
              investment_product_id:
                type: string
                description: >-
                  Investment product id of the transaction. Will be 'cash' for
                  cash transaction
                readOnly: true
              fee_origin_pot:
                type: string
                description: (optional) Fee originated pot for the fee transactions
                readOnly: true
              client_order_id:
                type: string
                maxLength: 20
                description: (optional) Order identifier assigned by the wealth manager
              transaction_quantity:
                type: string
                description: >-
                  Quantity of the investment product transaction. Will be empty
                  for the cash transactions.
                readOnly: true
              transaction_value:
                type: string
                description: Value of the transaction. Up to 2 decimal values
                readOnly: true
              execution_price:
                type: string
                description: Executed price of the buy, sell transaction
                readOnly: true
              trade_date:
                type: string
                format: date
                description: Date the transaction was effected
                readOnly: true
              settlement_date:
                type: string
                format: date
                description: >-
                  Intended settlement date of the pending transaction or actual
                  the settled day of the transaction
                readOnly: true
              currency:
                type: string
                description: Currency of the transaction
                readOnly: true
              direction:
                type: string
                description: >-
                  in = cash payment or pending buy transaction, out = cash out
                  or pending sell transaction.
                readOnly: true
                enum:
                  - in
                  - out
              type:
                type: string
                description: State of the transaction
                readOnly: true
                enum:
                  - pending
                  - archived
              sub_type:
                type: string
                description: >-
                  Sub state of the transaction. instructed, confirmed, priced
                  sub_types applicable for pending state and rejected,
                  cancelled, settled sub_types applicable for archived state
                readOnly: true
                enum:
                  - instructed
                  - confirmed
                  - priced
                  - rejected
                  - settled
                  - cancelled
                  - scheduled
                  - failed
              external_status:
                type: string
                description: Externel status of the transaction
                readOnly: true
                enum:
                  - Submitted to HMRC
                  - Submission pending
                  - HMRC submission failed
                  - HMRC resubmission failed
                  - HMRC update failed
                  - Pending
                  - Paid
                  - Cancelled
                  - Void
                  - Due
                  - Collected
                  - Superseded
              additional_external_details:
                type: object
                description: >-
                  Additional external details of the transaction, This may be
                  populated in reconciliation process
                readOnly: true
              origin:
                type: string
                description: Origin of the transaction
                readOnly: true
                enum:
                  - api
                  - admin_ui
                  - file_upload
                  - system
              source_id:
                type: string
                description: >-
                  Required only for transactions created for payments intents -
                  employer contributions for SIPP Accumulation Products
              reason:
                type: string
                description: >-
                  This field populated only when status is failed or cancelled,
                  with reason for cancellation or failure
              withdrawal_charge_applicable:
                type: boolean
                description: >-
                  Mandatory for LISA financial products only. Flag to indicate
                  if a withdrawal charge is applicable on the gross withdrawal
                  amount
                readOnly: true
                enum:
                  - true
                  - false
              withdrawal_charge:
                type: string
                description: >-
                  Applicable for LISA financial products only. Mandatory only if
                  the withdrawal_charge_applicable = true. Value of the
                  withdrawal charge applicable for the unauthorized withdrawal
            example:
              transaction_id: 80784c92-8f9d-4150-b83c-dc6d217a8155
              created_at: '2023-01-27T05:45:56.839Z'
              updated_at: '2023-01-27T05:45:56.839Z'
              primary_transaction_type: Contribution
              sub_transaction_type: Lump sum
              investment_product_id: cash
              transaction_value: '20000'
              settlement_date: '2023-01-27'
              currency: GBP
              direction: in
              type: archived
              sub_type: settled
              origin: api
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    InvestmentProducts:
      required:
        - investment_products
        - next_page_available
      type: object
      properties:
        investment_products:
          type: array
          items:
            required:
              - investment_product_id
              - asset_type
              - status
              - created_at
              - updated_at
            properties:
              investment_product_id:
                type: string
                readOnly: true
                description: Unique identifier of an investment product
                example: MAX2854
              asset_type:
                type: string
                readOnly: true
                description: Category of the investment product
                enum:
                  - funds
              status:
                type: string
                readOnly: true
                description: Status of the investment product
                enum:
                  - active
                  - inactive
              name:
                type: string
                readOnly: true
                description: Investment product name
                example: Canada Life Canadian Growth T5
              created_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-08T07:36:05.884Z'
              updated_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-10T07:36:05.884Z'
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    InvestmentProductPrice:
      required:
        - investment_product_id
        - current_price
        - currency
        - price_on_date
      properties:
        investment_product_id:
          type: string
          readOnly: true
          example: FUND345
        current_price:
          type: string
          readOnly: true
          description: Numeral string with two decimal point precision
          example: '45.78'
        currency:
          type: string
          readOnly: true
          description: Currency of the current price
          example: GBP
        price_on_date:
          type: string
          format: date
          readOnly: true
          example: '2019-08-24'
    InvestmentProductPrices:
      required:
        - investment_product_unit_prices
        - next_page_available
      type: object
      properties:
        investment_product_unit_prices:
          type: array
          items:
            required:
              - investment_product_id
              - current_price
              - currency
              - price_on_date
            properties:
              investment_product_id:
                type: string
                readOnly: true
                example: FUND345
              current_price:
                type: string
                readOnly: true
                description: Numeral string with two decimal point precision
                example: '45.78'
              currency:
                type: string
                readOnly: true
                description: Currency of the current price
                example: GBP
              price_on_date:
                type: string
                format: date
                readOnly: true
                example: '2019-08-24'
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    InvestmentProduct:
      required:
        - investment_product_id
        - id_type
        - asset_type
        - pricing_method
        - additional_provider_details
        - currency
        - applicable_financial_products
        - settlement_date_offset
        - status
        - close_price
        - close_price_on_date
        - created_at
        - updated_at
      properties:
        investment_product_id:
          type: string
          readOnly: true
          example: MAX2854
          description: Unique identifier of an investment product
        id_type:
          type: string
          readOnly: true
          description: The type of id that is populated as investment_product_id
          enum:
            - ISIN
            - CUSIP
            - FundServID
        name:
          type: string
          readOnly: true
          description: Investment product name
          example: Canada Life Canadian Growth T5
        asset_type:
          type: string
          readOnly: true
          description: Category of the investment product
          enum:
            - funds
        asset_sub_type:
          type: string
          readOnly: true
          example: Canadian Open End
          description: Sub-category of the investment product
        currency:
          type: string
          readOnly: true
          example: CAD
          description: currency of the investment product in ISO 4217 format
        pricing_method:
          type: string
          readOnly: true
          example: NAV
          description: Method used to calculate the investment product price
        fund_asset_type:
          type: string
          readOnly: true
          example: Mutual Funds
          description: >-
            Sub-type of investment product. Relevant for investment products of
            type fund only
        fund_code:
          type: string
          readOnly: true
          example: MAX2854
          description: Fund code identifier. Relevant for investment products of type fund
        applicable_financial_products:
          type: array
          readOnly: true
          description: Financial products this investment product is applicable for
          items:
            type: string
            enum:
              - gia
              - isa
              - pension
        settlement_date_offset:
          type: number
          readOnly: true
          example: 3
          description: settlement date offset of investment product
        status:
          type: string
          readOnly: true
          description: Status of the investment product
          enum:
            - active
            - inactive
        close_price:
          type: string
          readOnly: true
          example: '12.745'
          description: The final price for the day of the investment product
        close_price_on_date:
          type: string
          format: date
          readOnly: true
          example: '2021-09-03'
          description: Exact day the close_price was recorded for the investment product
        additional_provider_details:
          type: object
          readOnly: true
          description: Supplies additional custom information of an investment product
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
    PortfolioRatio:
      required:
        - investment_product_id
        - ratio
      properties:
        investment_product_id:
          type: string
          description: must be an investment product id or 'cash'
        ratio:
          type: string
          description: 'must be in correct pattern (eg: 25.00, 33.34, 50.25, 100.00)'
    Portfolio:
      required:
        - portfolio_template_id
        - reference_version
        - portfolio_name
        - ratios
        - owner
        - created_at
        - updated_at
      properties:
        portfolio_template_id:
          type: string
          readOnly: true
          description: system generated id
          maxLength: 64
          example: pft-c60c9472-6668-4f7a-aa69
        portfolio_name:
          type: string
          minLength: 3
          maxLength: 50
          example: PFT5689
        reference_version:
          type: integer
          readOnly: true
          example: 1
        owner:
          type: string
          readOnly: true
          example: SYSTEM
        ratios:
          type: array
          items:
            required:
              - investment_product_id
              - ratio
            properties:
              investment_product_id:
                type: string
                description: must be an investment product id or 'cash'
              ratio:
                type: string
                description: 'must be in correct pattern (eg: 25.00, 33.34, 50.25, 100.00)'
          example:
            - investment_product_id: ETF069GBP
              ratio: '60'
            - investment_product_id: BND058GBP
              ratio: '40'
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
    PortfolioRequest:
      required:
        - portfolio_template_id
        - reference_version
        - portfolio_name
        - ratios
      properties:
        portfolio_template_id:
          type: string
          readOnly: true
          description: system generated id
          maxLength: 64
          example: pft-c60c9472-6668-4f7a-aa69
        portfolio_name:
          type: string
          example: PFT5689
        owner:
          type: string
          readOnly: true
          example: SYSTEM
        ratios:
          type: array
          items:
            required:
              - investment_product_id
              - ratio
            properties:
              investment_product_id:
                type: string
                description: must be an investment product id or 'cash'
              ratio:
                type: string
                description: 'must be in correct pattern (eg: 25.00, 33.34, 50.25, 100.00)'
          example:
            - investment_product_id: ETF069GBP
              ratio: '60'
            - investment_product_id: BND058GBP
              ratio: '40'
    UpdatePortfolio:
      required:
        - reference_version
      properties:
        portfolio_name:
          type: string
          minLength: 3
          maxLength: 50
          example: PFT5689
        ratios:
          type: array
          description: Replaces the array in the server.
          items:
            required:
              - investment_product_id
              - ratio
            properties:
              investment_product_id:
                type: string
                description: must be an investment product id or 'cash'
              ratio:
                type: string
                description: 'must be in correct pattern (eg: 25.00, 33.34, 50.25, 100.00)'
        reference_version:
          type: integer
          description: Must match with the reference version in the server
          example: 1
    TransactionsResponse:
      required:
        - transaction_id
        - created_at
        - updated_at
        - primary_transaction_type
        - sub_transaction_type
        - investment_product_id
        - direction
        - type
        - sub_type
        - origin
      properties:
        parent_transaction_id:
          type: string
          description: Unique identifier for the parent transaction
          readOnly: true
        transaction_id:
          type: string
          description: Unique identifier for the transaction
          readOnly: true
        aggregated_transaction_id:
          type: string
          description: >-
            Unique identifier for the aggregated transaction. Only applicable
            for Switch Buy, Switch Sell, Rebalance Buy, Rebalance Sell, Tax
            Relief and Bonus Claim transactions
          readOnly: true
        external_transaction_reference:
          type: string
          description: External Transaction Reference
          readOnly: true
        created_at:
          type: string
          description: Indicates the transaction creation date/time
          readOnly: true
        updated_at:
          type: string
          description: Indicates the last updated date/time of the transaction
          readOnly: true
        primary_transaction_type:
          type: string
          description: Primary transaction type
          readOnly: true
          enum:
            - Fees
            - Buy
            - Sell
            - Transfers
            - Income
            - Tax
            - Contribution
            - Withdrawal
            - Corporate actions
        sub_transaction_type:
          type: string
          description: Sub transaction type
          readOnly: true
          enum:
            - Dividend Reinvestment
            - Interest Reinvestment
            - Reinvestment
            - Buy
            - Sell Cancel
            - Switch Buy
            - Sell
            - Buy Cancel
            - Switch Sell
            - Lump sum
            - Lump sum - non relievable
            - Employer contribution
            - Employee contribution
            - Regular contribution
            - Regular contribution - non relievable
            - Regular contribution - Employer
            - Payment in for fees
            - Internal Transfer - Cash In
            - Internal Transfer - Stock In
            - Internal Transfer - Cash Out
            - Internal Transfer - Stock Out
            - Stock Transfer In
            - Cash Transfer In
            - Stock Transfer Out
            - Cash Transfer Out
            - Commission
            - Ancillary fee
            - Management fee
            - Fee credit
            - Fee rebate
            - Advisor ongoing fee
            - One-off advisor fee
            - Commission rebate
            - Custody fees
            - Service fees
            - Product administration fees
            - Portfolio management fees
            - Platform fees
            - Dividends
            - Distributions
            - Interest
            - Other income
            - Takeovers, Mergers & Name Changes - Create
            - Takeovers, Mergers & Name Changes - Extinguish
            - Rights Expiry
            - Rights Exercise
            - Warrant Exercise
            - Fixed Income Maturity - Receive Capital
            - Fixed Income Maturity - Extinguish Bond Units
            - Fund Merger - Create New Fund Units
            - Fund Merger - Extinguish Old Fund Units
            - Rights Issue
            - Stock Dividend
            - Spin-Off
            - Warrant Issue
            - Stock Split
            - Fee Tax
            - Tax Relief
            - GST
            - HST
            - PST
            - QST
            - Withholding Tax
            - PAYE Tax
            - Non-resident Tax
            - Penalty
            - Contribution Refund
            - Income Withdrawal
            - Reversal
            - Withdrawal
            - Miscellaneous Corporate Action Exercise
            - PCLS Withdrawal
            - Withdrawal Charge
        investment_product_id:
          type: string
          description: >-
            Investment product id of the transaction. Will be 'cash' for cash
            transaction
          readOnly: true
        fee_origin_pot:
          type: string
          description: (optional) Fee originated pot for the fee transactions
          readOnly: true
        client_order_id:
          type: string
          maxLength: 20
          description: (optional) Order identifier assigned by the wealth manager
        transaction_quantity:
          type: string
          description: >-
            Quantity of the investment product transaction. Will be empty for
            the cash transactions
          readOnly: true
        transaction_value:
          type: number
          description: Value of the transaction. Up to 2 decimal values
          readOnly: true
        execution_price:
          type: string
          description: Executed price of the buy, sell transaction
          readOnly: true
        trade_date:
          type: string
          description: Date the transaction was effected
          readOnly: true
        settlement_date:
          type: string
          description: >-
            Intended settlement date of the pending transaction or actual the
            settled day of the transaction
          readOnly: true
        currency:
          type: string
          description: Currency of the transaction
          readOnly: true
        direction:
          type: string
          description: >-
            in = cash payment or pending buy transaction, out = cash out or
            pending sell transaction.
          readOnly: true
          enum:
            - in
            - out
        type:
          type: string
          description: State of the transaction
          readOnly: true
          enum:
            - pending
            - archived
        sub_type:
          type: string
          description: >-
            Sub state of the transaction. instructed, confirmed, priced
            sub_types applicable for pending state and rejected, cancelled,
            settled sub_types applicable for archived state
          readOnly: true
          enum:
            - instructed
            - confirmed
            - priced
            - rejected
            - settled
            - cancelled
            - scheduled
            - failed
        external_status:
          type: string
          description: Externel status of the transaction
          readOnly: true
          enum:
            - Submitted to HMRC
            - Submission pending
            - HMRC submission failed
            - HMRC resubmission failed
            - HMRC update failed
            - Pending
            - Paid
            - Cancelled
            - Void
            - Due
            - Collected
            - Superseded
            - Successful
            - Failed
        additional_external_details:
          type: object
          description: >-
            Additional external details of the transaction, This may be
            populated in reconciliation process
          readOnly: true
        origin:
          type: string
          description: Origin of the transaction
          readOnly: true
          enum:
            - api
            - admin_ui
            - file_upload
            - system
        source_id:
          type: string
          description: >-
            Required only for transactions created for payments intents -
            employer contributions for SIPP Accumulation Products
        reason:
          type: string
          description: >-
            This field populated only when status is failed or cancelled, with
            reason for cancellation or failure
        withdrawal_charge_applicable:
          type: boolean
          description: >-
            Mandatory for LISA financial products only. Flag to indicate if a
            withdrawal charge is applicable on the gross withdrawal amount
          readOnly: true
          enum:
            - true
            - false
        withdrawal_charge:
          type: string
          description: >-
            Applicable for LISA financial products only. Mandatory only if the
            withdrawal_charge_applicable = true. Value of the withdrawal charge
            applicable for the unauthorized withdrawal
      example:
        transaction_id: 80784c92-8f9d-4150-b83c-dc6d217a8155
        created_at: '2023-01-27T05:45:56.839Z'
        updated_at: '2023-01-27T05:45:56.839Z'
        primary_transaction_type: Contribution
        sub_transaction_type: Lump sum
        investment_product_id: cash
        transaction_value: '20000'
        settlement_date: '2023-01-27'
        currency: GBP
        direction: in
        type: archived
        sub_type: settled
        origin: api
    GetAllTransactionResponse:
      required:
        - transactions
        - next_page_available
      properties:
        transactions:
          type: array
          readOnly: true
          items:
            required:
              - transaction_id
              - created_at
              - updated_at
              - primary_transaction_type
              - sub_transaction_type
              - investment_product_id
              - direction
              - type
              - sub_type
              - origin
            properties:
              parent_transaction_id:
                type: string
                description: Unique identifier for the parent transaction
                readOnly: true
              transaction_id:
                type: string
                description: Unique identifier for the transaction
                readOnly: true
              aggregated_transaction_id:
                type: string
                description: >-
                  Unique identifier for the aggregated transaction. Only
                  applicable for Switch Buy, Switch Sell, Rebalance Buy,
                  Rebalance Sell, Tax Relief and Bonus Claim transactions
                readOnly: true
              external_transaction_reference:
                type: string
                description: External Transaction Reference
                readOnly: true
              created_at:
                type: string
                description: Indicates the transaction creation date/time
                readOnly: true
              updated_at:
                type: string
                description: Indicates the last updated date/time of the transaction
                readOnly: true
              primary_transaction_type:
                type: string
                description: Primary transaction type
                readOnly: true
                enum:
                  - Fees
                  - Buy
                  - Sell
                  - Transfers
                  - Income
                  - Tax
                  - Contribution
                  - Withdrawal
                  - Corporate actions
              sub_transaction_type:
                type: string
                description: Sub transaction type
                readOnly: true
                enum:
                  - Dividend Reinvestment
                  - Interest Reinvestment
                  - Reinvestment
                  - Buy
                  - Sell Cancel
                  - Switch Buy
                  - Sell
                  - Buy Cancel
                  - Switch Sell
                  - Lump sum
                  - Lump sum - non relievable
                  - Employer contribution
                  - Employee contribution
                  - Regular contribution
                  - Regular contribution - non relievable
                  - Regular contribution - Employer
                  - Payment in for fees
                  - Internal Transfer - Cash In
                  - Internal Transfer - Stock In
                  - Internal Transfer - Cash Out
                  - Internal Transfer - Stock Out
                  - Stock Transfer In
                  - Cash Transfer In
                  - Stock Transfer Out
                  - Cash Transfer Out
                  - Commission
                  - Ancillary fee
                  - Management fee
                  - Fee credit
                  - Fee rebate
                  - Advisor ongoing fee
                  - One-off advisor fee
                  - Commission rebate
                  - Custody fees
                  - Service fees
                  - Product administration fees
                  - Portfolio management fees
                  - Platform fees
                  - Dividends
                  - Distributions
                  - Interest
                  - Other income
                  - Takeovers, Mergers & Name Changes - Create
                  - Takeovers, Mergers & Name Changes - Extinguish
                  - Rights Expiry
                  - Rights Exercise
                  - Warrant Exercise
                  - Fixed Income Maturity - Receive Capital
                  - Fixed Income Maturity - Extinguish Bond Units
                  - Fund Merger - Create New Fund Units
                  - Fund Merger - Extinguish Old Fund Units
                  - Rights Issue
                  - Stock Dividend
                  - Spin-Off
                  - Warrant Issue
                  - Stock Split
                  - Fee Tax
                  - Tax Relief
                  - GST
                  - HST
                  - PST
                  - QST
                  - Withholding Tax
                  - PAYE Tax
                  - Non-resident Tax
                  - Penalty
                  - Contribution Refund
                  - Income Withdrawal
                  - Reversal
                  - Withdrawal
                  - Miscellaneous Corporate Action Exercise
                  - PCLS Withdrawal
                  - Withdrawal Charge
              investment_product_id:
                type: string
                description: >-
                  Investment product id of the transaction. Will be 'cash' for
                  cash transaction
                readOnly: true
              fee_origin_pot:
                type: string
                description: (optional) Fee originated pot for the fee transactions
                readOnly: true
              client_order_id:
                type: string
                maxLength: 20
                description: (optional) Order identifier assigned by the wealth manager
              transaction_quantity:
                type: string
                description: >-
                  Quantity of the investment product transaction. Will be empty
                  for the cash transactions
                readOnly: true
              transaction_value:
                type: number
                description: Value of the transaction. Up to 2 decimal values
                readOnly: true
              execution_price:
                type: string
                description: Executed price of the buy, sell transaction
                readOnly: true
              trade_date:
                type: string
                description: Date the transaction was effected
                readOnly: true
              settlement_date:
                type: string
                description: >-
                  Intended settlement date of the pending transaction or actual
                  the settled day of the transaction
                readOnly: true
              currency:
                type: string
                description: Currency of the transaction
                readOnly: true
              direction:
                type: string
                description: >-
                  in = cash payment or pending buy transaction, out = cash out
                  or pending sell transaction.
                readOnly: true
                enum:
                  - in
                  - out
              type:
                type: string
                description: State of the transaction
                readOnly: true
                enum:
                  - pending
                  - archived
              sub_type:
                type: string
                description: >-
                  Sub state of the transaction. instructed, confirmed, priced
                  sub_types applicable for pending state and rejected,
                  cancelled, settled sub_types applicable for archived state
                readOnly: true
                enum:
                  - instructed
                  - confirmed
                  - priced
                  - rejected
                  - settled
                  - cancelled
                  - scheduled
                  - failed
              external_status:
                type: string
                description: Externel status of the transaction
                readOnly: true
                enum:
                  - Submitted to HMRC
                  - Submission pending
                  - HMRC submission failed
                  - HMRC resubmission failed
                  - HMRC update failed
                  - Pending
                  - Paid
                  - Cancelled
                  - Void
                  - Due
                  - Collected
                  - Superseded
                  - Successful
                  - Failed
              additional_external_details:
                type: object
                description: >-
                  Additional external details of the transaction, This may be
                  populated in reconciliation process
                readOnly: true
              origin:
                type: string
                description: Origin of the transaction
                readOnly: true
                enum:
                  - api
                  - admin_ui
                  - file_upload
                  - system
              source_id:
                type: string
                description: >-
                  Required only for transactions created for payments intents -
                  employer contributions for SIPP Accumulation Products
              reason:
                type: string
                description: >-
                  This field populated only when status is failed or cancelled,
                  with reason for cancellation or failure
              withdrawal_charge_applicable:
                type: boolean
                description: >-
                  Mandatory for LISA financial products only. Flag to indicate
                  if a withdrawal charge is applicable on the gross withdrawal
                  amount
                readOnly: true
                enum:
                  - true
                  - false
              withdrawal_charge:
                type: string
                description: >-
                  Applicable for LISA financial products only. Mandatory only if
                  the withdrawal_charge_applicable = true. Value of the
                  withdrawal charge applicable for the unauthorized withdrawal
            example:
              transaction_id: 80784c92-8f9d-4150-b83c-dc6d217a8155
              created_at: '2023-01-27T05:45:56.839Z'
              updated_at: '2023-01-27T05:45:56.839Z'
              primary_transaction_type: Contribution
              sub_transaction_type: Lump sum
              investment_product_id: cash
              transaction_value: '20000'
              settlement_date: '2023-01-27'
              currency: GBP
              direction: in
              type: archived
              sub_type: settled
              origin: api
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    TransactionRequest:
      type: object
      required:
        - request_id
        - pot_id
      properties:
        request_id:
          type: string
          format: uuid
          description: 'Unique request id to ensure idempotency. (ex: UUID)'
        pot_id:
          type: string
          example: pot-UKW3452850
    TransactionInstruction:
      title: Instruction(buy|sell)
      description: Definition of an single instruction(buy|sell)
      required:
        - investment_product_id
      type: object
      properties:
        investment_product_id:
          type: string
        quantity:
          type: string
          description: >-
            Require if `value` is not available. Must be in correct pattern (eg:
            25, 332.34, 1050.0025). For `funds`, upto 4 decimal places. For
            `equities`, `bonds` and `etf`, 0 decimal places allowed.
        value:
          type: string
          description: >-
            Require if `quantity` is not available. Must be in correct pattern
            (upto 2 decimal places, eg: 25, 332.3, 1050.25).
        client_order_id:
          type: string
          maxLength: 20
          description: (Optional) Order identifier assigned by the wealth manager
    BuyTransactionRequest:
      title: Buy Transaction Request
      description: Definition of an buy transaction request
      allOf:
        - type: object
          required:
            - request_id
            - pot_id
          properties:
            request_id:
              type: string
              format: uuid
              description: 'Unique request id to ensure idempotency. (ex: UUID)'
            pot_id:
              type: string
              example: pot-UKW3452850
        - type: object
          required:
            - investment_instructions
          properties:
            investment_instructions:
              type: array
              items:
                title: Instruction(buy|sell)
                description: Definition of an single instruction(buy|sell)
                required:
                  - investment_product_id
                type: object
                properties:
                  investment_product_id:
                    type: string
                  quantity:
                    type: string
                    description: >-
                      Require if `value` is not available. Must be in correct
                      pattern (eg: 25, 332.34, 1050.0025). For `funds`, upto 4
                      decimal places. For `equities`, `bonds` and `etf`, 0
                      decimal places allowed.
                  value:
                    type: string
                    description: >-
                      Require if `quantity` is not available. Must be in correct
                      pattern (upto 2 decimal places, eg: 25, 332.3, 1050.25).
                  client_order_id:
                    type: string
                    maxLength: 20
                    description: (Optional) Order identifier assigned by the wealth manager
              example:
                - investment_product_id: EPCCTST7
                  quantity: '10'
                  client_order_id: cl-02456s42sd3
                - investment_product_id: EPCCTST9
                  quantity: '-10'
    TransactionResponse:
      type: object
      required:
        - status
        - pot_id
      properties:
        status:
          type: string
          description: >-
            status of the transaction request

            . `success`: All requested transactions success

            . `partially_success`: Some (but not all) requested transactions
            success
             
          enum:
            - success
            - partially_success
          example: partially_success
        pot_id:
          type: string
          readOnly: true
          example: pot-UKW3452850
    TransactionRequestStatus:
      type: object
      required:
        - transaction_id
        - created_at
        - updated_at
        - primary_transaction_type
        - sub_transaction_type
        - investment_product_id
        - currency
        - direction
        - type
        - sub_type
        - origin
        - success
      properties:
        success:
          type: boolean
          enum:
            - true
            - false
        message:
          type: string
          description: Reason for failure if success = false
        parent_transaction_id:
          type: string
          description: parent_transaction_id
        transaction_id:
          type: string
          description: transaction_id of successful transaction
        external_transaction_reference:
          type: string
          description: External Transaction Reference
          readOnly: true
        created_at:
          type: string
          format: date-time
          description: Will indicate the date where this record was created
          readOnly: true
        updated_at:
          type: string
          format: date-time
          description: Will indicate the date where this record was last changed
          readOnly: true
        primary_transaction_type:
          type: string
        sub_transaction_type:
          type: string
        investment_product_id:
          type: string
          description: Investment product id of the transaction
          readOnly: true
        client_order_id:
          type: string
          maxLength: 20
          description: (optional) Order identifier assigned by the wealth manager
        transaction_quantity:
          type: string
          description: >-
            (optional) quantity of the investment product, required for unit
            based orders
        transaction_value:
          type: string
          description: >-
            (optional) value of the investment product, required for value based
            orders
        execution_price:
          type: string
        trade_date:
          type: string
          format: date
          description: Date the transaction was effected
          readOnly: true
        settlement_date:
          type: string
          format: date
          description: >-
            Intended settlement date of the pending transaction or actual the
            settled day of the transaction
          readOnly: true
        currency:
          type: string
          description: Currency of the transaction
          readOnly: true
        direction:
          type: string
        type:
          type: string
          description: State of the transaction
          readOnly: true
          enum:
            - pending
            - archived
        sub_type:
          type: string
          description: >-
            Sub state of the transaction. instructed, confirmed, priced and
            scheduled sub_types are applicable for pending state and rejected,
            cancelled, settled sub_types applicable for archived state
          readOnly: true
          enum:
            - instructed
            - confirmed
            - priced
            - rejected
            - settled
            - cancelled
            - scheduled
        additional_external_details:
          type: object
          description: >-
            Additional external details of the transaction, This may be
            populated in reconciliation process
          readOnly: true
        origin:
          type: string
          description: Origin of the transaction
          readOnly: true
          enum:
            - api
    BuyTransactionRequestStatus:
      allOf:
        - type: object
          required:
            - transaction_id
            - created_at
            - updated_at
            - primary_transaction_type
            - sub_transaction_type
            - investment_product_id
            - currency
            - direction
            - type
            - sub_type
            - origin
            - success
          properties:
            success:
              type: boolean
              enum:
                - true
                - false
            message:
              type: string
              description: Reason for failure if success = false
            parent_transaction_id:
              type: string
              description: parent_transaction_id
            transaction_id:
              type: string
              description: transaction_id of successful transaction
            external_transaction_reference:
              type: string
              description: External Transaction Reference
              readOnly: true
            created_at:
              type: string
              format: date-time
              description: Will indicate the date where this record was created
              readOnly: true
            updated_at:
              type: string
              format: date-time
              description: Will indicate the date where this record was last changed
              readOnly: true
            primary_transaction_type:
              type: string
            sub_transaction_type:
              type: string
            investment_product_id:
              type: string
              description: Investment product id of the transaction
              readOnly: true
            client_order_id:
              type: string
              maxLength: 20
              description: (optional) Order identifier assigned by the wealth manager
            transaction_quantity:
              type: string
              description: >-
                (optional) quantity of the investment product, required for unit
                based orders
            transaction_value:
              type: string
              description: >-
                (optional) value of the investment product, required for value
                based orders
            execution_price:
              type: string
            trade_date:
              type: string
              format: date
              description: Date the transaction was effected
              readOnly: true
            settlement_date:
              type: string
              format: date
              description: >-
                Intended settlement date of the pending transaction or actual
                the settled day of the transaction
              readOnly: true
            currency:
              type: string
              description: Currency of the transaction
              readOnly: true
            direction:
              type: string
            type:
              type: string
              description: State of the transaction
              readOnly: true
              enum:
                - pending
                - archived
            sub_type:
              type: string
              description: >-
                Sub state of the transaction. instructed, confirmed, priced and
                scheduled sub_types are applicable for pending state and
                rejected, cancelled, settled sub_types applicable for archived
                state
              readOnly: true
              enum:
                - instructed
                - confirmed
                - priced
                - rejected
                - settled
                - cancelled
                - scheduled
            additional_external_details:
              type: object
              description: >-
                Additional external details of the transaction, This may be
                populated in reconciliation process
              readOnly: true
            origin:
              type: string
              description: Origin of the transaction
              readOnly: true
              enum:
                - api
        - type: object
          properties:
            primary_transaction_type:
              readOnly: true
              enum:
                - Buy
            sub_transaction_type:
              description: Sub transaction type
              readOnly: true
              enum:
                - Buy
            execution_price:
              description: Executed price of the buy transaction
              readOnly: true
            direction:
              description: pending buy transaction
              readOnly: true
              enum:
                - in
    BuyTransactionResponse:
      allOf:
        - type: object
          required:
            - status
            - pot_id
          properties:
            status:
              type: string
              description: >-
                status of the transaction request

                . `success`: All requested transactions success

                . `partially_success`: Some (but not all) requested transactions
                success
                 
              enum:
                - success
                - partially_success
              example: partially_success
            pot_id:
              type: string
              readOnly: true
              example: pot-UKW3452850
        - type: object
          properties:
            results:
              type: array
              description: >-
                Array of successes and failures. Failures will include a reason
                for the error
              items:
                allOf:
                  - type: object
                    required:
                      - transaction_id
                      - created_at
                      - updated_at
                      - primary_transaction_type
                      - sub_transaction_type
                      - investment_product_id
                      - currency
                      - direction
                      - type
                      - sub_type
                      - origin
                      - success
                    properties:
                      success:
                        type: boolean
                        enum:
                          - true
                          - false
                      message:
                        type: string
                        description: Reason for failure if success = false
                      parent_transaction_id:
                        type: string
                        description: parent_transaction_id
                      transaction_id:
                        type: string
                        description: transaction_id of successful transaction
                      external_transaction_reference:
                        type: string
                        description: External Transaction Reference
                        readOnly: true
                      created_at:
                        type: string
                        format: date-time
                        description: Will indicate the date where this record was created
                        readOnly: true
                      updated_at:
                        type: string
                        format: date-time
                        description: >-
                          Will indicate the date where this record was last
                          changed
                        readOnly: true
                      primary_transaction_type:
                        type: string
                      sub_transaction_type:
                        type: string
                      investment_product_id:
                        type: string
                        description: Investment product id of the transaction
                        readOnly: true
                      client_order_id:
                        type: string
                        maxLength: 20
                        description: >-
                          (optional) Order identifier assigned by the wealth
                          manager
                      transaction_quantity:
                        type: string
                        description: >-
                          (optional) quantity of the investment product,
                          required for unit based orders
                      transaction_value:
                        type: string
                        description: >-
                          (optional) value of the investment product, required
                          for value based orders
                      execution_price:
                        type: string
                      trade_date:
                        type: string
                        format: date
                        description: Date the transaction was effected
                        readOnly: true
                      settlement_date:
                        type: string
                        format: date
                        description: >-
                          Intended settlement date of the pending transaction or
                          actual the settled day of the transaction
                        readOnly: true
                      currency:
                        type: string
                        description: Currency of the transaction
                        readOnly: true
                      direction:
                        type: string
                      type:
                        type: string
                        description: State of the transaction
                        readOnly: true
                        enum:
                          - pending
                          - archived
                      sub_type:
                        type: string
                        description: >-
                          Sub state of the transaction. instructed, confirmed,
                          priced and scheduled sub_types are applicable for
                          pending state and rejected, cancelled, settled
                          sub_types applicable for archived state
                        readOnly: true
                        enum:
                          - instructed
                          - confirmed
                          - priced
                          - rejected
                          - settled
                          - cancelled
                          - scheduled
                      additional_external_details:
                        type: object
                        description: >-
                          Additional external details of the transaction, This
                          may be populated in reconciliation process
                        readOnly: true
                      origin:
                        type: string
                        description: Origin of the transaction
                        readOnly: true
                        enum:
                          - api
                  - type: object
                    properties:
                      primary_transaction_type:
                        readOnly: true
                        enum:
                          - Buy
                      sub_transaction_type:
                        description: Sub transaction type
                        readOnly: true
                        enum:
                          - Buy
                      execution_price:
                        description: Executed price of the buy transaction
                        readOnly: true
                      direction:
                        description: pending buy transaction
                        readOnly: true
                        enum:
                          - in
              example:
                - transaction_quantity: '10'
                  success: true
                  transaction_id: 738b9aaa-6320-4132-b7c7-1a57d607c15e
                  investment_product_id: EPCCTST7
                  client_order_id: cl-02456s42sd3
                  primary_transaction_type: Buy
                  sub_transaction_type: Buy
                  type: pending
                  sub_type: instructed
                  currency: GBP
                  direction: in
                  created_at: '2023-01-27T11:33:32.285Z'
                  updated_at: '2023-01-27T11:33:32.285Z'
                  trade_date: '2023-01-27'
                  origin: api
                - message: >-
                    Transaction quantity is lower than the minimum allowed
                    (EPCCTST9)
                  success: false
    SellTransactionRequest:
      title: Sell Transaction Request
      description: Definition of an sell transaction request
      allOf:
        - type: object
          required:
            - request_id
            - pot_id
          properties:
            request_id:
              type: string
              format: uuid
              description: 'Unique request id to ensure idempotency. (ex: UUID)'
            pot_id:
              type: string
              example: pot-UKW3452850
        - type: object
          properties:
            sell_instructions:
              type: array
              items:
                title: Instruction(buy|sell)
                description: Definition of an single instruction(buy|sell)
                required:
                  - investment_product_id
                type: object
                properties:
                  investment_product_id:
                    type: string
                  quantity:
                    type: string
                    description: >-
                      Require if `value` is not available. Must be in correct
                      pattern (eg: 25, 332.34, 1050.0025). For `funds`, upto 4
                      decimal places. For `equities`, `bonds` and `etf`, 0
                      decimal places allowed.
                  value:
                    type: string
                    description: >-
                      Require if `quantity` is not available. Must be in correct
                      pattern (upto 2 decimal places, eg: 25, 332.3, 1050.25).
                  client_order_id:
                    type: string
                    maxLength: 20
                    description: (Optional) Order identifier assigned by the wealth manager
              example:
                - investment_product_id: EPCCTST7
                  quantity: '10'
                  client_order_id: cl-02456s42sd3
                - investment_product_id: EPCCTST9
                  quantity: '-10'
    SellTransactionRequestStatus:
      allOf:
        - type: object
          required:
            - transaction_id
            - created_at
            - updated_at
            - primary_transaction_type
            - sub_transaction_type
            - investment_product_id
            - currency
            - direction
            - type
            - sub_type
            - origin
            - success
          properties:
            success:
              type: boolean
              enum:
                - true
                - false
            message:
              type: string
              description: Reason for failure if success = false
            parent_transaction_id:
              type: string
              description: parent_transaction_id
            transaction_id:
              type: string
              description: transaction_id of successful transaction
            external_transaction_reference:
              type: string
              description: External Transaction Reference
              readOnly: true
            created_at:
              type: string
              format: date-time
              description: Will indicate the date where this record was created
              readOnly: true
            updated_at:
              type: string
              format: date-time
              description: Will indicate the date where this record was last changed
              readOnly: true
            primary_transaction_type:
              type: string
            sub_transaction_type:
              type: string
            investment_product_id:
              type: string
              description: Investment product id of the transaction
              readOnly: true
            client_order_id:
              type: string
              maxLength: 20
              description: (optional) Order identifier assigned by the wealth manager
            transaction_quantity:
              type: string
              description: >-
                (optional) quantity of the investment product, required for unit
                based orders
            transaction_value:
              type: string
              description: >-
                (optional) value of the investment product, required for value
                based orders
            execution_price:
              type: string
            trade_date:
              type: string
              format: date
              description: Date the transaction was effected
              readOnly: true
            settlement_date:
              type: string
              format: date
              description: >-
                Intended settlement date of the pending transaction or actual
                the settled day of the transaction
              readOnly: true
            currency:
              type: string
              description: Currency of the transaction
              readOnly: true
            direction:
              type: string
            type:
              type: string
              description: State of the transaction
              readOnly: true
              enum:
                - pending
                - archived
            sub_type:
              type: string
              description: >-
                Sub state of the transaction. instructed, confirmed, priced and
                scheduled sub_types are applicable for pending state and
                rejected, cancelled, settled sub_types applicable for archived
                state
              readOnly: true
              enum:
                - instructed
                - confirmed
                - priced
                - rejected
                - settled
                - cancelled
                - scheduled
            additional_external_details:
              type: object
              description: >-
                Additional external details of the transaction, This may be
                populated in reconciliation process
              readOnly: true
            origin:
              type: string
              description: Origin of the transaction
              readOnly: true
              enum:
                - api
        - type: object
          properties:
            primary_transaction_type:
              readOnly: true
              enum:
                - Sell
            sub_transaction_type:
              description: Sub transaction type
              readOnly: true
              enum:
                - Sell
            execution_price:
              description: Executed price of the sell transaction
              readOnly: true
            direction:
              description: pending sell transaction
              readOnly: true
              enum:
                - out
    SellTransactionResponse:
      allOf:
        - type: object
          required:
            - status
            - pot_id
          properties:
            status:
              type: string
              description: >-
                status of the transaction request

                . `success`: All requested transactions success

                . `partially_success`: Some (but not all) requested transactions
                success
                 
              enum:
                - success
                - partially_success
              example: partially_success
            pot_id:
              type: string
              readOnly: true
              example: pot-UKW3452850
        - type: object
          properties:
            results:
              type: array
              description: >-
                Array of successes and failures. Failures will include a reason
                for the error
              items:
                allOf:
                  - type: object
                    required:
                      - transaction_id
                      - created_at
                      - updated_at
                      - primary_transaction_type
                      - sub_transaction_type
                      - investment_product_id
                      - currency
                      - direction
                      - type
                      - sub_type
                      - origin
                      - success
                    properties:
                      success:
                        type: boolean
                        enum:
                          - true
                          - false
                      message:
                        type: string
                        description: Reason for failure if success = false
                      parent_transaction_id:
                        type: string
                        description: parent_transaction_id
                      transaction_id:
                        type: string
                        description: transaction_id of successful transaction
                      external_transaction_reference:
                        type: string
                        description: External Transaction Reference
                        readOnly: true
                      created_at:
                        type: string
                        format: date-time
                        description: Will indicate the date where this record was created
                        readOnly: true
                      updated_at:
                        type: string
                        format: date-time
                        description: >-
                          Will indicate the date where this record was last
                          changed
                        readOnly: true
                      primary_transaction_type:
                        type: string
                      sub_transaction_type:
                        type: string
                      investment_product_id:
                        type: string
                        description: Investment product id of the transaction
                        readOnly: true
                      client_order_id:
                        type: string
                        maxLength: 20
                        description: >-
                          (optional) Order identifier assigned by the wealth
                          manager
                      transaction_quantity:
                        type: string
                        description: >-
                          (optional) quantity of the investment product,
                          required for unit based orders
                      transaction_value:
                        type: string
                        description: >-
                          (optional) value of the investment product, required
                          for value based orders
                      execution_price:
                        type: string
                      trade_date:
                        type: string
                        format: date
                        description: Date the transaction was effected
                        readOnly: true
                      settlement_date:
                        type: string
                        format: date
                        description: >-
                          Intended settlement date of the pending transaction or
                          actual the settled day of the transaction
                        readOnly: true
                      currency:
                        type: string
                        description: Currency of the transaction
                        readOnly: true
                      direction:
                        type: string
                      type:
                        type: string
                        description: State of the transaction
                        readOnly: true
                        enum:
                          - pending
                          - archived
                      sub_type:
                        type: string
                        description: >-
                          Sub state of the transaction. instructed, confirmed,
                          priced and scheduled sub_types are applicable for
                          pending state and rejected, cancelled, settled
                          sub_types applicable for archived state
                        readOnly: true
                        enum:
                          - instructed
                          - confirmed
                          - priced
                          - rejected
                          - settled
                          - cancelled
                          - scheduled
                      additional_external_details:
                        type: object
                        description: >-
                          Additional external details of the transaction, This
                          may be populated in reconciliation process
                        readOnly: true
                      origin:
                        type: string
                        description: Origin of the transaction
                        readOnly: true
                        enum:
                          - api
                  - type: object
                    properties:
                      primary_transaction_type:
                        readOnly: true
                        enum:
                          - Sell
                      sub_transaction_type:
                        description: Sub transaction type
                        readOnly: true
                        enum:
                          - Sell
                      execution_price:
                        description: Executed price of the sell transaction
                        readOnly: true
                      direction:
                        description: pending sell transaction
                        readOnly: true
                        enum:
                          - out
              example:
                - transaction_quantity: '10'
                  success: true
                  transaction_id: 738b9aaa-6320-4132-b7c7-1a57d607c15e
                  investment_product_id: EPCCTST7
                  client_order_id: cl-02456s42sd3
                  primary_transaction_type: Sell
                  sub_transaction_type: Sell
                  type: pending
                  sub_type: instructed
                  currency: GBP
                  direction: out
                  created_at: '2023-01-27T11:33:32.285Z'
                  updated_at: '2023-01-27T11:33:32.285Z'
                  trade_date: '2023-01-27'
                  origin: api
                - message: >-
                    Transaction quantity is lower than the minimum allowed
                    (EPCCTST9)
                  success: false
    schemas-SwitchRequestStatus:
      required:
        - investment_product_id
        - status
        - side
        - transaction_id
        - created_at
      properties:
        investment_product_id:
          type: string
          description: Identifier of investment product that is bought or sold.
        status:
          type: string
          enum:
            - instructed
            - priced
            - settled
            - rejected
        side:
          type: string
          description: Side of the transaction
          enum:
            - buy
            - sell
        transaction_id:
          type: string
          description: Unique identifier of the transaction
        quantity:
          type: string
          description: quantity (in units)
        price:
          type: string
          description: Executed price of the transaction
        value:
          type: string
          description: Monetary value of the transaction
        created_at:
          type: string
          description: Date and time of transaction creation
          format: date-time
        updated_at:
          type: string
          description: Date and time of transaction update
          format: date-time
      example:
        investment_product_id: ETF069GBP1
        status: scheduled
        side: sell
        transaction_id: de78ce12-0ad4-4a10-af51-11a572912449
        value: '300'
        created_at: '2023-01-29T23:33:09.460Z'
        updated_at: '2023-01-29T23:33:09.460Z'
    SwitchResponse:
      required:
        - status
        - switch_transaction_id
        - pot_id
        - sell_instructions
        - buy_instructions
        - origin
        - created_at
      properties:
        status:
          type: string
          description: Status of the Switch instruction
          example: sell_in_progress
          enum:
            - initiated
            - sell_in_progress
            - buy_in_progress
            - completed
            - failed
        switch_transaction_id:
          type: string
          description: Unique identifier of the switch instruction
          example: def85ee2-c98d-44d8-a644-c91caa84fa6e
        pot_id:
          type: string
          description: Identifier of the pot the instruction is sent to
          example: pot-UKW3452850
        sell_instructions:
          type: array
          items:
            example:
              investment_product_id: ETF069GBP1
              mode: value
              value: '300'
            title: each buy or sell instruction of the Switch request
            description: >-
              Each individual buy side and sell side instruction of the Switch
              request
            required:
              - investment_product_id
              - mode
              - value
            type: object
            properties:
              investment_product_id:
                type: string
                description: >-
                  Identifier of the investment product sold or bought. If the
                  instruction is to use a cash holding (relevant only for sell
                  instruction) this must be `cash`
              mode:
                type: string
                description: >-
                  Mode of the instruction. If investment_product_id is `cash`
                  mode can only be set to `value` or `percentage` 
                enum:
                  - percentage
                  - unit
                  - value
              value:
                type: string
                description: >-
                  value according to the mode. e.g. mode `percentage` and value
                  `10` implies 10%
        buy_instructions:
          type: array
          items:
            example:
              investment_product_id: ETF931GBP5
              mode: percentage
              value: '100'
            title: each buy or sell instruction of the Switch request
            description: >-
              Each individual buy side and sell side instruction of the Switch
              request
            required:
              - investment_product_id
              - mode
              - value
            type: object
            properties:
              investment_product_id:
                type: string
                description: >-
                  Identifier of the investment product sold or bought. If the
                  instruction is to use a cash holding (relevant only for sell
                  instruction) this must be `cash`
              mode:
                type: string
                description: >-
                  Mode of the instruction. If investment_product_id is `cash`
                  mode can only be set to `value` or `percentage` 
                enum:
                  - percentage
                  - unit
                  - value
              value:
                type: string
                description: >-
                  value according to the mode. e.g. mode `percentage` and value
                  `10` implies 10%
        transactions:
          type: array
          description: >-
            Array with status of all buy and sell transactions. Will be sent
            only if `include_details` = true.
          items:
            required:
              - investment_product_id
              - status
              - side
              - transaction_id
              - created_at
            properties:
              investment_product_id:
                type: string
                description: Identifier of investment product that is bought or sold.
              status:
                type: string
                enum:
                  - instructed
                  - priced
                  - settled
                  - rejected
              side:
                type: string
                description: Side of the transaction
                enum:
                  - buy
                  - sell
              transaction_id:
                type: string
                description: Unique identifier of the transaction
              quantity:
                type: string
                description: quantity (in units)
              price:
                type: string
                description: Executed price of the transaction
              value:
                type: string
                description: Monetary value of the transaction
              created_at:
                type: string
                description: Date and time of transaction creation
                format: date-time
              updated_at:
                type: string
                description: Date and time of transaction update
                format: date-time
            example:
              investment_product_id: ETF069GBP1
              status: scheduled
              side: sell
              transaction_id: de78ce12-0ad4-4a10-af51-11a572912449
              value: '300'
              created_at: '2023-01-29T23:33:09.460Z'
              updated_at: '2023-01-29T23:33:09.460Z'
        origin:
          type: string
          description: Describe the origin from where the switch transaction is triggered
          example: api
          enum:
            - api
            - rebalance
        created_at:
          type: string
          format: date-time
          description: Will indicate the date where this record was created
          example: '2023-01-29T23:33:06.678Z'
        updated_at:
          type: string
          format: date-time
          description: Will indicate the date where this record was last updated
          example: '2023-01-29T23:33:06.678Z'
        reason:
          type: string
          description: >-
            Failure reason (shown only for switch transactions in `failed`
            state)
    SwitchTransactionRequest:
      title: Switch Instruction Request
      description: Definition of Switch instruction
      required:
        - request_id
        - pot_id
        - sell_instructions
        - buy_instructions
      type: object
      properties:
        request_id:
          type: string
          format: uuid
          description: 'Unique request id to ensure idempotency. (eg: UUID)'
        pot_id:
          type: string
          description: Identifier of the pot the instruction is sent to
          example: pot-UKW3452850
        sell_instructions:
          type: array
          items:
            example:
              investment_product_id: ETF031GBP1
              mode: value
              value: '500'
            title: each buy or sell instruction of the Switch request
            description: >-
              Each individual buy side and sell side instruction of the Switch
              request
            required:
              - investment_product_id
              - mode
              - value
            type: object
            properties:
              investment_product_id:
                type: string
                description: >-
                  Identifier of the investment product sold or bought. If the
                  instruction is to use a cash holding (relevant only for sell
                  instruction) this must be `cash`
              mode:
                type: string
                description: >-
                  Mode of the instruction. If investment_product_id is `cash`
                  mode can only be set to `value` or `percentage` 
                enum:
                  - percentage
                  - unit
                  - value
              value:
                type: string
                description: >-
                  value according to the mode. e.g. mode `percentage` and value
                  `10` implies 10%
        buy_instructions:
          type: array
          items:
            example:
              investment_product_id: ETF069GBP1
              mode: value
              value: '800'
            title: each buy or sell instruction of the Switch request
            description: >-
              Each individual buy side and sell side instruction of the Switch
              request
            required:
              - investment_product_id
              - mode
              - value
            type: object
            properties:
              investment_product_id:
                type: string
                description: >-
                  Identifier of the investment product sold or bought. If the
                  instruction is to use a cash holding (relevant only for sell
                  instruction) this must be `cash`
              mode:
                type: string
                description: >-
                  Mode of the instruction. If investment_product_id is `cash`
                  mode can only be set to `value` or `percentage` 
                enum:
                  - percentage
                  - unit
                  - value
              value:
                type: string
                description: >-
                  value according to the mode. e.g. mode `percentage` and value
                  `10` implies 10%
    SwitchTransactionResponse:
      required:
        - status
        - switch_transaction_id
        - pot_id
        - sell_instructions
        - buy_instructions
        - origin
      properties:
        status:
          type: string
          description: Status of the Switch instruction
          example: sell_in_progress
          enum:
            - initiated
            - sell_in_progress
            - buy_in_progress
            - completed
        switch_transaction_id:
          type: string
          description: Unique identifier of the switch instruction
          example: def85ee2-c98d-44d8-a644-c91caa84fa6e
        pot_id:
          type: string
          description: Identifier of the pot the instruction is sent to
          example: pot-UKW3452850
        origin:
          type: string
          description: Describe the origin from where the switch transaction is triggered
          example: api
          enum:
            - api
            - rebalance
        sell_instructions:
          type: array
          items:
            example:
              investment_product_id: ETF031GBP1
              mode: value
              value: '500'
            title: each buy or sell instruction of the Switch request
            description: >-
              Each individual buy side and sell side instruction of the Switch
              request
            required:
              - investment_product_id
              - mode
              - value
            type: object
            properties:
              investment_product_id:
                type: string
                description: >-
                  Identifier of the investment product sold or bought. If the
                  instruction is to use a cash holding (relevant only for sell
                  instruction) this must be `cash`
              mode:
                type: string
                description: >-
                  Mode of the instruction. If investment_product_id is `cash`
                  mode can only be set to `value` or `percentage` 
                enum:
                  - percentage
                  - unit
                  - value
              value:
                type: string
                description: >-
                  value according to the mode. e.g. mode `percentage` and value
                  `10` implies 10%
        buy_instructions:
          type: array
          items:
            example:
              investment_product_id: ETF069GBP1
              mode: value
              value: '800'
            title: each buy or sell instruction of the Switch request
            description: >-
              Each individual buy side and sell side instruction of the Switch
              request
            required:
              - investment_product_id
              - mode
              - value
            type: object
            properties:
              investment_product_id:
                type: string
                description: >-
                  Identifier of the investment product sold or bought. If the
                  instruction is to use a cash holding (relevant only for sell
                  instruction) this must be `cash`
              mode:
                type: string
                description: >-
                  Mode of the instruction. If investment_product_id is `cash`
                  mode can only be set to `value` or `percentage` 
                enum:
                  - percentage
                  - unit
                  - value
              value:
                type: string
                description: >-
                  value according to the mode. e.g. mode `percentage` and value
                  `10` implies 10%
    Rate:
      required:
        - rate_id
        - rate_type
        - rate
      properties:
        rate_id:
          type: string
          description: Unique identifier of the rate
          example: USDCAD
        rate_type:
          type: string
          description: Type of rate
          example: fx-spot
          enum:
            - fx-spot
        rate:
          type: string
          description: Latest available rate
          example: '1.27863'
        rate_on_date:
          type: string
          description: Date and time of rate
          example: '20220203'
    Rates:
      required:
        - rates
      type: object
      properties:
        rates:
          type: array
          items:
            required:
              - rate_id
              - rate_type
              - rate
            properties:
              rate_id:
                type: string
                description: Unique identifier of the rate
                example: USDCAD
              rate_type:
                type: string
                description: Type of rate
                example: fx-spot
                enum:
                  - fx-spot
              rate:
                type: string
                description: Latest available rate
                example: '1.27863'
              rate_on_date:
                type: string
                description: Date and time of rate
                example: '20220203'
    Fee:
      title: Root Type for Fee
      description: JSON for the Fee resource type
      required:
        - request_id
        - pot_id
        - currency
        - transaction_value
        - sub_transaction_type
      properties:
        request_id:
          type: string
          format: uuid
          description: 'Unique request id to ensure idempotency. (ex: UUID)'
        pot_id:
          type: string
          maxLength: 64
          example: pot-UKW3452850
          description: Pot ID
        currency:
          type: string
          example: GBP
          description: Currency of the Fee.must be a currency configured for the Pot
        transaction_value:
          type: string
          example: '123.45'
          description: Fee Amount upto 2 decimal places
        sub_transaction_type:
          type: string
          example: Custody fees
          description: >-
            If the pot is a pension pot only Ancillary fee, Advisor ongoing fee,
            One-off advisor fee, Custody fees and Commission will be valid sub
            transaction types
          enum:
            - Ancillary fee
            - Advisor ongoing fee
            - One-off advisor fee
            - Custody fees
            - Commission
            - Management fee
            - Fee credit
            - Fee rebate
            - Commission rebate
    FeeCreationResponse:
      title: Root Type for Fee creation response
      description: JSON for the Fee creation response
      required:
        - transaction_id
        - created_at
        - updated_at
        - primary_transaction_type
        - pot_id
        - sub_transaction_type
        - investment_product_id
        - transaction_value
        - currency
        - direction
        - type
        - sub_type
        - origin
      properties:
        transaction_id:
          type: string
          format: uuid
          description: Unique ID of the fee transaction
          example: 378f7443-515c-4947-be3f-e7bd51be68c2
        investment_product_id:
          type: string
          description: investment_product_id
          example: cash
        transaction_value:
          type: string
          description: Fee Amount upto 2 decimal places
          example: '123.45'
        pot_id:
          type: string
          maxLength: 64
          example: pot-UKW3452850
          description: Pot ID
        primary_transaction_type:
          type: string
          readOnly: true
          example: Fees
          enum:
            - Fees
        sub_transaction_type:
          type: string
          description: Sub transaction type
          readOnly: true
          example: Custody fees
          enum:
            - Ancillary fee
            - Advisor ongoing fee
            - One-off advisor fee
            - Custody fees
            - Commission
            - Management fee
            - Fee credit
            - Fee rebate
            - Commission rebate
        type:
          type: string
          description: State of the transaction
          readOnly: true
          example: archived
          enum:
            - pending
            - archived
        sub_type:
          type: string
          description: >-
            Sub state of the transaction. instructed, confirmed, priced
            sub_types applicable for pending state and rejected, cancelled,
            settled sub_types applicable for archived state
          readOnly: true
          example: settled
          enum:
            - instructed
            - confirmed
            - priced
            - rejected
            - settled
            - cancelled
            - scheduled
        currency:
          type: string
          description: Currency of the Fee
          readOnly: true
          example: GBP
        direction:
          type: string
          description: >-
            in = cash payment or pending buy transaction, out= cash out or
            pending sell transaction.
          readOnly: true
          example: out
          enum:
            - in
            - out
        external_transaction_reference:
          type: string
          description: External Transaction Reference
          readOnly: true
        created_at:
          type: string
          format: date-time
          description: Will indicate the date where this record was created
          readOnly: true
          example: '2023-01-30T00:42:36.624Z'
        updated_at:
          type: string
          format: date-time
          description: Will indicate the date where this record was last changed
          readOnly: true
          example: '2023-01-30T00:42:36.624Z'
        trade_date:
          type: string
          format: date
          description: Date the transaction was effected
          readOnly: true
          example: '2023-01-30'
        settlement_date:
          type: string
          format: date
          description: >-
            Intended settlement date of the pending transaction or actual the
            settled day of the transaction
          readOnly: true
          example: '2023-01-30'
        origin:
          type: string
          description: Origin of the transaction
          readOnly: true
          example: api
          enum:
            - api
            - admin_ui
            - file_upload
            - system
    Withdrawal:
      title: Root Type for Withdrawal
      description: JSON for the Withdrawal resource type
      required:
        - request_id
        - pot_id
        - currency
        - transaction_value
        - sub_transaction_type
        - bank_account_id
      properties:
        request_id:
          type: string
          format: uuid
          description: 'Unique request id to ensure idempotency. (ex: UUID)'
        pot_id:
          type: string
          maxLength: 64
          example: pot-SDQ5659730
          description: Pot ID
        currency:
          type: string
          example: USD
          description: Currency of the Withdrawal.must be a currency configured for the Pot
        transaction_value:
          type: string
          example: '123.45'
          description: Withdrawal Amount upto 2 decimal places
        sub_transaction_type:
          type: string
          example: Withdrawal
          description: Withdrawal sub transaction type
          enum:
            - Withdrawal
        bank_account_id:
          type: string
          example: ba-example-bank-account
          description: Bank Account ID
    WithdrawalCreationResponse:
      title: Root Type for Withdrawal creation response
      description: JSON for the Withdrawal creation response
      required:
        - transaction_id
        - created_at
        - updated_at
        - primary_transaction_type
        - sub_transaction_type
        - pot_id
        - investment_product_id
        - transaction_value
        - currency
        - direction
        - type
        - sub_type
        - origin
      properties:
        transaction_id:
          type: string
          format: uuid
          description: Unique ID of the withdrawal transaction
        investment_product_id:
          type: string
          description: investment_product_id
        transaction_value:
          type: string
          description: Withdrawal Amount upto 2 decimal places
        pot_id:
          type: string
          maxLength: 64
          example: pot-SDQ5659730
          description: Pot ID
        primary_transaction_type:
          type: string
          readOnly: true
          enum:
            - Withdrawal
        sub_transaction_type:
          type: string
          example: Withdrawal
          description: Withdrawal sub transaction type
          enum:
            - Withdrawal
        type:
          type: string
          description: State of the transaction
          readOnly: true
          enum:
            - pending
            - archived
        sub_type:
          type: string
          description: >-
            Sub state of the transaction. instructed, confirmed, priced
            sub_types applicable for pending state and rejected, cancelled,
            settled sub_types applicable for archived state
          readOnly: true
          enum:
            - instructed
            - confirmed
            - priced
            - rejected
            - settled
            - cancelled
            - scheduled
        currency:
          type: string
          description: Currency of the Withdrawal
          readOnly: true
        direction:
          type: string
          description: >-
            in = cash payment or pending buy transaction, out= cash out or
            pending sell transaction.
          readOnly: true
          enum:
            - in
            - out
        external_transaction_reference:
          type: string
          description: External Transaction Reference
          readOnly: true
        created_at:
          type: string
          format: date-time
          description: Will indicate the date where this record was created
          readOnly: true
        updated_at:
          type: string
          format: date-time
          description: Will indicate the date where this record was last changed
          readOnly: true
        trade_date:
          type: string
          format: date
          description: Date the transaction was effected
          readOnly: true
        settlement_date:
          type: string
          format: date
          description: >-
            Intended settlement date of the pending transaction or actual the
            settled day of the transaction
          readOnly: true
        origin:
          type: string
          description: Origin of the transaction
          readOnly: true
          enum:
            - api
            - admin_ui
            - file_upload
            - system
    SingleWithdrawalCreationRequest:
      title: Root Type for Withdrawal
      description: JSON for the Withdrawal resource type
      required:
        - request_id
        - pot_id
        - currency
        - transaction_value
        - sub_transaction_type
        - bank_account_id
      properties:
        request_id:
          type: string
          format: uuid
          description: 'Unique request id to ensure idempotency. (ex: UUID)'
        pot_id:
          type: string
          maxLength: 64
          example: pot-SDQ5659730
          description: Pot ID
        currency:
          type: string
          example: USD
          description: Currency of the Withdrawal.must be a currency configured for the Pot
        transaction_value:
          type: string
          example: '123.45'
          description: Withdrawal Amount upto 2 decimal places
        sub_transaction_type:
          type: string
          example: Withdrawal
          description: Withdrawal sub transaction type
          enum:
            - Withdrawal
            - Income Withdrawal
        bank_account_id:
          type: string
          example: ba-example-bank-account
          description: Bank Account ID
    SingleWithdrawalCreationResponse:
      title: Root Type for Withdrawal response
      description: JSON for the Withdrawal response
      required:
        - transaction_id
        - investment_product_id
        - transaction_value
        - pot_id
        - primary_transaction_type
        - sub_transaction_type
        - type
        - sub_type
        - currency
        - direction
        - created_at
        - updated_at
        - origin
      type: object
      properties:
        transaction_id:
          type: string
          format: uuid
          description: Unique ID of the withdrawal transaction
        investment_product_id:
          type: string
          description: investment_product_id
        transaction_value:
          type: string
          description: Withdrawal amount upto 2 decimal places
        pot_id:
          type: string
          maxLength: 64
          example: pot-SDQ5659730
          description: Pot ID
        primary_transaction_type:
          type: string
          readOnly: true
          enum:
            - Withdrawal
        sub_transaction_type:
          type: string
          example: Withdrawal
          description: Withdrawal sub transaction type
          enum:
            - Withdrawal
            - Income Withdrawal
        type:
          type: string
          description: State of the transaction
          readOnly: true
          enum:
            - pending
            - archived
        sub_type:
          type: string
          description: >-
            Sub state of the transaction. The sub-states "scheduled",
            "instructed" and confirmed will be applicable under "pending" state,
            while the sub-state "rejected", "cancelled", "settled" under
            "archived" state
          readOnly: true
          enum:
            - scheduled
            - instructed
            - confirmed
            - rejected
            - settled
            - cancelled
        currency:
          type: string
          description: Currency of the Withdrawal
          readOnly: true
        direction:
          type: string
          description: >-
            in = cash payment or pending buy transaction, out= cash out or
            pending sell transaction.
          readOnly: true
          enum:
            - in
            - out
        external_transaction_reference:
          type: string
          description: External Transaction Reference
          readOnly: true
        created_at:
          type: string
          description: Will indicate the date where this record was created
          readOnly: true
        updated_at:
          type: string
          description: Will indicate the date where this record was last changed
          readOnly: true
        trade_date:
          type: string
          description: Date the transaction was effected
          readOnly: true
        settlement_date:
          type: string
          description: >-
            Intended settlement date of the pending transaction or actual the
            settled day of the transaction
          readOnly: true
        origin:
          type: string
          description: Origin of the transaction
          readOnly: true
          enum:
            - api
            - admin_ui
            - file_upload
            - system
        tax_transaction_id:
          type: string
          format: uuid
          description: Unique ID of the tax transaction associated with the withdrawal
        net_transaction_value:
          type: string
          description: Withdrawal amount after tax upto 2 decimal places
        tax_payable_on_transaction:
          type: string
          description: Tax payable for withdrawal upto 2 decimal places
        total_withdrawals_ytd:
          type: string
          description: >-
            Total withdrawal by investor made in the current tax year upto 2
            decimal places
        tax_free_allowance_ytd:
          type: string
          description: >-
            Total tax free allowance utilized by investor in the current tax
            year upto 2 decimal places
        additional_pay_ytd:
          type: string
          description: >-
            Total additional pay added to by investor's withdrawal in the
            current tax year upto 2 decimal places. (Applicable for K Codes)
        taxable_withdrawal_ytd:
          type: string
          description: >-
            Taxable withdrawal amount for the current tax year.
            (tax_free_allowance_ytd deducted from total_withdrawals_ytd that was
            rounded to nearest pound.)
        tax_payable_ytd:
          type: string
          description: Tax payable upto 2 decimal places
        tax_paid_ytd:
          type: string
          description: Total tax paid in current tax year upto 2 decimal places
        tax_unpaid_ytd:
          type: string
          description: Unpaid tax in the current tax year upto 2 decimal places
        tax_overpaid_ytd:
          type: string
          description: Overpaid tax in the current tax year upto 2 decimal places
        withdrawal_charge_applicable:
          type: boolean
          description: >-
            Mandatory only if the financial product is LISA. Flag to indicate if
            a withdrawal charge is applicable on the gross withdrawal amount
          readOnly: true
          enum:
            - true
            - false
        withdrawal_charge:
          type: string
          description: >-
            Mandatory only if the withdrawal_charge_applicable = true. Value of
            the withdrawal charge applicable for the unauthorized withdrawal
    UpdateLisaWithdrawalTrxRequest:
      title: Root Type for the LISA Withdrawal update request
      description: JSON for the LISA Withdrawal update request
      required:
        - request_id
        - reference_verison
        - trade_date
      properties:
        request_id:
          type: string
          format: uuid
          description: The system generated unique request id
          example: 20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
        reference_verison:
          type: integer
          description: Reference version of the transaction
          example: 1
        trade_date:
          type: string
          description: Trade Date of the withdrawal
          example: '2020-09-01'
    UpdateLisaWithdrawalTrxResponse:
      title: Root Type for LISA Withdrawal update response
      description: JSON for the LISA Withdrawal update response
      required:
        - transaction_id
        - investment_product_id
        - transaction_value
        - pot_id
        - primary_transaction_type
        - sub_transaction_type
        - type
        - sub_type
        - currency
        - direction
        - created_at
        - updated_at
        - trade_date
        - origin
      type: object
      properties:
        transaction_id:
          type: string
          format: uuid
          description: Unique ID of the withdrawal transaction
        investment_product_id:
          type: string
          description: investment_product_id
        transaction_value:
          type: string
          description: Withdrawal amount upto 2 decimal places
        pot_id:
          type: string
          maxLength: 64
          example: pot-SDQ5659730
          description: Pot ID
        primary_transaction_type:
          type: string
          readOnly: true
          enum:
            - Withdrawal
        sub_transaction_type:
          type: string
          example: Withdrawal
          description: Withdrawal sub transaction type
          enum:
            - Withdrawal
        type:
          type: string
          description: State of the transaction
          readOnly: true
          enum:
            - pending
            - archived
        sub_type:
          type: string
          description: >-
            Sub state of the transaction. The sub-states "scheduled",
            "instructed" and confirmed will be applicable under "pending" state,
            while the sub-state "rejected", "cancelled", "settled" under
            "archived" state
          readOnly: true
          enum:
            - scheduled
            - instructed
            - confirmed
            - rejected
            - settled
            - cancelled
        currency:
          type: string
          description: Currency of the Withdrawal
          readOnly: true
        direction:
          type: string
          description: >-
            in = cash payment or pending buy transaction, out= cash out or
            pending sell transaction.
          readOnly: true
          enum:
            - in
            - out
        external_transaction_reference:
          type: string
          description: External Transaction Reference
          readOnly: true
        created_at:
          type: string
          description: Will indicate the date where this record was created
          readOnly: true
        updated_at:
          type: string
          description: Will indicate the date where this record was last changed
          readOnly: true
        trade_date:
          type: string
          description: Date the transaction was effected
          readOnly: true
        settlement_date:
          type: string
          description: >-
            Intended settlement date of the pending transaction or actual the
            settled day of the transaction
          readOnly: true
        origin:
          type: string
          description: Origin of the transaction
          readOnly: true
          enum:
            - api
            - admin_ui
            - file_upload
            - system
        withdrawal_charge_applicable:
          type: boolean
          description: >-
            Mandatory only if the financial product is LISA. Flag to indicate if
            a withdrawal charge is applicable on the gross withdrawal amount
          readOnly: true
          enum:
            - true
            - false
        withdrawal_charge:
          type: string
          description: >-
            Mandatory only if the withdrawal_charge_applicable = true. Value of
            the withdrawal charge applicable for the unauthorized withdrawal
    FilePath:
      required:
        - type
        - path
      properties:
        type:
          type: string
          description: type of the file specified in the path. Eg.- bk, dc, sr, fx
          example: bk
        path:
          type: string
          description: >-
            file path - "bucket_name/file_key". Eg.-
            wos-custodian_data-bucket/dir1/dir2/sr210317.XYZ
          example: >-
            wos-dev13-reconciliation-files-us-east-2/custodian-files/bk-220908-2.FID
    CopyFileToS3Request:
      required:
        - file_paths
      properties:
        file_paths:
          type: array
          description: file path array for the file(s) from external data store.
          items:
            required:
              - type
              - path
            properties:
              type:
                type: string
                description: type of the file specified in the path. Eg.- bk, dc, sr, fx
                example: bk
              path:
                type: string
                description: >-
                  file path - "bucket_name/file_key". Eg.-
                  wos-custodian_data-bucket/dir1/dir2/sr210317.XYZ
                example: >-
                  wos-dev13-reconciliation-files-us-east-2/custodian-files/bk-220908-2.FID
    CopyFileToS3Response:
      required:
        - bucket
        - keys
      properties:
        bucket:
          type: string
          description: name of the bucket which the files were copied
          example: wos-dev13-reconciliation-files-us-east-2
        keys:
          type: array
          description: array of keys, one for each file stored during the request
          items:
            type: string
            example: morganstanley/input_files/2023-01-27_bk_bk-220908-2.FID
    MaskBankAccount:
      required:
        - bank_account_id
        - account_status
        - reference_version
        - created_at
        - updated_at
      properties:
        bank_account_id:
          type: string
          readOnly: true
          maxLength: 100
          description: system generated id
          example: ba-20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
        investor_id:
          type: string
          example: inv-QXR38578
        account_name:
          type: string
          maxLength: 100
          example: David Brown
        bank_account_type:
          type: string
          enum:
            - investor
            - contributing_employer
          example: investor
        default_account:
          type: string
          enum:
            - 'yes'
            - 'no'
          description: Only one account should be the default
          example: 'no'
        bank_account_number:
          type: string
          minLength: 6
          maxLength: 8
          description: Unique for the investor
          example: '****5678'
        account_status:
          type: string
          enum:
            - active
            - inactive
          description: If not populated, will be defaulted to inactive
          example: active
        sort_code:
          type: string
          minLength: 6
          maxLength: 8
          example: '****56'
        building_society_roll_number:
          type: string
          minLength: 1
          maxLength: 18
          example: '******72'
        reference_version:
          type: integer
          readOnly: true
          example: 1
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
    BankAccounts:
      description: Array of bank accounts
      type: object
      properties:
        bankAccounts:
          type: array
          items:
            required:
              - bank_account_id
              - account_status
              - reference_version
              - created_at
              - updated_at
            properties:
              bank_account_id:
                type: string
                readOnly: true
                maxLength: 100
                description: system generated id
                example: ba-20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
              investor_id:
                type: string
                example: inv-QXR38578
              account_name:
                type: string
                maxLength: 100
                example: David Brown
              bank_account_type:
                type: string
                enum:
                  - investor
                  - contributing_employer
                example: investor
              default_account:
                type: string
                enum:
                  - 'yes'
                  - 'no'
                description: Only one account should be the default
                example: 'no'
              bank_account_number:
                type: string
                minLength: 6
                maxLength: 8
                description: Unique for the investor
                example: '****5678'
              account_status:
                type: string
                enum:
                  - active
                  - inactive
                description: If not populated, will be defaulted to inactive
                example: active
              sort_code:
                type: string
                minLength: 6
                maxLength: 8
                example: '****56'
              building_society_roll_number:
                type: string
                minLength: 1
                maxLength: 18
                example: '******72'
              reference_version:
                type: integer
                readOnly: true
                example: 1
              created_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-08T07:36:05.884Z'
              updated_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-10T07:36:05.884Z'
    CreateBankAccountRequest:
      required:
        - account_name
        - bank_account_type
        - investor_id
        - default_account
        - bank_account_number
      properties:
        bank_account_id:
          type: string
          readOnly: true
          maxLength: 100
          description: system generated id
          example: ba-20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
        investor_id:
          type: string
          example: inv-QXR38578
        contributing_party_id:
          type: string
          description: >-
            This is contributing employer ID for contributing employer bank
            accounts. Field is required for contributing employer bank accounts.
          example: cem-ZWV37971
        account_name:
          type: string
          maxLength: 100
          example: David Brown
        bank_account_type:
          type: string
          enum:
            - investor
            - contributing_employer
          description: >-
            This is 'investor' for investor bank accounts and
            'contributing_employer' for contributing employer bank accounts.
          example: investor
        default_account:
          type: string
          enum:
            - 'yes'
            - 'no'
          description: Only one account should be the default
          example: 'no'
        bank_account_number:
          type: string
          minLength: 6
          maxLength: 8
          description: Unique for the investor
          example: '12345678'
        account_status:
          type: string
          enum:
            - active
            - inactive
          description: If not populated, will be defaulted to inactive
          example: active
        sort_code:
          type: string
          minLength: 6
          maxLength: 8
          description: Mandatory if region is UK
          example: '123456'
        building_society_roll_number:
          type: string
          minLength: 1
          maxLength: 18
          example: '12345672'
    UpdateBankAccount:
      title: Update Request Body for bank account
      description: JSON for the Update bank account resource type
      required:
        - reference_version
      properties:
        account_name:
          type: string
          maxLength: 100
          example: David Brown
        default_account:
          type: string
          enum:
            - 'yes'
            - 'no'
          description: Only one account should be the default
          example: 'no'
        account_status:
          type: string
          enum:
            - active
            - inactive
          example: inactive
        reference_version:
          type: integer
          example: 2
    lifeEvents:
      required:
        - event_id
        - event_type
        - status
      properties:
        event_id:
          type: string
          example: LISALETI-SCX540
        event_type:
          type: string
          example: Terminal illness
        status:
          type: string
          example: completed
    investorAccount:
      required:
        - account_id
        - investor_id
        - financial_product_id
        - status
        - pot_id
        - created_at
        - updated_at
      properties:
        account_id:
          type: string
          description: Investor account id
          example: SIPPACC1674797806011
        investor_id:
          type: string
          example: inv-QXR38578
        financial_product_id:
          type: string
          example: sipp_accumulation
        date_of_account_activation:
          type: string
          format: date-time
          description: >-
            The first date the account was opened by the investor. For LISA
            accounts, this will be set with the date of the initial subscription
            to the account
          example: '2023-01-27T05:36:46.011Z'
        status:
          type: string
          enum:
            - active
            - pending_cancellation
            - cancelled
            - closed
          description: Account status
          example: active
        current_year_subscription:
          type: boolean
          description: Does the Account have contributions for the current tax year
          example: 'true'
        first_subscription_date_for_current_year:
          type: string
          nullable: true
          format: date-time
          description: Date of the first subscription received for the current tax year
          example: '2023-01-27T05:41:15.651Z'
        current_year_total_contribution:
          type: string
          description: Total contribution by investor for account for the current tax year
          example: '22000'
        current_year_total_withdrawals:
          type: string
          description: Total withdrawal by investor for account for the current tax year
        current_year_RAS_claimed:
          type: string
          description: >-
            Total relief at source claimed for the tax year. This is only
            relevant for SIPP
        current_year_gross_contribution:
          type: string
          description: >-
            Total contributions made into pensions pots including relief at
            source claims for the tax year or total contribution made into LISA
            pots including government bonus claimed. This is only relevant for
            SIPP and LISA
        current_year_RAS_claims_pending:
          type: string
          description: >-
            Total relief at source amount to be claimed from HMRC. This is only
            relevant for SIPP
        current_year_MPAA_utilized:
          type: string
          description: Total MPAA utilized by investor for account for the current tax year
        current_year_LISA_bonus_claimed:
          type: string
          description: Government bonus claimed for current tax year for LISA accounts
        current_year_LISA_bonus_pending:
          type: string
          description: Government bonus pending for current tax year for LISA accounts
        current_year_withdrawal_charges:
          type: string
          description: >-
            Total withdrawal charges deducted for unauthorized withdrawals from
            a LISA account for the current tax year. Mandatory only if the
            financial product is LISA
        current_year_pending_withdrawals:
          type: string
          description: >-
            Total withdrawals scheduled for the account to be paid to investor
            for the current tax year
        total_contribution:
          type: string
          description: Total lifetime contribution by investor for the account
        total_gross_contribution:
          type: string
          description: >-
            Total lifetime contribution by investor for a LISA account including
            the government bonus claimed. Mandatory only if the financial
            product is LISA
        total_bonus_claimed:
          type: string
          description: >-
            Total government bonus claimed for LISA account for contributions
            made across years. Mandatory only if the financial product is LISA
        total_withdrawals:
          type: string
          description: Total lifetime withdrawals by investor for the account
        total_withdrawal_charges:
          type: string
          description: >-
            Total withdrawal charges deducted for unauthorized withdrawals from
            a LISA account across years. Mandatory only if the financial product
            is LISA
        account_type:
          type: string
          enum:
            - X
            - Z
            - B
            - G
          example: X
        isa_allowance_remaining:
          type: string
          description: >-
            Total subscription allowance remaining for investor across all ISA
            product types for the current tax year
          example: '20000'
        lisa_allowance_remaining:
          type: string
          description: >-
            Mandatory only if the financial product is LISA. The remaining total
            allowance available to the investor for the LISA product within the
            current tax year
          example: '4000'
        custodian_account_reference:
          type: string
          nullable: true
          maxLength: 64
          example: CAR573838383
        custodian_id:
          type: string
          nullable: true
          maxLength: 64
          example: CID594898ff
        custodian_client_reference:
          type: string
          nullable: true
          maxLength: 64
          example: CCR578fh8
        regulator_advisor_id:
          type: string
          nullable: true
          maxLength: 64
          example: RAI48483jd
        life_events:
          description: Life events of the investor
          type: array
          items:
            required:
              - event_id
              - event_type
              - status
            properties:
              event_id:
                type: string
                example: LISALETI-SCX540
              event_type:
                type: string
                example: Terminal illness
              status:
                type: string
                example: completed
        reference_version:
          type: integer
          example: 1
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
        pot_id:
          type: array
          description: Array of pot IDs attached to Investor Account ID
          items:
            type: string
          example:
            - pot-MKQ5634576
            - pot-DFT5033872
        hmrc_data:
          type: object
          description: Mandatory only if the financial product is LISA
          required:
            - status
          properties:
            status:
              type: string
              description: >-
                Indicate the status of the LISA investor and investor account
                creation with HMRC
              enum:
                - hmrc_process_not_started
                - hmrc_process_inprogress
                - hmrc_investor_creation_failed
                - hmrc_account_creation_successful
                - hmrc_account_creation_failed
                - hmrc_account_cancelled
            lisa_investor_reference:
              type: string
              description: Investor account reference created at HMRC for a LISA account
            reason:
              description: Error reason received from HMRC
              type: string
              nullable: true
    investorAccounts:
      description: Array of investor accounts
      type: object
      required:
        - investor_accounts
        - next_page_available
      properties:
        investor_accounts:
          type: array
          items:
            required:
              - account_id
              - investor_id
              - financial_product_id
              - status
              - pot_id
              - created_at
              - updated_at
            properties:
              account_id:
                type: string
                description: Investor account id
                example: SIPPACC1674797806011
              investor_id:
                type: string
                example: inv-QXR38578
              financial_product_id:
                type: string
                example: sipp_accumulation
              date_of_account_activation:
                type: string
                format: date-time
                description: >-
                  The first date the account was opened by the investor. For
                  LISA accounts, this will be set with the date of the initial
                  subscription to the account
                example: '2023-01-27T05:36:46.011Z'
              status:
                type: string
                enum:
                  - active
                  - pending_cancellation
                  - cancelled
                  - closed
                description: Account status
                example: active
              current_year_subscription:
                type: boolean
                description: Does the Account have contributions for the current tax year
                example: 'true'
              first_subscription_date_for_current_year:
                type: string
                nullable: true
                format: date-time
                description: >-
                  Date of the first subscription received for the current tax
                  year
                example: '2023-01-27T05:41:15.651Z'
              current_year_total_contribution:
                type: string
                description: >-
                  Total contribution by investor for account for the current tax
                  year
                example: '22000'
              current_year_total_withdrawals:
                type: string
                description: >-
                  Total withdrawal by investor for account for the current tax
                  year
              current_year_RAS_claimed:
                type: string
                description: >-
                  Total relief at source claimed for the tax year. This is only
                  relevant for SIPP
              current_year_gross_contribution:
                type: string
                description: >-
                  Total contributions made into pensions pots including relief
                  at source claims for the tax year or total contribution made
                  into LISA pots including government bonus claimed. This is
                  only relevant for SIPP and LISA
              current_year_RAS_claims_pending:
                type: string
                description: >-
                  Total relief at source amount to be claimed from HMRC. This is
                  only relevant for SIPP
              current_year_MPAA_utilized:
                type: string
                description: >-
                  Total MPAA utilized by investor for account for the current
                  tax year
              current_year_LISA_bonus_claimed:
                type: string
                description: >-
                  Government bonus claimed for current tax year for LISA
                  accounts
              current_year_LISA_bonus_pending:
                type: string
                description: >-
                  Government bonus pending for current tax year for LISA
                  accounts
              current_year_withdrawal_charges:
                type: string
                description: >-
                  Total withdrawal charges deducted for unauthorized withdrawals
                  from a LISA account for the current tax year. Mandatory only
                  if the financial product is LISA
              current_year_pending_withdrawals:
                type: string
                description: >-
                  Total withdrawals scheduled for the account to be paid to
                  investor for the current tax year
              total_contribution:
                type: string
                description: Total lifetime contribution by investor for the account
              total_gross_contribution:
                type: string
                description: >-
                  Total lifetime contribution by investor for a LISA account
                  including the government bonus claimed. Mandatory only if the
                  financial product is LISA
              total_bonus_claimed:
                type: string
                description: >-
                  Total government bonus claimed for LISA account for
                  contributions made across years. Mandatory only if the
                  financial product is LISA
              total_withdrawals:
                type: string
                description: Total lifetime withdrawals by investor for the account
              total_withdrawal_charges:
                type: string
                description: >-
                  Total withdrawal charges deducted for unauthorized withdrawals
                  from a LISA account across years. Mandatory only if the
                  financial product is LISA
              account_type:
                type: string
                enum:
                  - X
                  - Z
                  - B
                  - G
                example: X
              isa_allowance_remaining:
                type: string
                description: >-
                  Total subscription allowance remaining for investor across all
                  ISA product types for the current tax year
                example: '20000'
              lisa_allowance_remaining:
                type: string
                description: >-
                  Mandatory only if the financial product is LISA. The remaining
                  total allowance available to the investor for the LISA product
                  within the current tax year
                example: '4000'
              custodian_account_reference:
                type: string
                nullable: true
                maxLength: 64
                example: CAR573838383
              custodian_id:
                type: string
                nullable: true
                maxLength: 64
                example: CID594898ff
              custodian_client_reference:
                type: string
                nullable: true
                maxLength: 64
                example: CCR578fh8
              regulator_advisor_id:
                type: string
                nullable: true
                maxLength: 64
                example: RAI48483jd
              life_events:
                description: Life events of the investor
                type: array
                items:
                  required:
                    - event_id
                    - event_type
                    - status
                  properties:
                    event_id:
                      type: string
                      example: LISALETI-SCX540
                    event_type:
                      type: string
                      example: Terminal illness
                    status:
                      type: string
                      example: completed
              reference_version:
                type: integer
                example: 1
              created_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-08T07:36:05.884Z'
              updated_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-10T07:36:05.884Z'
              pot_id:
                type: array
                description: Array of pot IDs attached to Investor Account ID
                items:
                  type: string
                example:
                  - pot-MKQ5634576
                  - pot-DFT5033872
              hmrc_data:
                type: object
                description: Mandatory only if the financial product is LISA
                required:
                  - status
                properties:
                  status:
                    type: string
                    description: >-
                      Indicate the status of the LISA investor and investor
                      account creation with HMRC
                    enum:
                      - hmrc_process_not_started
                      - hmrc_process_inprogress
                      - hmrc_investor_creation_failed
                      - hmrc_account_creation_successful
                      - hmrc_account_creation_failed
                      - hmrc_account_cancelled
                  lisa_investor_reference:
                    type: string
                    description: >-
                      Investor account reference created at HMRC for a LISA
                      account
                  reason:
                    description: Error reason received from HMRC
                    type: string
                    nullable: true
        next_page_available:
          type: boolean
    fullInvestorAccount:
      required:
        - account_id
        - investor_id
        - financial_product_id
        - status
        - pot_id
        - created_at
        - updated_at
      properties:
        account_id:
          type: string
          description: Investor account id
          example: SSISA1663750577493
        investor_id:
          type: string
          example: inv-QXR38578
        financial_product_id:
          type: string
          example: stocks_isa
        date_of_account_activation:
          type: string
          format: date-time
          description: >-
            The first date the account was opened by the investor. For LISA
            accounts, this will be set with the date of the initial subscription
            to the account
          example: '2022-09-21T08:56:17.493Z'
        status:
          type: string
          enum:
            - active
            - pending_cancellation
            - cancelled
            - closed
          description: Account status
          example: active
        pot_id:
          type: array
          description: Array of pot IDs attached to Investor Account ID
          items:
            type: string
          example:
            - pot-MKQ5634576
            - pot-DFT5033872
        current_year_subscription:
          type: boolean
          description: Does the Account have contributions for the current tax year
          example: 'false'
        first_subscription_date_for_current_year:
          type: string
          nullable: true
          format: date-time
          description: Date of the first subscription received for the current tax year
        current_year_total_contribution:
          type: string
          description: Total contribution by investor for account for the current tax year
        current_year_total_withdrawals:
          type: string
          description: Total lifetime withdrawals by investor for the account
        current_year_total_isa_contribution:
          type: string
          description: >-
            Total contribution by investor for all ISA product types for the
            current tax year
        current_year_total_isa_withdrawals:
          type: string
          description: >-
            Total subscription allowance remaining for investor across all ISA
            product types for the current tax year
        current_year_RAS_claimed:
          type: string
          description: >-
            Total relief at source claimed for the tax year. This is only
            relevant for SIPP
        current_year_gross_contribution:
          type: string
          description: >-
            Applicable only if the financial product is LISA or SIPP. If LISA,
            the total contribution done by the investor for the current tax year
            including the government bonus. If SIPP, the total contributions
            made into pensions pots including relief at source claims for the
            tax year
        current_year_MPAA_utilized:
          type: string
          description: Total MPAA utilized by investor for account for the current tax year
        current_year_RAS_claims_pending:
          type: string
          description: >-
            Total relief at source amount to be claimed from HMRC. This is only
            relevant for SIPP
        current_year_LISA_bonus_claimed:
          type: string
          description: >-
            Applicable only if the financial product is LISA. The government
            bonus that has been claimed for the contributions made to the Cash
            LISA within the current tax year
        current_year_LISA_bonus_pending:
          type: string
          description: >-
            Applicable only if the financial product is LISA. The government
            bonus that is pending for the contributions made to the Cash LISA
            within the current tax year
        current_year_withdrawal_charges:
          type: string
          description: >-
            Total withdrawal charges deducted for unauthorized withdrawals from
            a LISA account for the current tax year. Mandatory only if the
            financial product is LISA
        current_year_pending_withdrawals:
          type: string
          description: >-
            Total withdrawals scheduled for the account to be paid to investor
            for the current tax year
        total_contribution:
          type: string
          description: Total lifetime contribution by investor for the account
        total_gross_contribution:
          type: string
          description: >-
            Total lifetime contribution by investor for a LISA account including
            the government bonus claimed. Mandatory only if the financial
            product is LISA
        total_bonus_claimed:
          type: string
          description: >-
            Total government bonus claimed for LISA account for contributions
            made across years. Mandatory only if the financial product is LISA
        total_withdrawals:
          type: string
          description: Total LISA withdrawals by investor across years
        total_withdrawal_charges:
          type: string
          description: >-
            Total withdrawal charges deducted for unauthorized withdrawals from
            a LISA account across years. Mandatory only if the financial product
            is LISA
        total_market_value:
          type: string
          description: >-
            Value of holdings across all pots attached to the account ID
            (including investment products and cash)
          example: '0'
        account_type:
          type: string
          enum:
            - X
            - Z
            - B
            - G
          example: X
        isa_allowance_remaining:
          type: string
          description: >-
            Total subscription allowance remaining for investor across all ISA
            product types for the current tax year
          example: '20000'
        lisa_allowance_remaining:
          type: string
          description: >-
            Mandatory only if the financial product is LISA. The remaining total
            allowance available to the investor for the LISA product within the
            current tax year
          example: '4000'
        custodian_account_reference:
          type: string
          nullable: true
          maxLength: 64
          example: CAR573838383
        custodian_id:
          type: string
          nullable: true
          maxLength: 64
          example: CID594898ff
        custodian_client_reference:
          type: string
          nullable: true
          maxLength: 64
          example: CCR578fh8
        regulator_advisor_id:
          type: string
          nullable: true
          maxLength: 64
          example: RAI48483jd
        life_events:
          description: Life events of the investor
          type: array
          items:
            required:
              - event_id
              - event_type
              - status
            properties:
              event_id:
                type: string
                example: LISALETI-SCX540
              event_type:
                type: string
                example: Terminal illness
              status:
                type: string
                example: completed
        reference_version:
          type: integer
          example: 1
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2022-12-29T10:36:03.064Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2022-12-29T10:36:03.064Z'
        hmrc_data:
          type: object
          description: Mandatory only if the financial product is LISA
          required:
            - status
          properties:
            status:
              type: string
              description: >-
                Indicate the status of the LISA investor and investor account
                creation with HMRC
              enum:
                - hmrc_process_not_started
                - hmrc_process_inprogress
                - hmrc_investor_creation_failed
                - hmrc_account_creation_successful
                - hmrc_account_creation_failed
                - hmrc_account_cancelled
            lisa_investor_reference:
              type: string
              description: Investor account reference created at HMRC for a LISA account
            reason:
              description: Error reason received from HMRC
              type: string
              nullable: true
    UpdateInvestorAccountRequest:
      required:
        - reference_version
      properties:
        custodian_account_reference:
          type: string
          nullable: true
          maxLength: 64
          example: CAR573838383
        custodian_id:
          type: string
          nullable: true
          maxLength: 64
          example: CID594898ff
        custodian_client_reference:
          type: string
          nullable: true
          maxLength: 64
          example: CCR578fh8
        regulator_advisor_id:
          type: string
          nullable: true
          maxLength: 64
          example: RAI48483jd
        reference_version:
          type: integer
          example: 1
    FeeCodeInstruction:
      title: Root Type for Fee Code
      description: JSON for the Fee code resource type
      required:
        - fee_code
        - fee_type
        - fee_rate
        - status
        - created_at
        - updated_at
      type: object
      properties:
        fee_code:
          type: string
          maxLength: 10
          example: FF_50
        fee_type:
          type: string
          example: Flat_fee_percentage_based
          enum:
            - Flat_fee_percentage_based
        fee_rate:
          type: string
          example: '50.00'
          description: Fee rate in basis points. Numeric with 2 decimals
        status:
          type: string
          example: Active
          enum:
            - Active
            - Inactive
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    GetFeeCodeResponse:
      title: Get fee code response
      description: Definition of Get fee code response
      required:
        - fee_codes
      properties:
        fee_codes:
          type: array
          items:
            title: Root Type for Fee Code
            description: JSON for the Fee code resource type
            required:
              - fee_code
              - fee_type
              - fee_rate
              - status
              - created_at
              - updated_at
            type: object
            properties:
              fee_code:
                type: string
                maxLength: 10
                example: FF_50
              fee_type:
                type: string
                example: Flat_fee_percentage_based
                enum:
                  - Flat_fee_percentage_based
              fee_rate:
                type: string
                example: '50.00'
                description: Fee rate in basis points. Numeric with 2 decimals
              status:
                type: string
                example: Active
                enum:
                  - Active
                  - Inactive
              created_at:
                type: string
                format: date-time
              updated_at:
                type: string
                format: date-time
    FeeSetupResponse:
      title: Root Type for Fee Setup
      description: JSON for the Fee setup resource type
      required:
        - fee_setup_id
        - fee_calculation_entity
        - fee_calculation_method
        - sub_transaction_type
        - primary_transaction_type
        - fee_code
        - assigned_to
        - start_date
        - status
        - created_at
        - updated_at
      properties:
        fee_setup_id:
          type: string
          example: 6efa81d9-073f-4ac2-9e09-66d6934b57e3
        fee_calculation_entity:
          type: string
          example: Investor
          enum:
            - Investor
            - Financial Product
            - Portfolio
        fee_calculation_method:
          type: string
          example: Daily Accrual
          enum:
            - Daily Accrual
        primary_transaction_type:
          type: string
          example: Fees
        sub_transaction_type:
          type: string
          example: Advisor ongoing fee
          enum:
            - Management fee
            - Advisor ongoing fee
            - Service fees
            - Product administration fees
            - Portfolio management fees
            - Platform fees
        fee_code:
          type: string
          example: FF_50
        assigned_to:
          type: array
          example: All
        start_date:
          type: string
          format: date
          example: '2022-10-31'
        end_date:
          type: string
          format: date
          example: '2023-10-31'
        status:
          type: string
          example: Active
          enum:
            - Active
            - Inactive
        created_at:
          type: string
          format: date-time
          example: '2022-10-26T13:24:00.459Z'
        updated_at:
          type: string
          format: date-time
          example: '2022-10-26T13:24:00.459Z'
    GetFeeSetupResponse:
      title: Get fee setup response
      description: Definition of Get fee setup response
      required:
        - fee_setups
      properties:
        fee_setups:
          type: array
          items:
            title: Root Type for Fee Setup
            description: JSON for the Fee setup resource type
            required:
              - fee_setup_id
              - fee_calculation_entity
              - fee_calculation_method
              - sub_transaction_type
              - primary_transaction_type
              - fee_code
              - assigned_to
              - start_date
              - status
              - created_at
              - updated_at
            properties:
              fee_setup_id:
                type: string
                example: 6efa81d9-073f-4ac2-9e09-66d6934b57e3
              fee_calculation_entity:
                type: string
                example: Investor
                enum:
                  - Investor
                  - Financial Product
                  - Portfolio
              fee_calculation_method:
                type: string
                example: Daily Accrual
                enum:
                  - Daily Accrual
              primary_transaction_type:
                type: string
                example: Fees
              sub_transaction_type:
                type: string
                example: Advisor ongoing fee
                enum:
                  - Management fee
                  - Advisor ongoing fee
                  - Service fees
                  - Product administration fees
                  - Portfolio management fees
                  - Platform fees
              fee_code:
                type: string
                example: FF_50
              assigned_to:
                type: array
                example: All
              start_date:
                type: string
                format: date
                example: '2022-10-31'
              end_date:
                type: string
                format: date
                example: '2023-10-31'
              status:
                type: string
                example: Active
                enum:
                  - Active
                  - Inactive
              created_at:
                type: string
                format: date-time
                example: '2022-10-26T13:24:00.459Z'
              updated_at:
                type: string
                format: date-time
                example: '2022-10-26T13:24:00.459Z'
    FeeExemptionResponse:
      title: Root Type for Fee Exemption
      description: JSON for the Fee Exemption resource type
      required:
        - fee_exemption_id
        - fee_exemption_entity
        - sub_transaction_type
        - primary_transaction_type
        - assigned_to
        - exempted_assets
        - start_date
        - status
        - created_at
        - updated_at
      properties:
        fee_exemption_id:
          type: string
          example: c4b7bca6-7020-42c2-b74b-2116fb23b124
        fee_exemption_entity:
          type: string
          example: Investor
          enum:
            - Investor
            - Financial Product
            - Portfolio
        primary_transaction_type:
          type: string
          example: Fees
        sub_transaction_type:
          type: string
          example: Service fees
          enum:
            - Management fee
            - Advisor ongoing fee
            - Service fees
            - Product administration fees
            - Portfolio management fees
            - Platform fees
        assigned_to:
          type: array
          example: All
        exempted_assets:
          type: array
          items:
            type: string
            example: cash
        start_date:
          type: string
          format: date
          example: '2023-01-26'
        end_date:
          type: string
          format: date
          example: '2023-02-26'
        status:
          type: string
          example: Active
          enum:
            - Active
            - Inactive
        created_at:
          type: string
          format: date-time
          example: '2023-01-26T16:01:49.002Z'
        updated_at:
          type: string
          format: date-time
          example: '2023-01-26T16:01:49.002Z'
    GetFeeExemptionResponse:
      title: Get fee exemption response
      description: Definition of Get fee exemption response
      required:
        - fee_exemptions
      properties:
        fee_exemptions:
          type: array
          items:
            title: Root Type for Fee Exemption
            description: JSON for the Fee Exemption resource type
            required:
              - fee_exemption_id
              - fee_exemption_entity
              - sub_transaction_type
              - primary_transaction_type
              - assigned_to
              - exempted_assets
              - start_date
              - status
              - created_at
              - updated_at
            properties:
              fee_exemption_id:
                type: string
                example: c4b7bca6-7020-42c2-b74b-2116fb23b124
              fee_exemption_entity:
                type: string
                example: Investor
                enum:
                  - Investor
                  - Financial Product
                  - Portfolio
              primary_transaction_type:
                type: string
                example: Fees
              sub_transaction_type:
                type: string
                example: Service fees
                enum:
                  - Management fee
                  - Advisor ongoing fee
                  - Service fees
                  - Product administration fees
                  - Portfolio management fees
                  - Platform fees
              assigned_to:
                type: array
                example: All
              exempted_assets:
                type: array
                items:
                  type: string
                  example: cash
              start_date:
                type: string
                format: date
                example: '2023-01-26'
              end_date:
                type: string
                format: date
                example: '2023-02-26'
              status:
                type: string
                example: Active
                enum:
                  - Active
                  - Inactive
              created_at:
                type: string
                format: date-time
                example: '2023-01-26T16:01:49.002Z'
              updated_at:
                type: string
                format: date-time
                example: '2023-01-26T16:01:49.002Z'
    FeeNominations:
      title: Fee nominee pots
      description: Definition of an single fee nominee pot
      required:
        - nominee_pot_id
      type: object
      properties:
        nominee_pot_id:
          type: string
          description: Pot id of the nominee pot
    FeeNominationCreationResponse:
      title: Fee nomination creation response
      description: Definition of Fee nomination creation response
      required:
        - nominations
        - reference_version
        - investor_id
        - created_at
        - updated_at
      properties:
        nominations:
          type: array
          items:
            title: Fee nominee pots
            description: Definition of an single fee nominee pot
            required:
              - nominee_pot_id
            type: object
            properties:
              nominee_pot_id:
                type: string
                description: Pot id of the nominee pot
          example:
            - nominee_pot_id: pot-UKW3452800
        reference_version:
          type: integer
          readOnly: true
          example: 1
        investor_id:
          type: string
          example: inv-XUT11265
          description: Investor Id of the nominee pot
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2023-02-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2023-02-10T07:36:05.884Z'
    FeeNominationCreationRequest:
      title: Fee nomination creation request
      description: Definition of Fee nomination creation request
      required:
        - nominations
      properties:
        nominations:
          description: Only one fee nominee pot can be given
          type: array
          items:
            title: Fee nominee pots
            description: Definition of an single fee nominee pot
            required:
              - nominee_pot_id
            type: object
            properties:
              nominee_pot_id:
                type: string
                description: Pot id of the nominee pot
          example:
            - nominee_pot_id: pot-UKW3452800
    FeeNominationDeleteResponse:
      title: Fee nomination delete response
      description: Success message
      required:
        - message
      properties:
        message:
          type: string
          example: Successfully deleted nominations for investor [inv-XUT11265]
    FeeNominationUpdateRequest:
      title: Fee nomination update request
      description: Definition of Fee nomination update request
      required:
        - nominations
        - reference_version
      properties:
        nominations:
          description: >-
            Replaces the array in the server. Only one fee nominee pot can be
            given
          type: array
          items:
            title: Fee nominee pots
            description: Definition of an single fee nominee pot
            required:
              - nominee_pot_id
            type: object
            properties:
              nominee_pot_id:
                type: string
                description: Pot id of the nominee pot
          example:
            - nominee_pot_id: pot-UKW3452800
        reference_version:
          type: integer
          example: 1
          description: Must match with the reference version in the server
    ContributingEmployer:
      description: Contributing Employer
      type: object
      properties:
        contributing_employer_id:
          type: string
          readOnly: true
          maxLength: 100
          description: system generated id
          example: cem-ZWY58878
        name:
          type: string
          description: Name of the contributing employer
          maxLength: 100
          example: Acme Ltd
        investor_id:
          type: string
          description: Id of the investor
          example: inv-QXR38578
        registration_number:
          type: string
          description: Registration number of the contributing employer
          example: '12345678'
        address:
          type: object
          properties:
            address_line_1:
              type: string
              description: Address line 1
              example: 123 Main Street
            address_line_2:
              type: string
              description: Address line 2
              example: Suite 100
            city:
              type: string
              description: City
              example: San Francisco
            state:
              type: string
              description: State
              example: CA
            country:
              type: string
              description: Country
              example: US
            postal_code:
              type: string
              description: Postal code
              example: '94105'
        status:
          type: string
          description: Status of the contributing employer
          example: active
        bank_accounts:
          type: array
          description: Array of bank account IDs
          items:
            type: string
            example: ba-bc00c28f-b3fc-42b7
        reference_version:
          type: integer
          example: 1
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          description: Date and time when the contributing employer was created
          example: '2020-01-01T00:00:00.000Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          description: Date and time when the contributing employer was last updated
          example: '2020-01-01T00:00:00.000Z'
    ContributingEmployers:
      description: Array of contributing employers
      type: object
      properties:
        contributingEmployers:
          type: array
          items:
            description: Contributing Employer
            type: object
            properties:
              contributing_employer_id:
                type: string
                readOnly: true
                maxLength: 100
                description: system generated id
                example: cem-ZWY58878
              name:
                type: string
                description: Name of the contributing employer
                maxLength: 100
                example: Acme Ltd
              investor_id:
                type: string
                description: Id of the investor
                example: inv-QXR38578
              registration_number:
                type: string
                description: Registration number of the contributing employer
                example: '12345678'
              address:
                type: object
                properties:
                  address_line_1:
                    type: string
                    description: Address line 1
                    example: 123 Main Street
                  address_line_2:
                    type: string
                    description: Address line 2
                    example: Suite 100
                  city:
                    type: string
                    description: City
                    example: San Francisco
                  state:
                    type: string
                    description: State
                    example: CA
                  country:
                    type: string
                    description: Country
                    example: US
                  postal_code:
                    type: string
                    description: Postal code
                    example: '94105'
              status:
                type: string
                description: Status of the contributing employer
                example: active
              bank_accounts:
                type: array
                description: Array of bank account IDs
                items:
                  type: string
                  example: ba-bc00c28f-b3fc-42b7
              reference_version:
                type: integer
                example: 1
                readOnly: true
              created_at:
                type: string
                format: date-time
                readOnly: true
                description: Date and time when the contributing employer was created
                example: '2020-01-01T00:00:00.000Z'
              updated_at:
                type: string
                format: date-time
                readOnly: true
                description: Date and time when the contributing employer was last updated
                example: '2020-01-01T00:00:00.000Z'
    schemas-BankAccount:
      required:
        - account_name
        - default_account
        - bank_account_number
      properties:
        account_name:
          type: string
          maxLength: 100
          example: David Brown
        default_account:
          type: string
          enum:
            - 'yes'
            - 'no'
          description: For contributing employer, this will always be no
          example: 'no'
        bank_account_number:
          type: string
          minLength: 6
          maxLength: 8
          description: Unique for the investor and contributing employer
          example: '99005678'
        account_status:
          type: string
          enum:
            - active
            - inactive
          example: active
        sort_code:
          type: string
          minLength: 6
          maxLength: 8
          example: '778856'
        building_society_roll_number:
          type: string
          minLength: 1
          maxLength: 18
          example: '11332272'
    CreateContributingEmployerRequest:
      required:
        - name
        - investor_id
        - registration_number
        - address
        - status
      properties:
        name:
          type: string
          description: Name of the contributing employer
          maxLength: 100
          example: Acme Ltd
        investor_id:
          type: string
          description: Id of the investor
          example: inv-QXR38578
        registration_number:
          type: string
          description: Registration number of the contributing employer
          example: '12345678'
        address:
          type: object
          properties:
            postal_code:
              type: string
              example: S2 2DF
            address_line:
              type: string
              nullable: true
              example: '14'
            street_name:
              type: string
              nullable: true
              example: Tottenham Court Road
            city:
              type: string
              nullable: true
              example: London
            state:
              type: string
              nullable: true
              example: England
            country:
              type: string
              description: 3 character country code inline with ISO 3166-1 alpha-3
              minLength: 3
              maxLength: 3
              example: GBR
          required:
            - postal_code
            - country
        status:
          type: string
          description: Status of the contributing employer
          enum:
            - active
            - inactive
          example: active
        bank_accounts:
          type: array
          description: >-
            Allow to create only one bank account when creating a new
            contributing employer.
          items:
            required:
              - account_name
              - default_account
              - bank_account_number
            properties:
              account_name:
                type: string
                maxLength: 100
                example: David Brown
              default_account:
                type: string
                enum:
                  - 'yes'
                  - 'no'
                description: For contributing employer, this will always be no
                example: 'no'
              bank_account_number:
                type: string
                minLength: 6
                maxLength: 8
                description: Unique for the investor and contributing employer
                example: '99005678'
              account_status:
                type: string
                enum:
                  - active
                  - inactive
                example: active
              sort_code:
                type: string
                minLength: 6
                maxLength: 8
                example: '778856'
              building_society_roll_number:
                type: string
                minLength: 1
                maxLength: 18
                example: '11332272'
    MaskedBankAccount:
      properties:
        bank_account_id:
          type: string
          readOnly: true
          maxLength: 100
          description: system generated id
          example: ba-20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
        investor_id:
          type: string
          description: Id of the investor
          example: inv-QXR38578
        contributing_party_id:
          type: string
          description: Id of the contributing party
          example: cem-ZWY58878
        account_name:
          type: string
          maxLength: 100
          example: David Brown
        bank_account_type:
          type: string
          enum:
            - investor
            - contributing_employer
          example: contributing_employer
        default_account:
          type: string
          enum:
            - 'yes'
            - 'no'
          description: For contributing employer, this will always be no
          example: 'no'
        bank_account_number:
          type: string
          minLength: 6
          maxLength: 8
          description: Unique for the investor and contributing employer
          example: '****5678'
        account_status:
          type: string
          enum:
            - active
            - inactive
          example: active
        sort_code:
          type: string
          minLength: 6
          maxLength: 8
          example: '****56'
        building_society_roll_number:
          type: string
          minLength: 1
          maxLength: 18
          example: '******72'
        reference_version:
          type: integer
          readOnly: true
          example: 1
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2020-07-10T07:36:05.884Z'
    CreateContributingEmployerReponse:
      description: Contributing Employer
      type: object
      properties:
        contributing_employer_id:
          type: string
          readOnly: true
          maxLength: 100
          description: system generated id
          example: cem-ZWY58878
        name:
          type: string
          description: Name of the contributing employer
          maxLength: 100
          example: Acme Ltd
        investor_id:
          type: string
          description: Id of the investor
          example: inv-QXR38578
        registration_number:
          type: string
          description: Registration number of the contributing employer
          example: '12345678'
        address:
          type: object
          properties:
            address_line:
              type: string
              description: Address line
              example: '14'
            city:
              type: string
              description: City
              example: London
            state:
              type: string
              description: State
              example: England
            country:
              type: string
              description: Country
              example: GBR
            postal_code:
              type: string
              description: Postal code
              example: S2 2DF
        status:
          type: string
          description: Status of the contributing employer
          example: active
        bank_accounts:
          type: array
          description: >-
            Allowed to create only one bank account when creating a new
            contributing employer.
          items:
            properties:
              bank_account_id:
                type: string
                readOnly: true
                maxLength: 100
                description: system generated id
                example: ba-20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
              investor_id:
                type: string
                description: Id of the investor
                example: inv-QXR38578
              contributing_party_id:
                type: string
                description: Id of the contributing party
                example: cem-ZWY58878
              account_name:
                type: string
                maxLength: 100
                example: David Brown
              bank_account_type:
                type: string
                enum:
                  - investor
                  - contributing_employer
                example: contributing_employer
              default_account:
                type: string
                enum:
                  - 'yes'
                  - 'no'
                description: For contributing employer, this will always be no
                example: 'no'
              bank_account_number:
                type: string
                minLength: 6
                maxLength: 8
                description: Unique for the investor and contributing employer
                example: '****5678'
              account_status:
                type: string
                enum:
                  - active
                  - inactive
                example: active
              sort_code:
                type: string
                minLength: 6
                maxLength: 8
                example: '****56'
              building_society_roll_number:
                type: string
                minLength: 1
                maxLength: 18
                example: '******72'
              reference_version:
                type: integer
                readOnly: true
                example: 1
              created_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-08T07:36:05.884Z'
              updated_at:
                type: string
                format: date-time
                readOnly: true
                example: '2020-07-10T07:36:05.884Z'
        reference_version:
          type: integer
          example: 1
        created_at:
          type: string
          format: date-time
          readOnly: true
          description: Date and time when the contributing employer was created
          example: '2020-01-01T00:00:00.000Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          description: Date and time when the contributing employer was last updated
          example: '2020-01-01T00:00:00.000Z'
    UpdateContributingEmployerRequest:
      title: Update Request Body for contributing employer
      description: JSON for the Update contributing employer resource type
      required:
        - reference_version
      properties:
        name:
          type: string
          description: Name of the contributing employer
          maxLength: 100
          example: Acme Ltd
        registration_number:
          type: string
          description: Registration number of the contributing employer
          example: '12345678'
        address:
          type: object
          properties:
            postal_code:
              type: string
              example: S2 2DF
            address_line:
              type: string
              nullable: true
              example: '14'
            street_name:
              type: string
              nullable: true
              example: Tottenham Court Road
            city:
              type: string
              nullable: true
              example: London
            state:
              type: string
              nullable: true
              example: England
            country:
              type: string
              description: 3 character country code inline with ISO 3166-1 alpha-3
              minLength: 3
              maxLength: 3
              example: GBR
          required:
            - postal_code
            - country
        status:
          type: string
          description: Status of the contributing employer
          enum:
            - active
            - inactive
          example: active
        reference_version:
          type: integer
          example: 1
    RecurringContribution:
      required:
        - contribution_id
        - contribution_name
        - pot_id
        - financial_product_id
        - investor_id
        - amount
        - sub_transaction_type
        - currency
        - payment_type
        - service_provider
        - purpose
        - payment_schedule
        - service_provider_params
        - status
        - created_at
        - updated_at
      properties:
        contribution_id:
          type: string
          example: RCB-GC-AB24DE7
          description: System generated unique id
        contribution_name:
          type: string
          maxLength: 100
          description: User given identifier for the contribution
          example: Contributions to SIPP
        pot_id:
          type: string
          description: Pot ID of investor to direct the payment
          example: pot-UKW34528503
        financial_product_id:
          type: string
          description: Financial Product Id
          example: sipp_accumulation
        investor_id:
          type: string
          description: >-
            Investor ID of the investor making the contribution. For a joint
            pot, Investor ID of the party making contribution should be
            included.
          example: inv-XUT11265
        amount:
          type: string
          description: >-
            Amount as a numeral string with two decimal points. (ex: 1500.00).
            Should be greater than or equal to the minimum investment for the
            financial product.
          example: '100.00'
        sub_transaction_type:
          type: string
          example: Regular contribution - Employer
          enum:
            - Regular contribution
            - Regular contribution - non relievable
            - Regular contribution - Employer
          description: >-
            Sub transaction type for recurring contribution. Regular
            contribution - non relievable is only allowed for pots linked to
            SIPP Accumulation product type
        currency:
          type: string
          description: Must be a currency configured for the Pot
          example: GBP
        payment_type:
          type: string
          example: direct_debit
          description: Type of payment
          enum:
            - direct_debit
        service_provider:
          type: string
          example: gocardless
          description: Service provider managing the recurring payment subscription
          enum:
            - gocardless
        purpose:
          type: string
          example: invest
          description: >-
            invest option is allowed only if investment_instructions given or a
            portfolio is attached, if not the purpose should be cash.
          enum:
            - cash
            - invest
        investment_instructions:
          description: >-
            Mandatory only if purpose:"invest" and pot does not have a portfolio
            template attached (e.g. An execution-only or direct-to-consumer
            wealth manager).
          type: array
          items:
            required:
              - investment_product_id
            properties:
              investment_product_id:
                type: string
              quantity:
                description: >-
                  Require if `value` is not available. Must be in correct
                  pattern (eg: 25, 332.34, 1050.0025). For `funds`, upto 4
                  decimal places. For `equities`, `bonds` and `etf`, 0 decimal
                  places allowed.
                type: string
              value:
                description: >-
                  Require if `quantity` is not available. Must be in correct
                  pattern (upto 2 decimal places, eg: 25, 332.3, 1050.25).
                type: string
          example:
            - investment_product_id: isa_1223931892
              quantity: '300'
            - investment_product_id: isa_9913091898
              quantity: '500'
        source_id:
          type: string
          example: cem-ASP43560
          description: >-
            Only for payments intents for employer contributions made towards
            SIPP Accumulation Products
        payment_schedule:
          type: object
          description: Parameters based on payment schedule
          required:
            - interval_unit
            - interval
            - start_date
          properties:
            interval_unit:
              type: string
              description: Repeating interval unit of recurring payment
              enum:
                - monthly
            interval:
              type: integer
              description: >-
                Repeating interval of recurring payment. For monthly, should be
                1-12
            date:
              type: integer
              description: >-
                Date the payment is expected to be triggered if frequency is
                monthly. 1-28 or -1 to indicate the last day of the month
            start_date:
              type: string
              format: date
              description: >-
                Date to initiate the recurring payments. If approvals haven't
                been received by the given start date, the start date will be
                moved to the subscription activation date. Should be in
                YYYY-MM-DD format
            end_date:
              type: string
              format: date
              description: >-
                Date to conclude the recurring payments, if count is not
                provided. Should be in YYYY-MM-DD format
            count:
              type: integer
              description: >-
                No of recurring payments to trigger before concluding the
                payments, if an end date is not provided
          example:
            interval_unit: monthly
            interval: 2
            date: 1
            start_date: '2023-04-02'
            end_date: '2023-11-02'
        service_provider_params:
          type: object
          required:
            - status
          properties:
            status:
              type: string
              example: Subscription created
              description: Status transitions depend on the service provider
              enum:
                - Pending service provider setup
                - Customer data collection completed
                - Customer data created
                - Customer data creation failed
                - Authorization received
                - Authorization failed
                - Subscription created
                - Subscription creation failed
                - Subscription paused
                - Subscription resumed
                - Subscription cancelled
                - Subscription finished
                - Mandate cancelled
                - Mandate expired
                - Mandate replaced
                - Mandate transferred
            authorization_reference:
              type: string
              example: MD000VDMMYGD0T
              description: >-
                Authorization reference ID provided by a service provider
                maintained under payment authorizations for an investor
            contribution_reference:
              type: string
              example: SB000A6A5EVJHE
              description: >-
                Contribution reference ID provided by a service provider
                maintained under payment authorizations for an investor
            customer_reference:
              type: string
              example: CU000Y5VVH7TDQ
              description: >-
                Customer reference ID provided by a service provider maintained
                under payment authorizations for an investor
            request_id:
              type: string
              example: BRQ0004CZJA19GF
              description: >-
                Request ID used to create a contribution with the service
                provider
            reason:
              type: string
              example: Paid out
              description: Reason for disabling/cancelling the contribution
            authorization_url:
              type: string
              example: https://authexample.gocardless-sandbox.com
              description: >-
                Authorization URL sent by service provider to setup customer
                reference data and bank account information
        status:
          type: string
          example: Active
          enum:
            - Pending
            - Active
            - Finished
            - Rejected
            - Paused
            - Cancelled
        next_payment_dates:
          type: array
          example:
            - '2023-04-16'
            - '2023-04-30'
          items:
            type: string
            format: date
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    RecurringContributions:
      required:
        - recurring_contributions
        - next_page_available
      type: object
      properties:
        recurring_contributions:
          type: array
          items:
            required:
              - contribution_id
              - contribution_name
              - pot_id
              - financial_product_id
              - investor_id
              - amount
              - sub_transaction_type
              - currency
              - payment_type
              - service_provider
              - purpose
              - payment_schedule
              - service_provider_params
              - status
              - created_at
              - updated_at
            properties:
              contribution_id:
                type: string
                example: RCB-GC-AB24DE7
                description: System generated unique id
              contribution_name:
                type: string
                maxLength: 100
                description: User given identifier for the contribution
                example: Contributions to SIPP
              pot_id:
                type: string
                description: Pot ID of investor to direct the payment
                example: pot-UKW34528503
              financial_product_id:
                type: string
                description: Financial Product Id
                example: sipp_accumulation
              investor_id:
                type: string
                description: >-
                  Investor ID of the investor making the contribution. For a
                  joint pot, Investor ID of the party making contribution should
                  be included.
                example: inv-XUT11265
              amount:
                type: string
                description: >-
                  Amount as a numeral string with two decimal points. (ex:
                  1500.00). Should be greater than or equal to the minimum
                  investment for the financial product.
                example: '100.00'
              sub_transaction_type:
                type: string
                example: Regular contribution - Employer
                enum:
                  - Regular contribution
                  - Regular contribution - non relievable
                  - Regular contribution - Employer
                description: >-
                  Sub transaction type for recurring contribution. Regular
                  contribution - non relievable is only allowed for pots linked
                  to SIPP Accumulation product type
              currency:
                type: string
                description: Must be a currency configured for the Pot
                example: GBP
              payment_type:
                type: string
                example: direct_debit
                description: Type of payment
                enum:
                  - direct_debit
              service_provider:
                type: string
                example: gocardless
                description: Service provider managing the recurring payment subscription
                enum:
                  - gocardless
              purpose:
                type: string
                example: invest
                description: >-
                  invest option is allowed only if investment_instructions given
                  or a portfolio is attached, if not the purpose should be cash.
                enum:
                  - cash
                  - invest
              investment_instructions:
                description: >-
                  Mandatory only if purpose:"invest" and pot does not have a
                  portfolio template attached (e.g. An execution-only or
                  direct-to-consumer wealth manager).
                type: array
                items:
                  required:
                    - investment_product_id
                  properties:
                    investment_product_id:
                      type: string
                    quantity:
                      description: >-
                        Require if `value` is not available. Must be in correct
                        pattern (eg: 25, 332.34, 1050.0025). For `funds`, upto 4
                        decimal places. For `equities`, `bonds` and `etf`, 0
                        decimal places allowed.
                      type: string
                    value:
                      description: >-
                        Require if `quantity` is not available. Must be in
                        correct pattern (upto 2 decimal places, eg: 25, 332.3,
                        1050.25).
                      type: string
                example:
                  - investment_product_id: isa_1223931892
                    quantity: '300'
                  - investment_product_id: isa_9913091898
                    quantity: '500'
              source_id:
                type: string
                example: cem-ASP43560
                description: >-
                  Only for payments intents for employer contributions made
                  towards SIPP Accumulation Products
              payment_schedule:
                type: object
                description: Parameters based on payment schedule
                required:
                  - interval_unit
                  - interval
                  - start_date
                properties:
                  interval_unit:
                    type: string
                    description: Repeating interval unit of recurring payment
                    enum:
                      - monthly
                  interval:
                    type: integer
                    description: >-
                      Repeating interval of recurring payment. For monthly,
                      should be 1-12
                  date:
                    type: integer
                    description: >-
                      Date the payment is expected to be triggered if frequency
                      is monthly. 1-28 or -1 to indicate the last day of the
                      month
                  start_date:
                    type: string
                    format: date
                    description: >-
                      Date to initiate the recurring payments. If approvals
                      haven't been received by the given start date, the start
                      date will be moved to the subscription activation date.
                      Should be in YYYY-MM-DD format
                  end_date:
                    type: string
                    format: date
                    description: >-
                      Date to conclude the recurring payments, if count is not
                      provided. Should be in YYYY-MM-DD format
                  count:
                    type: integer
                    description: >-
                      No of recurring payments to trigger before concluding the
                      payments, if an end date is not provided
                example:
                  interval_unit: monthly
                  interval: 2
                  date: 1
                  start_date: '2023-04-02'
                  end_date: '2023-11-02'
              service_provider_params:
                type: object
                required:
                  - status
                properties:
                  status:
                    type: string
                    example: Subscription created
                    description: Status transitions depend on the service provider
                    enum:
                      - Pending service provider setup
                      - Customer data collection completed
                      - Customer data created
                      - Customer data creation failed
                      - Authorization received
                      - Authorization failed
                      - Subscription created
                      - Subscription creation failed
                      - Subscription paused
                      - Subscription resumed
                      - Subscription cancelled
                      - Subscription finished
                      - Mandate cancelled
                      - Mandate expired
                      - Mandate replaced
                      - Mandate transferred
                  authorization_reference:
                    type: string
                    example: MD000VDMMYGD0T
                    description: >-
                      Authorization reference ID provided by a service provider
                      maintained under payment authorizations for an investor
                  contribution_reference:
                    type: string
                    example: SB000A6A5EVJHE
                    description: >-
                      Contribution reference ID provided by a service provider
                      maintained under payment authorizations for an investor
                  customer_reference:
                    type: string
                    example: CU000Y5VVH7TDQ
                    description: >-
                      Customer reference ID provided by a service provider
                      maintained under payment authorizations for an investor
                  request_id:
                    type: string
                    example: BRQ0004CZJA19GF
                    description: >-
                      Request ID used to create a contribution with the service
                      provider
                  reason:
                    type: string
                    example: Paid out
                    description: Reason for disabling/cancelling the contribution
                  authorization_url:
                    type: string
                    example: https://authexample.gocardless-sandbox.com
                    description: >-
                      Authorization URL sent by service provider to setup
                      customer reference data and bank account information
              status:
                type: string
                example: Active
                enum:
                  - Pending
                  - Active
                  - Finished
                  - Rejected
                  - Paused
                  - Cancelled
              next_payment_dates:
                type: array
                example:
                  - '2023-04-16'
                  - '2023-04-30'
                items:
                  type: string
                  format: date
              created_at:
                type: string
                format: date-time
              updated_at:
                type: string
                format: date-time
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    RecurringPaymentRequestSchema:
      required:
        - request_id
        - contribution_name
        - pot_id
        - investor_id
        - amount
        - sub_transaction_type
        - currency
        - payment_type
        - service_provider
        - purpose
        - payment_schedule
      properties:
        request_id:
          type: string
          format: uuid
          description: 'Unique request id to ensure idempotency. (ex: UUID)'
        contribution_name:
          type: string
          maxLength: 100
          description: User given identifier for the contribution
          example: Contributions to SIPP
        pot_id:
          type: string
          description: Pot ID of investor to direct the payment
          example: pot-UKW34528503
        investor_id:
          type: string
          description: >-
            Investor ID of the investor making the contribution. For a joint
            pot, Investor ID of the party making contribution should be
            included.
          example: inv-XUT11265
        amount:
          type: string
          description: >-
            Amount as a numeral string with two decimal points. (ex: 1500.00)
            Should be greater than or equal to the minimum investment for the
            financial product.
          example: '100.00'
        sub_transaction_type:
          type: string
          example: Regular contribution - Employer
          enum:
            - Regular contribution
            - Regular contribution - non relievable
            - Regular contribution - Employer
          description: >-
            Sub transaction type for recurring contribution. Regular
            contribution - non relievable is only allowed for pots linked to
            SIPP Accumulation product type
        currency:
          type: string
          description: Must be a currency configured for the Pot
          example: GBP
        payment_type:
          type: string
          description: Type of payment
          example: direct_debit
          enum:
            - direct_debit
        service_provider:
          type: string
          description: Service provider managing the recurring payment subscription
          example: gocardless
          enum:
            - gocardless
        purpose:
          type: string
          example: invest
          description: >-
            invest option is allowed only if investment_instructions given or a
            portfolio is attached, if not the purpose should be cash.
          enum:
            - cash
            - invest
        investment_instructions:
          description: >-
            Mandatory only if purpose:"invest" and pot does not have a portfolio
            template attached (e.g. An execution-only or direct-to-consumer
            wealth manager).
          type: array
          items:
            required:
              - investment_product_id
            properties:
              investment_product_id:
                type: string
              quantity:
                description: >-
                  Require if `value` is not available. Must be in correct
                  pattern (eg: 25, 332.34, 1050.0025). For `funds`, upto 4
                  decimal places. For `equities`, `bonds` and `etf`, 0 decimal
                  places allowed.
                type: string
              value:
                description: >-
                  Require if `quantity` is not available. Must be in correct
                  pattern (upto 2 decimal places, eg: 25, 332.3, 1050.25).
                type: string
          example:
            - investment_product_id: isa_1223931892
              quantity: '300'
            - investment_product_id: isa_9913091898
              quantity: '500'
        source_id:
          type: string
          example: cem-ASP43560
          description: >-
            Required only for payments intents for employer contributions made
            towards SIPP Accumulation Products
        payment_schedule:
          type: object
          description: Parameters based on payment schedule
          required:
            - interval_unit
            - interval
            - start_date
          properties:
            interval_unit:
              type: string
              description: Repeating interval unit of recurring payment
              enum:
                - monthly
            interval:
              type: integer
              description: >-
                Repeating interval of recurring payment. For monthly, should be
                1-12
            date:
              type: integer
              description: >-
                Date the payment is expected to be triggered if frequency is
                monthly. 1-28 or -1 to indicate the last day of the month
            start_date:
              type: string
              format: date
              description: >-
                Date to initiate the recurring payments. If approvals haven't
                been received by the given start date, the start date will be
                moved to the subscription activation date. Should be in
                YYYY-MM-DD format
            end_date:
              type: string
              format: date
              description: >-
                Date to conclude the recurring payments, if count is not
                provided. Should be in YYYY-MM-DD format
            count:
              type: integer
              description: >-
                No of recurring payments to trigger before concluding the
                payments, if an end date is not provided
          example:
            interval_unit: monthly
            interval: 2
            date: 1
            start_date: '2023-04-02'
            end_date: '2023-11-02'
    RecurringPaymentResponseSchema:
      required:
        - contribution_id
        - contribution_name
        - pot_id
        - investor_id
        - amount
        - sub_transaction_type
        - currency
        - payment_type
        - service_provider
        - purpose
        - payment_schedule
        - service_provider_params
        - status
      properties:
        contribution_id:
          type: string
          example: RCB-GC-AB24DE7
          description: System generated unique id
        contribution_name:
          type: string
          maxLength: 100
          description: User given identifier for the contribution
          example: Contributions to SIPP
        pot_id:
          type: string
          description: Pot ID of investor to direct the payment
          example: pot-UKW34528503
        investor_id:
          type: string
          description: >-
            Investor ID of the investor making the contribution. For a joint
            pot, Investor ID of the party making contribution should be
            included.
          example: inv-XUT11265
        amount:
          type: string
          description: >-
            Amount as a numeral string with two decimal points. (ex: 1500.00).
            Should be greater than or equal to the minimum investment for the
            financial product.
          example: '100.00'
        sub_transaction_type:
          type: string
          example: Regular contribution - Employer
          enum:
            - Regular contribution
            - Regular contribution - non relievable
            - Regular contribution - Employer
          description: >-
            Sub transaction type for recurring contribution. Regular
            contribution - non relievable is only allowed for pots linked to
            SIPP Accumulation product type
        currency:
          type: string
          description: Must be a currency configured for the Pot
          example: GBP
        payment_type:
          type: string
          example: direct_debit
          description: Type of payment
          enum:
            - direct_debit
        service_provider:
          type: string
          example: gocardless
          description: Service provider managing the recurring payment subscription
          enum:
            - gocardless
        purpose:
          type: string
          example: invest
          description: >-
            invest option is allowed only if investment_instructions given or a
            portfolio is attached, if not the purpose should be cash.
          enum:
            - cash
            - invest
        investment_instructions:
          description: >-
            Mandatory only if purpose:"invest" and pot does not have a portfolio
            template attached (e.g. An execution-only or direct-to-consumer
            wealth manager).
          type: array
          items:
            required:
              - investment_product_id
            properties:
              investment_product_id:
                type: string
              quantity:
                description: >-
                  Require if `value` is not available. Must be in correct
                  pattern (eg: 25, 332.34, 1050.0025). For `funds`, upto 4
                  decimal places. For `equities`, `bonds` and `etf`, 0 decimal
                  places allowed.
                type: string
              value:
                description: >-
                  Require if `quantity` is not available. Must be in correct
                  pattern (upto 2 decimal places, eg: 25, 332.3, 1050.25).
                type: string
          example:
            - investment_product_id: isa_1223931892
              quantity: '300'
            - investment_product_id: isa_9913091898
              quantity: '500'
        source_id:
          type: string
          example: cem-ASP43560
          description: >-
            Only for payments intents for employer contributions made towards
            SIPP Accumulation Products
        payment_schedule:
          type: object
          description: Parameters based on payment schedule
          required:
            - interval_unit
            - interval
            - start_date
          properties:
            interval_unit:
              type: string
              description: Repeating interval unit of recurring payment
              enum:
                - monthly
            interval:
              type: integer
              description: >-
                Repeating interval of recurring payment. For monthly, should be
                1-12
            date:
              type: integer
              description: >-
                Date the payment is expected to be triggered if frequency is
                monthly. 1-28 or -1 to indicate the last day of the month
            start_date:
              type: string
              format: date
              description: >-
                Date to initiate the recurring payments. If approvals haven't
                been received by the given start date, the start date will be
                moved to the subscription activation date. Should be in
                YYYY-MM-DD format
            end_date:
              type: string
              format: date
              description: >-
                Date to conclude the recurring payments, if count is not
                provided. Should be in YYYY-MM-DD format
            count:
              type: integer
              description: >-
                No of recurring payments to trigger before concluding the
                payments, if an end date is not provided
          example:
            interval_unit: monthly
            interval: 2
            date: 1
            start_date: '2023-04-02'
            end_date: '2023-11-02'
        service_provider_params:
          type: object
          required:
            - status
          properties:
            status:
              type: string
              example: Pending service provider setup
              description: Status transitions depend on the service provider
              enum:
                - Pending service provider setup
                - Customer data collection completed
                - Customer data created
                - Customer data creation failed
                - Authorization received
                - Authorization failed
                - Subscription created
                - Subscription creation failed
                - Subscription paused
                - Subscription resumed
                - Subscription cancelled
                - Subscription finished
                - Mandate cancelled
                - Mandate expired
                - Mandate replaced
                - Mandate transferred
        status:
          type: string
          example: Pending
          enum:
            - Pending
            - Active
            - Finished
            - Rejected
            - Paused
            - Cancelled
    RecurringContributionUpdateRequest:
      properties:
        amount:
          type: string
          description: >-
            Amount as a numeral string with two decimal points. (ex: 1500.00)
            Should be greater than or equal to the minimum investment for the
            financial product.
          example: '1500.00'
        contribution_name:
          type: string
          maxLength: 100
          description: User given identifier for the contribution
          example: New contributions to SIPP
    RecurringPaymentPauseRequest:
      properties:
        pause_cycles:
          type: integer
          description: >-
            The number of cycles to pause a subscription for. A cycle is one
            duration of interval and interval_unit. This should be a non zero
            positive value.
          example: 1
    schemas-RecurringContribution:
      required:
        - frequency
        - amount
      properties:
        frequency:
          type: string
          description: frequency can have values `Monthly`
          enum:
            - Monthly
        amount:
          type: number
          description: The amount can have upto 2 decimal points
      example:
        frequency: Monthly
        amount: 600
    Fees:
      required:
        - fee_type
        - frequency
        - amount
      properties:
        fee_type:
          type: string
          description: Type of the fee
        frequency:
          type: string
          description: frequency can have values `Monthly`
          enum:
            - Monthly
        amount:
          type: number
          description: The amount can have upto 2 decimal points
      example:
        fee_type: Management fee
        frequency: Monthly
        amount: 600
    AccumulateRequest:
      type: object
      required:
        - name
        - date_of_birth
        - intended_retirement_age
        - current_pension_value
        - growth_rate
      properties:
        name:
          type: string
          maxLength: 100
          description: Name of the investor
          example: David Brown
        date_of_birth:
          type: string
          format: date
          description: Should be today or an earlier date
          example: '1963-07-19'
        intended_retirement_age:
          type: integer
          description: At most should be 100. Should be greater than current age
          example: 60
        current_pension_value:
          type: number
          description: Current value of the pension pot. Can contain up to 2 decimal points
          example: 1000
        growth_rate:
          type: number
          description: Annual growth rate of the pot. Can contain up to 2 decimal points
          example: 2.5
        recurring_contributions:
          type: array
          items:
            required:
              - frequency
              - amount
            properties:
              frequency:
                type: string
                description: frequency can have values `Monthly`
                enum:
                  - Monthly
              amount:
                type: number
                description: The amount can have upto 2 decimal points
            example:
              frequency: Monthly
              amount: 600
        one_off_payment:
          type: number
          description: >-
            One-off payments are added to the initial value as tax relievable. 
            Can contain up to 2 decimal points
          example: 500
        transfer_in:
          type: number
          description: >-
            Transfer-ins are added to the initial value as tax relievable.  Can
            contain up to 2 decimal points
          example: 500
        fees:
          type: array
          items:
            required:
              - fee_type
              - frequency
              - amount
            properties:
              fee_type:
                type: string
                description: Type of the fee
              frequency:
                type: string
                description: frequency can have values `Monthly`
                enum:
                  - Monthly
              amount:
                type: number
                description: The amount can have upto 2 decimal points
            example:
              fee_type: Management fee
              frequency: Monthly
              amount: 600
        projection_coverage_years:
          type: array
          description: >-
            Projection is given for the requested coverage years and the
            retirement year. If not given, projection is given for 1st, 3rd, 5th
            and retirement year. Can contains positive integers less than 100
          example:
            - 5
    PensionProjections:
      required:
        - coverage_year
        - date
        - value
      properties:
        coverage_year:
          type: integer
          description: Given coverage year
        date:
          type: string
          description: Date that indicate last date of coverage year
        value:
          type: number
          description: Value of the pot
      example:
        coverage_year: 5
        date: '2028-05-09'
        value: 1167.682
    ProjectionAccumulationResponse:
      allOf:
        - type: object
          required:
            - name
            - date_of_birth
            - intended_retirement_age
            - current_pension_value
            - growth_rate
          properties:
            name:
              type: string
              maxLength: 100
              description: Name of the investor
              example: David Brown
            date_of_birth:
              type: string
              format: date
              description: Should be today or an earlier date
              example: '1963-07-19'
            intended_retirement_age:
              type: integer
              description: At most should be 100. Should be greater than current age
              example: 60
            current_pension_value:
              type: number
              description: >-
                Current value of the pension pot. Can contain up to 2 decimal
                points
              example: 1000
            growth_rate:
              type: number
              description: >-
                Annual growth rate of the pot. Can contain up to 2 decimal
                points
              example: 2.5
            recurring_contributions:
              type: array
              items:
                required:
                  - frequency
                  - amount
                properties:
                  frequency:
                    type: string
                    description: frequency can have values `Monthly`
                    enum:
                      - Monthly
                  amount:
                    type: number
                    description: The amount can have upto 2 decimal points
                example:
                  frequency: Monthly
                  amount: 600
            one_off_payment:
              type: number
              description: >-
                One-off payments are added to the initial value as tax
                relievable.  Can contain up to 2 decimal points
              example: 500
            transfer_in:
              type: number
              description: >-
                Transfer-ins are added to the initial value as tax relievable. 
                Can contain up to 2 decimal points
              example: 500
            fees:
              type: array
              items:
                required:
                  - fee_type
                  - frequency
                  - amount
                properties:
                  fee_type:
                    type: string
                    description: Type of the fee
                  frequency:
                    type: string
                    description: frequency can have values `Monthly`
                    enum:
                      - Monthly
                  amount:
                    type: number
                    description: The amount can have upto 2 decimal points
                example:
                  fee_type: Management fee
                  frequency: Monthly
                  amount: 600
            projection_coverage_years:
              type: array
              description: >-
                Projection is given for the requested coverage years and the
                retirement year. If not given, projection is given for 1st, 3rd,
                5th and retirement year. Can contains positive integers less
                than 100
              example:
                - 5
        - type: object
          required:
            - pension_projections
            - inflation_rate
          properties:
            pension_projections:
              type: array
              description: Projection of the pension coverage years
              readOnly: true
              items:
                required:
                  - coverage_year
                  - date
                  - value
                properties:
                  coverage_year:
                    type: integer
                    description: Given coverage year
                  date:
                    type: string
                    description: Date that indicate last date of coverage year
                  value:
                    type: number
                    description: Value of the pot
                example:
                  coverage_year: 5
                  date: '2028-05-09'
                  value: 1167.682
            inflation_rate:
              type: number
              description: Inflation rate considered for calculations
              example: 2
    CrystallisationInstruction:
      required:
        - pot_id
      properties:
        pot_id:
          type: string
          description: SIPP Accumulation pot from which funds should be crystalised
        percentage:
          description: >-
            Require if `value` is not available. Must be in correct pattern (eg:
            25, 15.34).
          type: string
        value:
          description: >-
            Require if `percentage` is not available. Must be in correct pattern
            (upto 2 decimal places, eg: 25, 332.3, 1050.25).
          type: string
    DrawdownInstructions:
      required:
        - pot_id
        - purpose
        - percentage
      properties:
        pot_id:
          type: string
          description: >-
            SIPP Flexi Access Drawdown pot to which funds should be allocated
            after PCLS withdrawals
        purpose:
          type: string
          description: >-
            invest option is allowed only if investment_instructions given or a
            portfolio is attached, if not the purpose should be cash.
          enum:
            - cash
            - invest
        value:
          description: >-
            Percentage of funds remaining after PCLS withdrawal from each
            accumulation pot, to be allocated to this pot ID
          type: string
    DrawdownAllocation:
      required:
        - pot_id
        - amount
      properties:
        pot_id:
          type: string
          description: >-
            SIPP Flexi Access Drawdown pot to which funds should be allocated
            after PCLS withdrawals from the crystallisation pot
        amount:
          description: Amount transferred from the crystallisation pot
          type: string
    AllocationDetails:
      required:
        - accumulation_pot_id
        - crystallisation_amount
        - pcls_amount
        - drawdown_amount
        - drawdown_allocation
      properties:
        accumulation_pot_id:
          type: string
          description: SIPP Accumulation pot from which funds are crystalised
          example: pot-GYQ5423100
        crystallisation_amount:
          type: string
          example: '1000'
        pcls_amount:
          description: Tax free amount paid to the investors bank account
          type: string
          example: '250'
        drawdown_amount:
          description: Amount that will be distributed among the drawdown pots
          type: string
          example: '750'
        drawdown_allocation:
          description: Drawdown allocation
          type: array
          items:
            required:
              - pot_id
              - amount
            properties:
              pot_id:
                type: string
                description: >-
                  SIPP Flexi Access Drawdown pot to which funds should be
                  allocated after PCLS withdrawals from the crystallisation pot
              amount:
                description: Amount transferred from the crystallisation pot
                type: string
          example:
            - pot_id: pot-XWL3855774
              amount: '225'
            - pot_id: pot-SDQ5009730
              amount: '525'
    Crystallisation:
      required:
        - crystallisation_id
        - investor_id
        - bank_account_id
        - crystallisation_instructions
        - drawdown_instructions
        - status
        - created_at
        - updated_at
      properties:
        crystallisation_id:
          type: string
          example: SIPPCR-AB24DE7
          description: System generated unique id
        investor_id:
          type: string
          description: Investor ID of the investor making the crystallisation
          example: inv-XUT11265
        bank_account_id:
          type: string
          description: Bank account ID of Investor
          example: ba-bc00c28f-b3fc-42b7
        crystallisation_instructions:
          description: Crystallisation instructions
          type: array
          items:
            required:
              - pot_id
            properties:
              pot_id:
                type: string
                description: SIPP Accumulation pot from which funds should be crystalised
              percentage:
                description: >-
                  Require if `value` is not available. Must be in correct
                  pattern (eg: 25, 15.34).
                type: string
              value:
                description: >-
                  Require if `percentage` is not available. Must be in correct
                  pattern (upto 2 decimal places, eg: 25, 332.3, 1050.25).
                type: string
          example:
            - pot_id: pot-GYQ5423100
              value: '1000'
        drawdown_instructions:
          description: Drawdown instructions
          type: array
          items:
            required:
              - pot_id
              - purpose
              - percentage
            properties:
              pot_id:
                type: string
                description: >-
                  SIPP Flexi Access Drawdown pot to which funds should be
                  allocated after PCLS withdrawals
              purpose:
                type: string
                description: >-
                  invest option is allowed only if investment_instructions given
                  or a portfolio is attached, if not the purpose should be cash.
                enum:
                  - cash
                  - invest
              value:
                description: >-
                  Percentage of funds remaining after PCLS withdrawal from each
                  accumulation pot, to be allocated to this pot ID
                type: string
          example:
            - pot_id: pot-XWL3855774
              purpose: cash
              percentage: '30'
            - pot_id: pot-SDQ5009730
              purpose: invest
              percentage: '70'
        reason:
          description: Reason if the request was not completed successfully
          type: string
          example: Free cash not available
        status:
          description: Status of crystallisation request
          type: string
          enum:
            - Accepted
            - Partially completed
            - Completed
            - Rejected
            - Failed
        allocation_details:
          description: Allocation Details
          type: array
          items:
            required:
              - accumulation_pot_id
              - crystallisation_amount
              - pcls_amount
              - drawdown_amount
              - drawdown_allocation
            properties:
              accumulation_pot_id:
                type: string
                description: SIPP Accumulation pot from which funds are crystalised
                example: pot-GYQ5423100
              crystallisation_amount:
                type: string
                example: '1000'
              pcls_amount:
                description: Tax free amount paid to the investors bank account
                type: string
                example: '250'
              drawdown_amount:
                description: Amount that will be distributed among the drawdown pots
                type: string
                example: '750'
              drawdown_allocation:
                description: Drawdown allocation
                type: array
                items:
                  required:
                    - pot_id
                    - amount
                  properties:
                    pot_id:
                      type: string
                      description: >-
                        SIPP Flexi Access Drawdown pot to which funds should be
                        allocated after PCLS withdrawals from the
                        crystallisation pot
                    amount:
                      description: Amount transferred from the crystallisation pot
                      type: string
                example:
                  - pot_id: pot-XWL3855774
                    amount: '225'
                  - pot_id: pot-SDQ5009730
                    amount: '525'
        investor_drawdown_statistics:
          type: object
          description: Investor Drawdown Statistics
          required:
            - total_crystallisation_amount
            - total_drawdown_amount
            - pcls_allowance_utilized
            - pcls_allowance_remaining
          properties:
            total_crystallisation_amount:
              type: string
              description: >-
                Total amount crystalized from the investors accumulation pots
                across years
            total_drawdown_amount:
              type: string
              description: Total amount transferred to investors drawdown pots across years
            pcls_allowance_utilized:
              type: string
              description: Total PCLS allowance utilized by investor across years
            pcls_allowance_remaining:
              type: string
              description: Total PCLS allowance remaining for investor across years
          example:
            total_crystallisation_amount: '7000'
            total_drawdown_amount: '5250'
            pcls_allowance_utilized: '1750'
            pcls_allowance_remaining: '266525'
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    Crystallisations:
      required:
        - crystallisations
        - next_page_available
      type: object
      properties:
        crystallisations:
          type: array
          items:
            required:
              - crystallisation_id
              - investor_id
              - bank_account_id
              - crystallisation_instructions
              - drawdown_instructions
              - status
              - created_at
              - updated_at
            properties:
              crystallisation_id:
                type: string
                example: SIPPCR-AB24DE7
                description: System generated unique id
              investor_id:
                type: string
                description: Investor ID of the investor making the crystallisation
                example: inv-XUT11265
              bank_account_id:
                type: string
                description: Bank account ID of Investor
                example: ba-bc00c28f-b3fc-42b7
              crystallisation_instructions:
                description: Crystallisation instructions
                type: array
                items:
                  required:
                    - pot_id
                  properties:
                    pot_id:
                      type: string
                      description: >-
                        SIPP Accumulation pot from which funds should be
                        crystalised
                    percentage:
                      description: >-
                        Require if `value` is not available. Must be in correct
                        pattern (eg: 25, 15.34).
                      type: string
                    value:
                      description: >-
                        Require if `percentage` is not available. Must be in
                        correct pattern (upto 2 decimal places, eg: 25, 332.3,
                        1050.25).
                      type: string
                example:
                  - pot_id: pot-GYQ5423100
                    value: '1000'
              drawdown_instructions:
                description: Drawdown instructions
                type: array
                items:
                  required:
                    - pot_id
                    - purpose
                    - percentage
                  properties:
                    pot_id:
                      type: string
                      description: >-
                        SIPP Flexi Access Drawdown pot to which funds should be
                        allocated after PCLS withdrawals
                    purpose:
                      type: string
                      description: >-
                        invest option is allowed only if investment_instructions
                        given or a portfolio is attached, if not the purpose
                        should be cash.
                      enum:
                        - cash
                        - invest
                    value:
                      description: >-
                        Percentage of funds remaining after PCLS withdrawal from
                        each accumulation pot, to be allocated to this pot ID
                      type: string
                example:
                  - pot_id: pot-XWL3855774
                    purpose: cash
                    percentage: '30'
                  - pot_id: pot-SDQ5009730
                    purpose: invest
                    percentage: '70'
              reason:
                description: Reason if the request was not completed successfully
                type: string
                example: Free cash not available
              status:
                description: Status of crystallisation request
                type: string
                enum:
                  - Accepted
                  - Partially completed
                  - Completed
                  - Rejected
                  - Failed
              allocation_details:
                description: Allocation Details
                type: array
                items:
                  required:
                    - accumulation_pot_id
                    - crystallisation_amount
                    - pcls_amount
                    - drawdown_amount
                    - drawdown_allocation
                  properties:
                    accumulation_pot_id:
                      type: string
                      description: SIPP Accumulation pot from which funds are crystalised
                      example: pot-GYQ5423100
                    crystallisation_amount:
                      type: string
                      example: '1000'
                    pcls_amount:
                      description: Tax free amount paid to the investors bank account
                      type: string
                      example: '250'
                    drawdown_amount:
                      description: Amount that will be distributed among the drawdown pots
                      type: string
                      example: '750'
                    drawdown_allocation:
                      description: Drawdown allocation
                      type: array
                      items:
                        required:
                          - pot_id
                          - amount
                        properties:
                          pot_id:
                            type: string
                            description: >-
                              SIPP Flexi Access Drawdown pot to which funds
                              should be allocated after PCLS withdrawals from
                              the crystallisation pot
                          amount:
                            description: Amount transferred from the crystallisation pot
                            type: string
                      example:
                        - pot_id: pot-XWL3855774
                          amount: '225'
                        - pot_id: pot-SDQ5009730
                          amount: '525'
              investor_drawdown_statistics:
                type: object
                description: Investor Drawdown Statistics
                required:
                  - total_crystallisation_amount
                  - total_drawdown_amount
                  - pcls_allowance_utilized
                  - pcls_allowance_remaining
                properties:
                  total_crystallisation_amount:
                    type: string
                    description: >-
                      Total amount crystalized from the investors accumulation
                      pots across years
                  total_drawdown_amount:
                    type: string
                    description: >-
                      Total amount transferred to investors drawdown pots across
                      years
                  pcls_allowance_utilized:
                    type: string
                    description: Total PCLS allowance utilized by investor across years
                  pcls_allowance_remaining:
                    type: string
                    description: Total PCLS allowance remaining for investor across years
                example:
                  total_crystallisation_amount: '7000'
                  total_drawdown_amount: '5250'
                  pcls_allowance_utilized: '1750'
                  pcls_allowance_remaining: '266525'
              created_at:
                type: string
                format: date-time
              updated_at:
                type: string
                format: date-time
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    CrystallisationRequest:
      required:
        - request_id
        - investor_id
        - bank_account_id
        - crystallisation_instructions
        - drawdown_instructions
      properties:
        request_id:
          type: string
          format: uuid
          description: 'Unique request id to ensure idempotency. (ex: UUID)'
        investor_id:
          type: string
          description: Investor ID of the investor making the crystallisation
          example: inv-XUT11265
        bank_account_id:
          type: string
          description: Bank account ID of Investor
          example: ba-bc00c28f-b3fc-42b7
        crystallisation_instructions:
          description: Crystallisation instructions
          type: array
          items:
            required:
              - pot_id
            properties:
              pot_id:
                type: string
                description: SIPP Accumulation pot from which funds should be crystalised
              percentage:
                description: >-
                  Require if `value` is not available. Must be in correct
                  pattern (eg: 25, 15.34).
                type: string
              value:
                description: >-
                  Require if `percentage` is not available. Must be in correct
                  pattern (upto 2 decimal places, eg: 25, 332.3, 1050.25).
                type: string
          example:
            - pot_id: pot-GYQ5423100
              value: '1000'
        drawdown_instructions:
          description: Drawdown instructions
          type: array
          items:
            required:
              - pot_id
              - purpose
              - percentage
            properties:
              pot_id:
                type: string
                description: >-
                  SIPP Flexi Access Drawdown pot to which funds should be
                  allocated after PCLS withdrawals
              purpose:
                type: string
                description: >-
                  invest option is allowed only if investment_instructions given
                  or a portfolio is attached, if not the purpose should be cash.
                enum:
                  - cash
                  - invest
              value:
                description: >-
                  Percentage of funds remaining after PCLS withdrawal from each
                  accumulation pot, to be allocated to this pot ID
                type: string
          example:
            - pot_id: pot-XWL3855774
              purpose: cash
              percentage: '30'
            - pot_id: pot-SDQ5009730
              purpose: invest
              percentage: '70'
    CrystallisationRequestResponse:
      properties:
        crystallisation_id:
          type: string
          example: SIPPCR-AB24DE7
          description: System generated unique id
        investor_id:
          type: string
          description: Investor ID of the investor making the crystallisation
          example: inv-XUT11265
        bank_account_id:
          type: string
          description: Bank account ID of Investor
          example: ba-bc00c28f-b3fc-42b7
        crystallisation_instructions:
          description: Crystallisation instructions
          type: array
          items:
            required:
              - pot_id
            properties:
              pot_id:
                type: string
                description: SIPP Accumulation pot from which funds should be crystalised
              percentage:
                description: >-
                  Require if `value` is not available. Must be in correct
                  pattern (eg: 25, 15.34).
                type: string
              value:
                description: >-
                  Require if `percentage` is not available. Must be in correct
                  pattern (upto 2 decimal places, eg: 25, 332.3, 1050.25).
                type: string
          example:
            - pot_id: pot-GYQ5423100
              value: '1000'
        drawdown_instructions:
          description: Drawdown instructions
          type: array
          items:
            required:
              - pot_id
              - purpose
              - percentage
            properties:
              pot_id:
                type: string
                description: >-
                  SIPP Flexi Access Drawdown pot to which funds should be
                  allocated after PCLS withdrawals
              purpose:
                type: string
                description: >-
                  invest option is allowed only if investment_instructions given
                  or a portfolio is attached, if not the purpose should be cash.
                enum:
                  - cash
                  - invest
              value:
                description: >-
                  Percentage of funds remaining after PCLS withdrawal from each
                  accumulation pot, to be allocated to this pot ID
                type: string
          example:
            - pot_id: pot-XWL3855774
              purpose: cash
              percentage: '30'
            - pot_id: pot-SDQ5009730
              purpose: invest
              percentage: '70'
        status:
          description: Status of crystallisation request
          type: string
          enum:
            - Accepted
            - Partially completed
            - Completed
            - Rejected
            - Failed
          example:
            - Accepted
    RecurringWithdrawal:
      required:
        - frequency
        - amount
      properties:
        frequency:
          type: string
          description: frequency can have values `Monthly`
          enum:
            - Monthly
        amount:
          type: number
          description: The amount can have upto 2 decimal points
      example:
        frequency: Monthly
        amount: 600
    DrawdownRequest:
      type: object
      required:
        - name
        - date_of_birth
        - current_pension_value
        - growth_rate
      properties:
        name:
          type: string
          maxLength: 100
          description: Name of the investor
          example: David Brown
        date_of_birth:
          type: string
          format: date
          description: Should be today or an earlier date
          example: '1963-07-19'
        current_pension_value:
          type: number
          description: Current value of the pension pot. Can contain up to 2 decimal points
          example: 1000
        growth_rate:
          type: number
          description: Annual growth rate of the pot. Can contain up to 2 decimal points
          example: 2.5
        recurring_contributions:
          type: array
          items:
            required:
              - frequency
              - amount
            properties:
              frequency:
                type: string
                description: frequency can have values `Monthly`
                enum:
                  - Monthly
              amount:
                type: number
                description: The amount can have upto 2 decimal points
            example:
              frequency: Monthly
              amount: 600
        one_off_payment:
          type: number
          description: >-
            One-off payments are added to the initial value as tax relievable. 
            Can contain up to 2 decimal points
          example: 500
        transfer_in:
          type: number
          description: >-
            Transfer-ins are added to the initial value as tax relievable.  Can
            contain up to 2 decimal points
          example: 500
        fees:
          type: array
          items:
            required:
              - fee_type
              - frequency
              - amount
            properties:
              fee_type:
                type: string
                description: Type of the fee
              frequency:
                type: string
                description: frequency can have values `Monthly`
                enum:
                  - Monthly
              amount:
                type: number
                description: The amount can have upto 2 decimal points
            example:
              fee_type: Management fee
              frequency: Monthly
              amount: 600
        one_off_withdrawal:
          type: number
          description: >-
            One-off withdrawals are deducted from the initial value.  Can
            contain up to 2 decimal points
          example: 500
        recurring_withdrawals:
          type: array
          items:
            required:
              - frequency
              - amount
            properties:
              frequency:
                type: string
                description: frequency can have values `Monthly`
                enum:
                  - Monthly
              amount:
                type: number
                description: The amount can have upto 2 decimal points
            example:
              frequency: Monthly
              amount: 600
        projection_coverage_years:
          type: array
          description: >-
            Projection is given for the requested coverage years. If not given,
            projection is given for 5th and 10th years. Can contain positive
            integers less than 100
          example:
            - 5
    ProjectionDrawdownResponse:
      allOf:
        - type: object
          required:
            - name
            - date_of_birth
            - current_pension_value
            - growth_rate
          properties:
            name:
              type: string
              maxLength: 100
              description: Name of the investor
              example: David Brown
            date_of_birth:
              type: string
              format: date
              description: Should be today or an earlier date
              example: '1963-07-19'
            current_pension_value:
              type: number
              description: >-
                Current value of the pension pot. Can contain up to 2 decimal
                points
              example: 1000
            growth_rate:
              type: number
              description: >-
                Annual growth rate of the pot. Can contain up to 2 decimal
                points
              example: 2.5
            recurring_contributions:
              type: array
              items:
                required:
                  - frequency
                  - amount
                properties:
                  frequency:
                    type: string
                    description: frequency can have values `Monthly`
                    enum:
                      - Monthly
                  amount:
                    type: number
                    description: The amount can have upto 2 decimal points
                example:
                  frequency: Monthly
                  amount: 600
            one_off_payment:
              type: number
              description: >-
                One-off payments are added to the initial value as tax
                relievable.  Can contain up to 2 decimal points
              example: 500
            transfer_in:
              type: number
              description: >-
                Transfer-ins are added to the initial value as tax relievable. 
                Can contain up to 2 decimal points
              example: 500
            fees:
              type: array
              items:
                required:
                  - fee_type
                  - frequency
                  - amount
                properties:
                  fee_type:
                    type: string
                    description: Type of the fee
                  frequency:
                    type: string
                    description: frequency can have values `Monthly`
                    enum:
                      - Monthly
                  amount:
                    type: number
                    description: The amount can have upto 2 decimal points
                example:
                  fee_type: Management fee
                  frequency: Monthly
                  amount: 600
            one_off_withdrawal:
              type: number
              description: >-
                One-off withdrawals are deducted from the initial value.  Can
                contain up to 2 decimal points
              example: 500
            recurring_withdrawals:
              type: array
              items:
                required:
                  - frequency
                  - amount
                properties:
                  frequency:
                    type: string
                    description: frequency can have values `Monthly`
                    enum:
                      - Monthly
                  amount:
                    type: number
                    description: The amount can have upto 2 decimal points
                example:
                  frequency: Monthly
                  amount: 600
            projection_coverage_years:
              type: array
              description: >-
                Projection is given for the requested coverage years. If not
                given, projection is given for 5th and 10th years. Can contain
                positive integers less than 100
              example:
                - 5
        - type: object
          required:
            - pension_projections
            - age_pension_runout
            - inflation_rate
          properties:
            age_pension_runout:
              type: number
              description: >-
                Investor age where the pension fund goes to zero. The response
                will be a string (The pension will last beyond the 100th year)
                if not going to zero before 100 years of age
              example: 60
            pension_projections:
              type: array
              description: Projection of the pension coverage years
              readOnly: true
              items:
                required:
                  - coverage_year
                  - date
                  - value
                properties:
                  coverage_year:
                    type: integer
                    description: Given coverage year
                  date:
                    type: string
                    description: Date that indicate last date of coverage year
                  value:
                    type: number
                    description: Value of the pot
                example:
                  coverage_year: 5
                  date: '2028-05-09'
                  value: 1167.682
            inflation_rate:
              type: number
              description: Inflation rate considered for calculations
              example: 2
    TaxCode:
      title: Root Type for Tax code
      description: JSON for the Tax code resource type
      required:
        - investor_id
        - tax_code
        - effective_date
        - origin
        - created_at
        - updated_at
      properties:
        investor_id:
          type: string
          example: inv-XUT11265
          description: Investor Id of the tax code
        tax_code:
          type: string
          example: 1080L
          description: Tax code of the Investor
        effective_date:
          type: string
          format: date-time
          example: '2023-04-06'
          description: Effective day of the tax code
        end_date:
          type: string
          format: date-time
          example: '2024-04-05'
          description: End date of the tax code
        origin:
          type: string
          enum:
            - External API
          description: Origin of the tax code
        created_at:
          type: string
          format: date-time
          readOnly: true
          example: '2023-02-08T07:36:05.884Z'
        updated_at:
          type: string
          format: date-time
          readOnly: true
          example: '2023-02-10T07:36:05.884Z'
    TaxCodes:
      description: Array of tax codes
      required:
        - tax_codes
        - next_page_available
      type: object
      properties:
        tax_codes:
          type: array
          items:
            title: Root Type for Tax code
            description: JSON for the Tax code resource type
            required:
              - investor_id
              - tax_code
              - effective_date
              - origin
              - created_at
              - updated_at
            properties:
              investor_id:
                type: string
                example: inv-XUT11265
                description: Investor Id of the tax code
              tax_code:
                type: string
                example: 1080L
                description: Tax code of the Investor
              effective_date:
                type: string
                format: date-time
                example: '2023-04-06'
                description: Effective day of the tax code
              end_date:
                type: string
                format: date-time
                example: '2024-04-05'
                description: End date of the tax code
              origin:
                type: string
                enum:
                  - External API
                description: Origin of the tax code
              created_at:
                type: string
                format: date-time
                readOnly: true
                example: '2023-02-08T07:36:05.884Z'
              updated_at:
                type: string
                format: date-time
                readOnly: true
                example: '2023-02-10T07:36:05.884Z'
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    schemas-RecurringWithdrawal:
      required:
        - withdrawal_id
        - withdrawal_name
        - pot_id
        - investor_id
        - bank_account_id
        - amount
        - currency
        - withdrawal_schedule
        - status
        - created_at
        - updated_at
        - reference_version
      properties:
        withdrawal_id:
          type: string
          example: RCW-AB24DE7
          description: System generated unique id
        withdrawal_name:
          type: string
          maxLength: 100
          description: User given identifier for the withdrawal
          example: Withdrawals to SIPP
        investor_id:
          type: string
          description: >-
            Investor ID of the investor making the withdrawal. For a joint pot,
            Investor ID of the party requesting the withdrawal should be
            included.
          example: inv-AUX11265
        pot_id:
          type: string
          description: Pot ID of investor
          example: pot-GYQ5423100
        bank_account_id:
          type: string
          description: Bank account ID of the investor where the withdrawn cash will go to
          example: ba-92yu982d-at6u-4242-9856-83
        amount:
          type: string
          description: Withdrawal amount.
          example: '100.00'
        currency:
          type: string
          description: Must be a currency configured for the Pot
          example: GBP
        withdrawal_schedule:
          type: object
          description: Parameters based on withdrawal schedule
          required:
            - interval_unit
            - interval
            - start_date
          properties:
            interval_unit:
              type: string
              description: Repeating interval unit of recurring withdrawal
              enum:
                - monthly
            interval:
              type: integer
              description: >-
                Repeating interval of recurring withdrawal. For monthly, should
                be 1-12
            date:
              type: integer
              description: >-
                Date the withdrawal is expected to be triggered if frequency is
                monthly. 1-28 or -1 to indicate the last day of the month is
                accepted.
            start_date:
              type: string
              format: date-time
              description: >-
                Date to initiate the recurring withdrawals. Should be in
                YYYY-MM-DD format.
            end_date:
              type: string
              format: date-time
              description: >-
                Date to conclude the recurring withdrawals. Should be in
                YYYY-MM-DD format.
          example:
            interval_unit: monthly
            interval: 2
            date: 1
            start_date: '2023-04-02'
            end_date: '2023-11-02'
        status:
          type: string
          example: active
          enum:
            - active
            - cancelled
        next_withdrawal_date:
          type: string
          format: date-time
          example: '2023-05-01T00:00:00.000Z'
        created_at:
          type: string
          format: date-time
          example: '2023-04-04T15:12:30.000Z'
        updated_at:
          type: string
          format: date-time
          example: '2023-04-04T15:12:30.000Z'
        reference_version:
          type: number
          example: 1
    RecurringWithdrawals:
      required:
        - recurring_withdrawals
        - next_page_available
      type: object
      properties:
        recurring_withdrawals:
          type: array
          items:
            required:
              - withdrawal_id
              - withdrawal_name
              - pot_id
              - investor_id
              - bank_account_id
              - amount
              - currency
              - withdrawal_schedule
              - status
              - created_at
              - updated_at
              - reference_version
            properties:
              withdrawal_id:
                type: string
                example: RCW-AB24DE7
                description: System generated unique id
              withdrawal_name:
                type: string
                maxLength: 100
                description: User given identifier for the withdrawal
                example: Withdrawals to SIPP
              investor_id:
                type: string
                description: >-
                  Investor ID of the investor making the withdrawal. For a joint
                  pot, Investor ID of the party requesting the withdrawal should
                  be included.
                example: inv-AUX11265
              pot_id:
                type: string
                description: Pot ID of investor
                example: pot-GYQ5423100
              bank_account_id:
                type: string
                description: >-
                  Bank account ID of the investor where the withdrawn cash will
                  go to
                example: ba-92yu982d-at6u-4242-9856-83
              amount:
                type: string
                description: Withdrawal amount.
                example: '100.00'
              currency:
                type: string
                description: Must be a currency configured for the Pot
                example: GBP
              withdrawal_schedule:
                type: object
                description: Parameters based on withdrawal schedule
                required:
                  - interval_unit
                  - interval
                  - start_date
                properties:
                  interval_unit:
                    type: string
                    description: Repeating interval unit of recurring withdrawal
                    enum:
                      - monthly
                  interval:
                    type: integer
                    description: >-
                      Repeating interval of recurring withdrawal. For monthly,
                      should be 1-12
                  date:
                    type: integer
                    description: >-
                      Date the withdrawal is expected to be triggered if
                      frequency is monthly. 1-28 or -1 to indicate the last day
                      of the month is accepted.
                  start_date:
                    type: string
                    format: date-time
                    description: >-
                      Date to initiate the recurring withdrawals. Should be in
                      YYYY-MM-DD format.
                  end_date:
                    type: string
                    format: date-time
                    description: >-
                      Date to conclude the recurring withdrawals. Should be in
                      YYYY-MM-DD format.
                example:
                  interval_unit: monthly
                  interval: 2
                  date: 1
                  start_date: '2023-04-02'
                  end_date: '2023-11-02'
              status:
                type: string
                example: active
                enum:
                  - active
                  - cancelled
              next_withdrawal_date:
                type: string
                format: date-time
                example: '2023-05-01T00:00:00.000Z'
              created_at:
                type: string
                format: date-time
                example: '2023-04-04T15:12:30.000Z'
              updated_at:
                type: string
                format: date-time
                example: '2023-04-04T15:12:30.000Z'
              reference_version:
                type: number
                example: 1
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    CreateRecurringWithdrawalRequest:
      required:
        - request_id
        - withdrawal_name
        - pot_id
        - investor_id
        - bank_account_id
        - amount
        - currency
        - withdrawal_schedule
      properties:
        request_id:
          type: string
          format: uuid
          description: 'Unique request id to ensure idempotency. (ex: UUID)'
        withdrawal_name:
          type: string
          maxLength: 100
          description: User given identifier for the withdrawal
          example: Withdrawals to SIPP
        investor_id:
          type: string
          description: >-
            Investor ID of the investor making the withdrawal. For a joint pot,
            Investor ID of the party making withdrawal should be included.
          example: inv-XUT11265
        pot_id:
          type: string
          description: Pot ID of investor to direct the withdrawal
          example: pot-GYQ5423100
        bank_account_id:
          type: string
          description: Bank account ID of the investor where the withdrawn cash will go to
          example: ba-92yu982d-at6u-4242-9856-83
        amount:
          type: string
          description: >-
            Amount as a numeral string with two decimal points. (ex: 1500.00)
            Should be greater than or equal to the minimum investment for the
            financial product.
          example: '100.00'
        currency:
          type: string
          description: Must be a currency configured for the Pot
          example: GBP
        withdrawal_schedule:
          type: object
          description: Parameters based on withdrawal schedule
          required:
            - interval_unit
            - interval
            - start_date
          properties:
            interval_unit:
              type: string
              description: Repeating interval unit of recurring withdrawal
              enum:
                - monthly
            interval:
              type: integer
              description: >-
                Repeating interval of recurring withdrawal. For monthly, should
                be 1-12
            date:
              type: integer
              description: >-
                Date the withdrawal is expected to be triggered if frequency is
                monthly. 1-28 or -1 to indicate the last day of the month
            start_date:
              type: string
              format: date
              description: >-
                Date to initiate the recurring withdrawal. If approvals haven't
                been received by the given start date, the start date will be
                moved to the subscription activation date. Should be in
                YYYY-MM-DD format
            end_date:
              type: string
              format: date
              description: >-
                Date to conclude the recurring withdrawal. Should be in
                YYYY-MM-DD format
          example:
            interval_unit: monthly
            interval: 2
            date: 1
            start_date: '2023-04-02'
            end_date: '2023-11-02'
    UpdateRecurringWithdrawalRequest:
      required:
        - reference_version
      properties:
        amount:
          type: string
          description: >-
            Amount as a numeral string with two decimal points. (ex: 1500.00)
            Should be greater than or equal to the minimum investment for the
            financial product.
          example: '1500.00'
        withdrawal_name:
          type: string
          maxLength: 100
          description: User given identifier for the withdrawal
          example: New withdrawals to SIPP
        end_date:
          type: string
          format: date
          description: >-
            Date to conclude the recurring withdrawal. Should be in YYYY-MM-DD
            format
          example: '2024-10-30'
        reference_version:
          type: number
          example: 1
    CreateWorkplaceEmployerRequest:
      type: object
      required:
        - name
        - registration_number
        - registered_address
        - correspondence_address
        - status
      properties:
        name:
          type: string
          description: Name of the workplace employer
          maxLength: 100
          example: Romayo Ltd
        registration_number:
          type: string
          description: >-
            Registration number of the workplace employer, this should be unique
            for employers.
          example: '12345678'
        registered_address:
          type: object
          description: Registered address of the workplace employer
          properties:
            postal_code:
              type: string
              example: S2 2DF
            address_line:
              type: string
              example: '14'
            street_name:
              type: string
              example: Tottenham Court Road
            city:
              type: string
              example: London
            state:
              type: string
              example: England
            country:
              type: string
              description: 3 character country code inline with ISO 3166-1 alpha-3
              minLength: 3
              maxLength: 3
              example: GBR
          required:
            - postal_code
            - country
        correspondence_address:
          type: object
          description: Address of designated location for receiving official communications
          properties:
            postal_code:
              type: string
              example: A3 2CF
            address_line:
              type: string
              example: '17'
            street_name:
              type: string
              example: Flower Road
            city:
              type: string
              example: London
            state:
              type: string
              example: England
            country:
              type: string
              description: 3 character country code inline with ISO 3166-1 alpha-3
              minLength: 3
              maxLength: 3
              example: GBR
          required:
            - postal_code
            - country
        company_structure:
          type: string
          description: Structure of the company.
          enum:
            - LLC
          example: LLC
        contact_details:
          type: object
          description: Contact details of an individual of the company.
          properties:
            name:
              type: string
              maxLength: 100
              example: Adam Clark
            email:
              type: string
              maxLength: 100
              example: adamclark@gmail.com
            phone_number:
              type: string
              maxLength: 16
              example: '+441234567890'
        kyb_aml_status:
          type: string
          description: Know Your Business status of the company
          enum:
            - submitted
            - kyb_failed_error
            - pending
            - clear
            - not_started
          default: not_started
          example: clear
        status:
          type: string
          description: >-
            Status of the workplace employer. Only the employers with the
            kyb_aml_status as clear can be set to active.
          enum:
            - active
            - inactive
          example: active
    WorkplaceEmployer:
      allOf:
        - type: object
          required:
            - name
            - registration_number
            - registered_address
            - correspondence_address
            - status
          properties:
            name:
              type: string
              description: Name of the workplace employer
              maxLength: 100
              example: Romayo Ltd
            registration_number:
              type: string
              description: >-
                Registration number of the workplace employer, this should be
                unique for employers.
              example: '12345678'
            registered_address:
              type: object
              description: Registered address of the workplace employer
              properties:
                postal_code:
                  type: string
                  example: S2 2DF
                address_line:
                  type: string
                  example: '14'
                street_name:
                  type: string
                  example: Tottenham Court Road
                city:
                  type: string
                  example: London
                state:
                  type: string
                  example: England
                country:
                  type: string
                  description: 3 character country code inline with ISO 3166-1 alpha-3
                  minLength: 3
                  maxLength: 3
                  example: GBR
              required:
                - postal_code
                - country
            correspondence_address:
              type: object
              description: >-
                Address of designated location for receiving official
                communications
              properties:
                postal_code:
                  type: string
                  example: A3 2CF
                address_line:
                  type: string
                  example: '17'
                street_name:
                  type: string
                  example: Flower Road
                city:
                  type: string
                  example: London
                state:
                  type: string
                  example: England
                country:
                  type: string
                  description: 3 character country code inline with ISO 3166-1 alpha-3
                  minLength: 3
                  maxLength: 3
                  example: GBR
              required:
                - postal_code
                - country
            company_structure:
              type: string
              description: Structure of the company.
              enum:
                - LLC
              example: LLC
            contact_details:
              type: object
              description: Contact details of an individual of the company.
              properties:
                name:
                  type: string
                  maxLength: 100
                  example: Adam Clark
                email:
                  type: string
                  maxLength: 100
                  example: adamclark@gmail.com
                phone_number:
                  type: string
                  maxLength: 16
                  example: '+441234567890'
            kyb_aml_status:
              type: string
              description: Know Your Business status of the company
              enum:
                - submitted
                - kyb_failed_error
                - pending
                - clear
                - not_started
              default: not_started
              example: clear
            status:
              type: string
              description: >-
                Status of the workplace employer. Only the employers with the
                kyb_aml_status as clear can be set to active.
              enum:
                - active
                - inactive
              example: active
        - type: object
          required:
            - kyb_aml_status
            - workplace_employer_id
            - reference_version
            - created_at
            - updated_at
          properties:
            workplace_employer_id:
              type: string
              readOnly: true
              maxLength: 20
              description: Unique ID of a workplace employer
              example: wem-AHY58878
            reference_version:
              type: number
              example: 1
            created_at:
              type: string
              format: date-time
              readOnly: true
              example: '2023-07-08T07:36:05.884Z'
            updated_at:
              type: string
              format: date-time
              readOnly: true
              example: '2023-07-10T07:36:05.884Z'
    WorkplaceEmployers:
      required:
        - workplace_employers
        - next_page_available
      type: object
      properties:
        workplace_employers:
          type: array
          items:
            allOf:
              - type: object
                required:
                  - name
                  - registration_number
                  - registered_address
                  - correspondence_address
                  - status
                properties:
                  name:
                    type: string
                    description: Name of the workplace employer
                    maxLength: 100
                    example: Romayo Ltd
                  registration_number:
                    type: string
                    description: >-
                      Registration number of the workplace employer, this should
                      be unique for employers.
                    example: '12345678'
                  registered_address:
                    type: object
                    description: Registered address of the workplace employer
                    properties:
                      postal_code:
                        type: string
                        example: S2 2DF
                      address_line:
                        type: string
                        example: '14'
                      street_name:
                        type: string
                        example: Tottenham Court Road
                      city:
                        type: string
                        example: London
                      state:
                        type: string
                        example: England
                      country:
                        type: string
                        description: >-
                          3 character country code inline with ISO 3166-1
                          alpha-3
                        minLength: 3
                        maxLength: 3
                        example: GBR
                    required:
                      - postal_code
                      - country
                  correspondence_address:
                    type: object
                    description: >-
                      Address of designated location for receiving official
                      communications
                    properties:
                      postal_code:
                        type: string
                        example: A3 2CF
                      address_line:
                        type: string
                        example: '17'
                      street_name:
                        type: string
                        example: Flower Road
                      city:
                        type: string
                        example: London
                      state:
                        type: string
                        example: England
                      country:
                        type: string
                        description: >-
                          3 character country code inline with ISO 3166-1
                          alpha-3
                        minLength: 3
                        maxLength: 3
                        example: GBR
                    required:
                      - postal_code
                      - country
                  company_structure:
                    type: string
                    description: Structure of the company.
                    enum:
                      - LLC
                    example: LLC
                  contact_details:
                    type: object
                    description: Contact details of an individual of the company.
                    properties:
                      name:
                        type: string
                        maxLength: 100
                        example: Adam Clark
                      email:
                        type: string
                        maxLength: 100
                        example: adamclark@gmail.com
                      phone_number:
                        type: string
                        maxLength: 16
                        example: '+441234567890'
                  kyb_aml_status:
                    type: string
                    description: Know Your Business status of the company
                    enum:
                      - submitted
                      - kyb_failed_error
                      - pending
                      - clear
                      - not_started
                    default: not_started
                    example: clear
                  status:
                    type: string
                    description: >-
                      Status of the workplace employer. Only the employers with
                      the kyb_aml_status as clear can be set to active.
                    enum:
                      - active
                      - inactive
                    example: active
              - type: object
                required:
                  - kyb_aml_status
                  - workplace_employer_id
                  - reference_version
                  - created_at
                  - updated_at
                properties:
                  workplace_employer_id:
                    type: string
                    readOnly: true
                    maxLength: 20
                    description: Unique ID of a workplace employer
                    example: wem-AHY58878
                  reference_version:
                    type: number
                    example: 1
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2023-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2023-07-10T07:36:05.884Z'
        next_page_available:
          type: boolean
          readOnly: true
          description: This indicates the availability of the next page
    UpdateWorkplaceEmployerRequest:
      type: object
      required:
        - reference_version
      properties:
        name:
          type: string
          description: Name of the workplace employer
          maxLength: 100
          example: Romayo Ltd
        registration_number:
          type: string
          description: >-
            Registration number of the workplace employer, this should be unique
            for employers.
          example: '12345678'
        registered_address:
          type: object
          description: Registered address of the workplace employer
          properties:
            postal_code:
              type: string
              example: D2 2DF
            address_line:
              type: string
              nullable: true
              example: '14'
            street_name:
              type: string
              nullable: true
              example: Court Road
            city:
              type: string
              nullable: true
              example: London
            state:
              type: string
              nullable: true
              example: England
            country:
              type: string
              description: 3 character country code inline with ISO 3166-1 alpha-3
              minLength: 3
              maxLength: 3
              example: GBR
        correspondence_address:
          type: object
          description: Address of designated location for receiving official communications
          properties:
            postal_code:
              type: string
              example: B3 2CF
            address_line:
              type: string
              nullable: true
              example: '17'
            street_name:
              type: string
              nullable: true
              example: Church Road
            city:
              type: string
              nullable: true
              example: London
            state:
              type: string
              nullable: true
              example: England
            country:
              type: string
              description: 3 character country code inline with ISO 3166-1 alpha-3
              minLength: 3
              maxLength: 3
              example: GBR
        company_structure:
          type: string
          description: Structure of the company.
          enum:
            - LLC
          example: LLC
        contact_details:
          type: object
          description: Contact details of an individual of the company.
          properties:
            name:
              type: string
              nullable: true
              example: Clark Kent
            email:
              type: string
              nullable: true
              example: clarkkent@gmail.com
            phone_number:
              type: string
              nullable: true
              example: '+441234567890'
        kyb_aml_status:
          type: string
          description: Know Your Business status of the company
          enum:
            - submitted
            - kyb_failed_error
            - pending
            - clear
            - not_started
          default: not_started
          example: clear
        status:
          type: string
          description: >-
            Status of the workplace employer. Only the employers with the
            kyb_aml_status as clear can be set to active.
          enum:
            - active
            - inactive
          example: active
        reference_version:
          type: number
          example: 1
    components-schemas-Investor:
      type: object
      required:
        - investor_id
        - first_name
        - last_name
        - tax_id
      properties:
        investor_id:
          type: string
          description: System generated unique ID of the investor
          example: inv-XUT11265
        title:
          type: string
          example: Mr
        first_name:
          type: string
          example: John
        last_name:
          type: string
          example: Doe
        tax_id:
          type: string
          description: >-
            A unique identifier assigned to individuals and businesses by the
            tax authorities for tax purposes
          example: AB123456C
    WorkplaceEmployerInvestors:
      required:
        - workplace_employer_id
        - investors
      type: object
      properties:
        workplace_employer_id:
          type: string
          description: Unique ID of the workplace employer
          example: wem-AHY58878
        investors:
          type: array
          items:
            type: object
            required:
              - investor_id
              - first_name
              - last_name
              - tax_id
            properties:
              investor_id:
                type: string
                description: System generated unique ID of the investor
                example: inv-XUT11265
              title:
                type: string
                example: Mr
              first_name:
                type: string
                example: John
              last_name:
                type: string
                example: Doe
              tax_id:
                type: string
                description: >-
                  A unique identifier assigned to individuals and businesses by
                  the tax authorities for tax purposes
                example: AB123456C
  securitySchemes:
    ApiPubKey:
      description: >-
        GUI/Publisable key of the Wealth Manager. Needed when GUI needs to
        communicate directly with WealthOS API in certain scenarios. This key
        has limited permissions & life span and can only access few defined
        APIs. Usually this is sent as part of the response from another REST API
      type: apiKey
      in: header
      name: Authorization
    ApiSecretKey:
      description: >-
        Secret key for the Wealth Manager BE, needed to communicate with
        WealthOS REST API. This Key must be a secret and must be securely held
        and ONLY be used by Wealth Manager BE system.
      type: apiKey
      in: header
      name: x-api-key
    WsSecretKey:
      description: >-
        Secret key for the Wealth Manager BE, used for WebSocket API. This is
        the same secret key of REST API, but sent as a query paramater for web
        socket connections
      type: apiKey
      in: query
      name: x-token
  responses:
    Success:
      description: Success
    Created:
      description: Resource created
    BadRequest:
      description: >-
        Request is not complete and may have one or more validations errors.
        Please check the error message and the code
      content:
        application/json:
          schema:
            required:
              - message
            properties:
              error_code:
                description: Optional error code
                type: string
              message:
                description: Human readable description of the error
                type: string
              status:
                description: Current status of the original request
                type: string
                enum:
                  - PROCESSING
                  - COMPLETE
              response:
                description: Stringified original response body if status is `COMPLETE`
                type: object
    Forbidden:
      description: >-
        Your authentication information is missing or invalid. Please check the
        keys are properly set and its correct
      content:
        application/json:
          schema:
            required:
              - message
            properties:
              error_code:
                description: Optional error code
                type: string
              message:
                description: Human readable description of the error
                type: string
    NotFound:
      description: The specified resource was not found
      content:
        application/json:
          schema:
            required:
              - message
            properties:
              error_code:
                description: Optional error code
                type: string
              message:
                description: Human readable description of the error
                type: string
    Unauthorized:
      description: You do not have permissions to access this resource.
      content:
        application/json:
          schema:
            required:
              - message
            properties:
              error_code:
                description: Optional error code
                type: string
              message:
                description: Human readable description of the error
                type: string
    TooManyRequestsError:
      description: >-
        You have sent too many requests to the system. Please retry later. If
        you need to increase your throtteling limits, please contact WOS support
      content:
        application/json:
          schema:
            required:
              - message
            properties:
              error_code:
                description: Optional error code
                type: string
              message:
                description: Human readable description of the error
                type: string
    SystemError:
      description: System error. Retry later. If the error persist, contact WOS support
      content:
        application/json:
          schema:
            required:
              - message
            properties:
              error_code:
                description: Optional error code
                type: string
              message:
                description: Human readable description of the error
                type: string
    MultipleBadRequest:
      description: Request is not complete and may have one or more validations errors
      content:
        application/json:
          schema:
            properties:
              error_code:
                description: Optional error code
                type: string
              message:
                description: >-
                  Human readable description of the error. Will be populated
                  when a high level validation fails
                type: string
              results:
                description: >-
                  Will be populated when validations fail for creation
                  instructions
                type: array
              status:
                description: Current status of the original request
                type: string
                enum:
                  - PROCESSING
                  - COMPLETE
              response:
                description: Stringified original response body if status is `COMPLETE`
                type: object
    DefaultError:
      description: Default error
      content:
        application/json:
          schema:
            required:
              - message
            properties:
              error_code:
                description: Optional error code
                type: string
              message:
                description: Human readable description of the error
                type: string
paths:
  /tenant/test/hello-world-be:
    get:
      summary: Wealth Manager Greeting for BE
      operationId: getBEGreeting
      tags:
        - Test Methods
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: A greeting message which identifies the tenant
          content:
            application/json:
              schema:
                required:
                  - tenant
                  - message
                  - members
                properties:
                  tenant:
                    type: string
                  members:
                    type: array
                    items:
                      type: string
                  message:
                    type: string
                example:
                  tenant: wos
                  members:
                    - Leonardo
                    - Michelangelo
                    - Donatello
                    - Raphael
                  message: Welcome to WOS world
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/test/hello-world-be \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/test/hello-world-be",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: |-
            require 'uri'
            require 'net/http'
            require 'openssl'

            url = URI("https://web_host_name/tenant/test/hello-world-be")

            http = Net::HTTP.new(url.host, url.port)
            http.use_ssl = true
            http.verify_mode = OpenSSL::SSL::VERIFY_NONE

            request = Net::HTTP::Get.new(url)
            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            response = http.request(request)
            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/test/hello-world-be\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/investors/v1:
    summary: Investor resource management
    get:
      tags:
        - Investors
      security:
        - ApiSecretKey: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Array of investors
                required:
                  - investors
                  - next_page_available
                type: object
                properties:
                  investors:
                    type: array
                    items:
                      title: Root Type for Investor
                      description: JSON for the Investor resource type
                      required:
                        - investor_id
                        - first_name
                        - last_name
                        - nationality
                        - tax_id
                        - address
                        - tax_residency_compliant
                        - date_of_birth
                        - kyc_aml_status
                        - dealing_status
                        - kyc_aml_status_last_updated
                        - status
                        - reference_version
                        - created_at
                        - updated_at
                      properties:
                        investor_id:
                          type: string
                          maxLength: 64
                          example: inv-XUT11265
                        title:
                          type: string
                          example: Mr.
                        gender:
                          type: string
                          example: male
                        first_name:
                          type: string
                          maxLength: 100
                          example: David
                        last_name:
                          type: string
                          minLength: 2
                          maxLength: 100
                          example: Brown
                        status:
                          type: string
                          enum:
                            - kyc_pending
                            - kyc_failed
                            - inactive
                            - active
                          readOnly: true
                          example: kyc_pending
                        email:
                          type: string
                          maxLength: 100
                          example: davidbrown@gmail.com
                        mobile_number:
                          type: string
                          maxLength: 16
                          example: '+441234567890'
                        home_number:
                          type: string
                          maxLength: 16
                          example: '+441234587830'
                        office_number:
                          type: string
                          maxLength: 16
                          example: '+442072343456'
                        nationality:
                          type: string
                          description: >-
                            3 character country code inline with ISO 3166-1
                            alpha-3
                          minLength: 3
                          maxLength: 3
                          example: GBR
                        tax_id:
                          type: string
                          example: AB123456C
                        kyc_aml_status:
                          type: string
                          enum:
                            - submitted
                            - kyc_failed_error
                            - pending
                            - clear
                            - not_started
                          default: not_started
                          example: not_started
                        dealing_status:
                          type: string
                          enum:
                            - inactive
                            - active
                          default: inactive
                          example: inactive
                        id_numbers:
                          type: array
                          items:
                            type: object
                            properties:
                              id_type:
                                type: string
                              id_number:
                                type: string
                            required:
                              - id_type
                              - id_number
                          example:
                            - id_type: passport
                              id_number: '2324839048381'
                        address:
                          type: object
                          properties:
                            postal_code:
                              type: string
                              example: S2 2DF
                            address_line:
                              type: string
                              nullable: true
                              example: '14'
                            street_name:
                              type: string
                              nullable: true
                              example: Tottenham Court Road
                            city:
                              type: string
                              nullable: true
                              example: London
                            state:
                              type: string
                              nullable: true
                              example: England
                            country:
                              type: string
                              description: >-
                                3 character country code inline with ISO 3166-1
                                alpha-3
                              minLength: 3
                              maxLength: 3
                              example: GBR
                          required:
                            - postal_code
                            - country
                        mifid_tax_id:
                          type: string
                          example: '2382392274'
                        tax_residency_compliant:
                          type: boolean
                          example: true
                        date_of_birth:
                          type: string
                          format: date
                          description: YYYY-MM-DD
                          example: '1990-12-20'
                        kyc_aml_status_last_updated:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-10T07:36:05.884Z'
                        bank_accounts:
                          type: array
                          description: Array of bank account IDs
                          items:
                            type: string
                            example: ba-bc00c28f-b3fc-42b7
                        retirement_age:
                          type: number
                          description: Intended retirement age of the investor
                          example: 60
                        tax_residence:
                          type: string
                          description: >-
                            Residence of the investor for tax purposes. (for
                            example, to claim relief at source) GB-ENG=England
                            GB-NIR=Northern Ireland GB-SCT=Scotland GB-WLS=Wales
                          enum:
                            - GB-ENG
                            - GB-NIR
                            - GB-SCT
                            - GB-WLS
                          example: GB-ENG
                        employment_status:
                          type: string
                          description: >-
                            Status of an investor best describes their personal
                            circumstances.
                          enum:
                            - employed
                            - self_employed
                            - pensioner
                            - child_under_16
                            - in_full_time_education
                            - unemployed
                            - caring_for_a_person_over_16
                            - caring_for_a_person_under_16
                            - other
                          example: employed
                        mpaa_triggered:
                          type: boolean
                          description: >-
                            Whether the investor has triggered the Money
                            Purchase Annual Allowance.
                          example: true
                        mpaa_triggered_date:
                          type: string
                          description: >-
                            Date of triggering the Money Purchase Annual
                            Allowance. It is required if mpaa_triggered is true.
                          format: date
                          example: '2023-01-30'
                        workplace_employers:
                          type: array
                          description: >-
                            Unique IDs of workplace employers who are
                            contributing to the workplace pension of the
                            investor.
                          items:
                            type: string
                            example: wem-AHY58878
                        lta_protection_details:
                          type: array
                          description: >-
                            Additional details of the lifetime allowance
                            protections of the investor
                          items:
                            type: object
                            properties:
                              lta_protection_type:
                                type: string
                                enum:
                                  - primary
                                  - enhanced
                                  - fp12
                                  - fp14
                                  - ip14
                                  - fp16
                                  - ip16
                              lta_primary_protection_factor:
                                type: string
                                description: >-
                                  Required only when the lta_protection_type is
                                  primary
                              lta_individual_protection_amount:
                                type: string
                                description: >-
                                  Required when the lta_protection_type is ip14
                                  or ip16.
                              lta_protection_notification_number:
                                type: string
                                description: >-
                                  Required when the lta_protection_type is fp16
                                  or ip16.
                              lta_protection_scheme_administrator_reference:
                                type: string
                                description: >-
                                  Required when the lta_protection_type is fp16
                                  or ip16.
                            required:
                              - lta_protection_type
                          example:
                            - lta_protection_type: primary
                              lta_primary_protection_factor: '20.00'
                            - lta_protection_type: fp14
                        expression_of_wish:
                          type: object
                          description: >-
                            Beneficiary and nominee list of the expression of
                            wish.
                          properties:
                            sipp_beneficiaries:
                              type: array
                              items:
                                type: object
                                properties:
                                  title:
                                    type: string
                                  first_name:
                                    type: string
                                    maxLength: 100
                                  last_name:
                                    type: string
                                    minLength: 2
                                    maxLength: 100
                                  address:
                                    type: string
                                  tax_id:
                                    type: string
                                  phone_number:
                                    type: string
                                  email:
                                    type: string
                                  percentage:
                                    type: string
                                required:
                                  - first_name
                                  - last_name
                                  - address
                                  - percentage
                              example:
                                - title: Mr.
                                  first_name: William
                                  last_name: Smith
                                  address: 13 Park Row,Edinburgh, United Kingdom
                                  tax_id: AB123956P
                                  phone_number: '+441332960321'
                                  email: davidbrown@gmail.com
                                  percentage: '75.00'
                                - title: Miss.
                                  first_name: Jessica
                                  last_name: Smith
                                  address: 14 Park Row,Edinburgh, United Kingdom
                                  tax_id: KL123956M
                                  phone_number: '+441630960345'
                                  email: jessicasmith@gmail.com
                                  percentage: '25.00'
                            sipp_nominees:
                              type: array
                              items:
                                type: object
                                properties:
                                  title:
                                    type: string
                                  first_name:
                                    type: string
                                    maxLength: 100
                                  last_name:
                                    type: string
                                    minLength: 2
                                    maxLength: 100
                                  address:
                                    type: string
                                  tax_id:
                                    type: string
                                  phone_number:
                                    type: string
                                  email:
                                    type: string
                                  percentage:
                                    type: string
                                required:
                                  - first_name
                                  - last_name
                                  - address
                                  - percentage
                              example:
                                - title: Mr.
                                  first_name: James
                                  last_name: Brown
                                  address: 87 Colorado Way,Richmond, United Kingdom
                                  tax_id: XY123956Z
                                  phone_number: '+441630960322'
                                  email: jamesbrown@gmail.com
                                  percentage: '50.00'
                                - title: Mrs.
                                  first_name: Emily
                                  last_name: Brown
                                  address: 4 Baldock Street, Newtown, United Kingdom
                                  tax_id: SY123956P
                                  phone_number: '+441615960345'
                                  email: emilybrown@gmail.com
                                  percentage: '50.00'
                        reference_version:
                          type: integer
                          example: 1
                          readOnly: true
                        created_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-08T07:36:05.884Z'
                        updated_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-10T07:36:05.884Z'
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
          description: success
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: getAllInvestors
      summary: Get All Investors
      description: Returns all the investors in an array
      parameters:
        - name: page_size
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 500 and 1. Max page size is 2000.
            Results are sorted decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: page_number
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 500 and 1. Results are sorted
            decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: sort
          description: Sorting order; results are sorted by creation time.
          schema:
            type: string
            default: desc
            enum:
              - asc
              - desc
          in: query
          required: false
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/investors/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investors/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investors/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investors/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    post:
      requestBody:
        content:
          application/json:
            schema:
              title: Root Type for Investor creation request
              description: JSON for the Investor creation request resource type
              required:
                - first_name
                - last_name
                - nationality
                - tax_id
                - address
                - tax_residency_compliant
                - date_of_birth
              properties:
                title:
                  type: string
                  example: Mr.
                gender:
                  type: string
                  example: male
                first_name:
                  type: string
                  maxLength: 100
                  example: David
                last_name:
                  type: string
                  minLength: 2
                  maxLength: 100
                  example: Brown
                status:
                  type: string
                  enum:
                    - kyc_pending
                    - kyc_failed
                    - inactive
                    - active
                  readOnly: true
                  example: kyc_pending
                email:
                  type: string
                  maxLength: 100
                  example: davidbrown@gmail.com
                mobile_number:
                  type: string
                  maxLength: 16
                  example: '+441234567890'
                home_number:
                  type: string
                  maxLength: 16
                  example: '+441234587830'
                office_number:
                  type: string
                  maxLength: 16
                  example: '+442072343456'
                nationality:
                  type: string
                  description: 3 character country code inline with ISO 3166-1 alpha-3
                  minLength: 3
                  maxLength: 3
                  example: GBR
                tax_id:
                  type: string
                  example: AB123456C
                kyc_aml_status:
                  type: string
                  enum:
                    - submitted
                    - kyc_failed_error
                    - pending
                    - clear
                    - not_started
                  default: not_started
                  example: not_started
                dealing_status:
                  type: string
                  enum:
                    - inactive
                    - active
                  default: inactive
                  example: inactive
                id_numbers:
                  type: array
                  items:
                    type: object
                    properties:
                      id_type:
                        type: string
                      id_number:
                        type: string
                    required:
                      - id_type
                      - id_number
                  example:
                    - id_type: passport
                      id_number: '2324839048381'
                address:
                  type: object
                  properties:
                    postal_code:
                      type: string
                      example: S2 2DF
                    address_line:
                      type: string
                      nullable: true
                      example: '14'
                    street_name:
                      type: string
                      nullable: true
                      example: Tottenham Court Road
                    city:
                      type: string
                      nullable: true
                      example: London
                    state:
                      type: string
                      nullable: true
                      example: England
                    country:
                      type: string
                      description: 3 character country code inline with ISO 3166-1 alpha-3
                      minLength: 3
                      maxLength: 3
                      example: GBR
                  required:
                    - postal_code
                    - country
                mifid_tax_id:
                  type: string
                  example: '2382392274'
                tax_residency_compliant:
                  type: boolean
                  example: true
                date_of_birth:
                  type: string
                  format: date
                  description: YYYY-MM-DD
                  example: '1990-12-20'
                retirement_age:
                  type: number
                  description: Intended retirement age of the investor.
                  example: 60
                tax_residence:
                  type: string
                  description: >-
                    Residence of the investor for tax purposes. (for example, to
                    claim relief at source) GB-ENG=England GB-NIR=Northern
                    Ireland GB-SCT=Scotland GB-WLS=Wales.
                  enum:
                    - GB-ENG
                    - GB-NIR
                    - GB-SCT
                    - GB-WLS
                  example: GB-ENG
                employment_status:
                  type: string
                  description: >-
                    Status of an investor best describes their personal
                    circumstances.
                  enum:
                    - employed
                    - self_employed
                    - pensioner
                    - child_under_16
                    - in_full_time_education
                    - unemployed
                    - caring_for_a_person_over_16
                    - caring_for_a_person_under_16
                    - other
                  example: employed
                mpaa_triggered:
                  type: boolean
                  description: >-
                    Whether the investor has triggered the Money Purchase Annual
                    Allowance.
                  example: true
                mpaa_triggered_date:
                  type: string
                  description: >-
                    Date of triggering the Money Purchase Annual Allowance. This
                    is only required if mpaa_triggered is true.The date format
                    should be YYYY-MM-DD.
                  format: date
                  example: '2023-01-30'
                workplace_employers:
                  type: array
                  description: >-
                    Unique IDs of workplace employers who are contributing to
                    the workplace pension of the investor.
                  items:
                    type: string
                    example: wem-AHY58878
                lta_protection_details:
                  type: array
                  description: >-
                    Additional details of the lifetime allowance protections of
                    the investor.
                  items:
                    type: object
                    properties:
                      lta_protection_type:
                        type: string
                        description: >-
                          primary=Primary protection, enhanced=Enhanced
                          protection, fp12=Fixed protection 2012, fp14=Fixed
                          protection 2014, fp16=Fixed protection 2016,
                          ip14=Individual protection 2014, ip16=Individual
                          protection 2016
                        enum:
                          - primary
                          - enhanced
                          - fp12
                          - fp14
                          - ip14
                          - fp16
                          - ip16
                      lta_primary_protection_factor:
                        type: string
                        description: >-
                          Primary protection factor of the investor. Required
                          only when the lta_protection_type is primary.
                      lta_individual_protection_amount:
                        type: string
                        description: >-
                          Protected lifetime allowance of the investor. Required
                          when the lta_protection_type is ip14 or ip16.
                      lta_protection_notification_number:
                        type: string
                        description: >-
                          Protection notification number issued by HMRC.
                          Required for protection from 2016 onwards. Required
                          when the lta_protection_type is fp16 or ip16.
                      lta_protection_scheme_administrator_reference:
                        type: string
                        description: >-
                          Scheme administrator reference issued by HMRC.
                          Required for protection from 2016 onwards. Required
                          when the lta_protection_type is fp16 or ip16.
                    required:
                      - lta_protection_type
                  example:
                    - lta_protection_type: primary
                      lta_primary_protection_factor: '20.00'
                    - lta_protection_type: fp14
                expression_of_wish:
                  type: object
                  description: Beneficiary and nominee list of the expression of wish.
                  properties:
                    sipp_beneficiaries:
                      type: array
                      description: Beneficiaries list of the expression of wish
                      items:
                        type: object
                        properties:
                          title:
                            type: string
                          first_name:
                            type: string
                            maxLength: 100
                          last_name:
                            type: string
                            minLength: 2
                            maxLength: 100
                          address:
                            type: string
                          tax_id:
                            type: string
                          phone_number:
                            type: string
                          email:
                            type: string
                          percentage:
                            type: string
                            description: >-
                              Percentage of assets that will be allocated to the
                              beneficiary
                        required:
                          - first_name
                          - last_name
                          - address
                          - percentage
                      example:
                        - title: Mr.
                          first_name: William
                          last_name: Smith
                          address: 13 Park Row,Edinburgh, United Kingdom
                          tax_id: AB123956P
                          phone_number: '+441332960321'
                          email: davidbrown@gmail.com
                          percentage: '75.00'
                        - title: Miss.
                          first_name: Jessica
                          last_name: Smith
                          address: 14 Park Row,Edinburgh, United Kingdom
                          tax_id: KL123956M
                          phone_number: '+441630960345'
                          email: jessicasmith@gmail.com
                          percentage: '25.00'
                    sipp_nominees:
                      type: array
                      description: Nominees list of the expression of wish
                      items:
                        type: object
                        properties:
                          title:
                            type: string
                          first_name:
                            type: string
                            maxLength: 100
                          last_name:
                            type: string
                            minLength: 2
                            maxLength: 100
                          address:
                            type: string
                          tax_id:
                            type: string
                          phone_number:
                            type: string
                          email:
                            type: string
                          percentage:
                            type: string
                            description: >-
                              Percentage of assets that will be allocated to the
                              nominee
                        required:
                          - first_name
                          - last_name
                          - address
                          - percentage
                      example:
                        - title: Mr.
                          first_name: James
                          last_name: Brown
                          address: 87 Colorado Way,Richmond, United Kingdom
                          tax_id: XY123956Z
                          phone_number: '+441630960322'
                          email: jamesbrown@gmail.com
                          percentage: '50.00'
                        - title: Mrs.
                          first_name: Emily
                          last_name: Brown
                          address: 4 Baldock Street, Newtown, United Kingdom
                          tax_id: SY123956P
                          phone_number: '+441615960345'
                          email: emilybrown@gmail.com
                          percentage: '50.00'
                bank_accounts:
                  type: array
                  description: >-
                    Allow to create only one bank account when creating a new
                    investor.
                  items:
                    required:
                      - account_name
                      - default_account
                      - bank_account_number
                    properties:
                      account_name:
                        type: string
                        maxLength: 100
                        example: David Brown
                      default_account:
                        type: string
                        enum:
                          - 'yes'
                          - 'no'
                        description: Only one account should be the default
                        example: 'yes'
                      bank_account_number:
                        type: string
                        minLength: 6
                        maxLength: 8
                        description: Unique for the investor
                        example: '12345678'
                      account_status:
                        type: string
                        enum:
                          - active
                          - inactive
                        description: If not populated, will be defaulted to inactive
                        example: active
                      sort_code:
                        type: string
                        minLength: 6
                        maxLength: 8
                        example: '123456'
                        description: Mandatory if region is UK
                      building_society_roll_number:
                        type: string
                        minLength: 1
                        maxLength: 18
                        example: '12345672'
        required: true
      security:
        - ApiSecretKey: []
      tags:
        - Investors
      responses:
        '201':
          description: Resource created
          content:
            application/json:
              schema:
                title: Root Type for Investor creation response
                description: JSON for the Investor creation response resource type
                required:
                  - investor_id
                  - first_name
                  - last_name
                  - nationality
                  - tax_id
                  - address
                  - tax_residency_compliant
                  - date_of_birth
                  - kyc_aml_status
                  - dealing_status
                  - kyc_aml_status_last_updated
                  - status
                  - reference_version
                  - created_at
                  - updated_at
                properties:
                  investor_id:
                    type: string
                    maxLength: 64
                    example: inv-XUT11265
                  title:
                    type: string
                    example: Mr.
                  gender:
                    type: string
                    example: male
                  first_name:
                    type: string
                    maxLength: 100
                    example: David
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                    example: Brown
                  status:
                    type: string
                    enum:
                      - kyc_pending
                      - kyc_failed
                      - inactive
                      - active
                    readOnly: true
                    example: kyc_pending
                  email:
                    type: string
                    maxLength: 100
                    example: davidbrown@gmail.com
                  mobile_number:
                    type: string
                    maxLength: 16
                    example: '+441234567890'
                  home_number:
                    type: string
                    maxLength: 16
                    example: '+441234587830'
                  office_number:
                    type: string
                    maxLength: 16
                    example: '+442072343456'
                  nationality:
                    type: string
                    description: 3 character country code inline with ISO 3166-1 alpha-3
                    minLength: 3
                    maxLength: 3
                    example: GBR
                  tax_id:
                    type: string
                    example: AB123456C
                  kyc_aml_status:
                    type: string
                    enum:
                      - submitted
                      - kyc_failed_error
                      - pending
                      - clear
                      - not_started
                    default: not_started
                    example: not_started
                  dealing_status:
                    type: string
                    enum:
                      - inactive
                      - active
                    default: inactive
                    example: inactive
                  id_numbers:
                    type: array
                    items:
                      type: object
                      properties:
                        id_type:
                          type: string
                        id_number:
                          type: string
                      required:
                        - id_type
                        - id_number
                    example:
                      - id_type: passport
                        id_number: '2324839048381'
                  address:
                    type: object
                    properties:
                      postal_code:
                        type: string
                        example: S2 2DF
                      address_line:
                        type: string
                        nullable: true
                        example: '14'
                      street_name:
                        type: string
                        nullable: true
                        example: Tottenham Court Road
                      city:
                        type: string
                        nullable: true
                        example: London
                      state:
                        type: string
                        nullable: true
                        example: England
                      country:
                        type: string
                        description: >-
                          3 character country code inline with ISO 3166-1
                          alpha-3
                        minLength: 3
                        maxLength: 3
                        example: GBR
                    required:
                      - postal_code
                      - country
                  mifid_tax_id:
                    type: string
                    example: '2382392274'
                  tax_residency_compliant:
                    type: boolean
                    example: true
                  date_of_birth:
                    type: string
                    format: date
                    description: YYYY-MM-DD
                    example: '1990-12-20'
                  retirement_age:
                    type: number
                    example: 60
                  tax_residence:
                    type: string
                    description: >-
                      Residence of the investor for tax purposes. (for example,
                      to claim relief at source) GB-ENG=England GB-NIR=Northern
                      Ireland GB-SCT=Scotland GB-WLS=Wales
                    enum:
                      - GB-ENG
                      - GB-NIR
                      - GB-SCT
                      - GB-WLS
                    example: GB-ENG
                  employment_status:
                    type: string
                    enum:
                      - employed
                      - self_employed
                      - pensioner
                      - child_under_16
                      - in_full_time_education
                      - unemployed
                      - caring_for_a_person_over_16
                      - caring_for_a_person_under_16
                      - other
                    example: employed
                  mpaa_triggered:
                    type: boolean
                    example: true
                  mpaa_triggered_date:
                    type: string
                    format: date
                    example: '2023-01-30'
                  workplace_employers:
                    type: array
                    description: >-
                      Unique IDs of workplace employers who are contributing to
                      the workplace pension of the investor.
                    items:
                      type: string
                      example: wem-AHY58878
                  lta_protection_details:
                    type: array
                    items:
                      type: object
                      properties:
                        lta_protection_type:
                          type: string
                          enum:
                            - primary
                            - enhanced
                            - fp12
                            - fp14
                            - ip14
                            - fp16
                            - ip16
                        lta_primary_protection_factor:
                          type: string
                          description: >-
                            Required only when the lta_protection_type is
                            primary
                        lta_individual_protection_amount:
                          type: string
                          description: >-
                            Required when the lta_protection_type is ip14 or
                            ip16.
                        lta_protection_notification_number:
                          type: string
                          description: >-
                            Required when the lta_protection_type is fp16 or
                            ip16.
                        lta_protection_scheme_administrator_reference:
                          type: string
                          description: >-
                            Required when the lta_protection_type is fp16 or
                            ip16.
                      required:
                        - lta_protection_type
                    example:
                      - lta_protection_type: primary
                        lta_primary_protection_factor: '20.00'
                      - lta_protection_type: fp14
                  expression_of_wish:
                    type: object
                    properties:
                      sipp_beneficiaries:
                        type: array
                        items:
                          type: object
                          properties:
                            title:
                              type: string
                            first_name:
                              type: string
                              maxLength: 100
                            last_name:
                              type: string
                              minLength: 2
                              maxLength: 100
                            address:
                              type: string
                            tax_id:
                              type: string
                            phone_number:
                              type: string
                            email:
                              type: string
                            percentage:
                              type: string
                          required:
                            - first_name
                            - last_name
                            - address
                            - percentage
                        example:
                          - title: Mr.
                            first_name: William
                            last_name: Smith
                            address: 13 Park Row,Edinburgh, United Kingdom
                            tax_id: AB123956P
                            phone_number: '+441332960321'
                            email: davidbrown@gmail.com
                            percentage: '75.00'
                          - title: Miss.
                            first_name: Jessica
                            last_name: Smith
                            address: 14 Park Row,Edinburgh, United Kingdom
                            tax_id: KL123956M
                            phone_number: '+441630960345'
                            email: jessicasmith@gmail.com
                            percentage: '25.00'
                      sipp_nominees:
                        type: array
                        items:
                          type: object
                          properties:
                            title:
                              type: string
                            first_name:
                              type: string
                              maxLength: 100
                            last_name:
                              type: string
                              minLength: 2
                              maxLength: 100
                            address:
                              type: string
                            tax_id:
                              type: string
                            phone_number:
                              type: string
                            email:
                              type: string
                            percentage:
                              type: string
                          required:
                            - first_name
                            - last_name
                            - address
                            - percentage
                        example:
                          - title: Mr.
                            first_name: James
                            last_name: Brown
                            address: 87 Colorado Way,Richmond, United Kingdom
                            tax_id: XY123956Z
                            phone_number: '+441630960322'
                            email: jamesbrown@gmail.com
                            percentage: '50.00'
                          - title: Mrs.
                            first_name: Emily
                            last_name: Brown
                            address: 4 Baldock Street, Newtown, United Kingdom
                            tax_id: SY123956P
                            phone_number: '+441615960345'
                            email: emilybrown@gmail.com
                            percentage: '50.00'
                  kyc_aml_status_last_updated:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
                  bank_accounts:
                    description: >-
                      Allow to create only one bank account when creating a new
                      investor.
                    type: array
                    items:
                      required:
                        - account_name
                        - investor_id
                        - default_account
                        - bank_account_number
                      properties:
                        bank_account_id:
                          type: string
                          readOnly: true
                          maxLength: 100
                          description: system generated id
                          example: ba-bc00c28f-b3fc-42b7
                        investor_id:
                          type: string
                          example: inv-XUT11265
                        account_name:
                          type: string
                          maxLength: 100
                          example: David Brown
                        bank_account_type:
                          type: string
                          enum:
                            - investor
                            - contributing_employer
                          example: contributing_employer
                        default_account:
                          type: string
                          enum:
                            - 'yes'
                            - 'no'
                          description: Only one account should be the default
                          example: 'yes'
                        bank_account_number:
                          type: string
                          minLength: 6
                          maxLength: 8
                          description: Unique for the investor
                          example: '****5678'
                        account_status:
                          type: string
                          enum:
                            - active
                            - inactive
                          description: If not populated, will be defaulted to inactive
                          example: active
                        sort_code:
                          type: string
                          minLength: 6
                          maxLength: 8
                          example: '****56'
                        building_society_roll_number:
                          type: string
                          minLength: 1
                          maxLength: 18
                          example: '******72'
                        status:
                          type: string
                          enum:
                            - failed
                            - success
                          example: failed
                        error_message:
                          type: string
                          description: If the bank account creation failed
                          example: >-
                            Only one bank account can be set as the default
                            account
                        reference_version:
                          type: integer
                          readOnly: true
                          example: 1
                        created_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-08T07:36:05.884Z'
                        updated_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-10T07:36:05.884Z'
                  reference_version:
                    type: integer
                    example: 1
                    readOnly: true
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: createInvestor
      summary: Create Investor
      description: Create a new investor in the system.
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/investors/v1 \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"title":"Mr.","gender":"male","first_name":"David","last_name":"Brown","email":"davidbrown@gmail.com","mobile_number":"+441234567890","home_number":"+441234587830","office_number":"+442072343456","nationality":"GBR","tax_id":"AB123456C","kyc_aml_status":"not_started","dealing_status":"inactive","id_numbers":[{"id_type":"passport","id_number":"2324839048381"}],"address":{"postal_code":"S2 2DF","address_line":"14","street_name":"Tottenham Court Road","city":"London","state":"England","country":"GBR"},"mifid_tax_id":"2382392274","tax_residency_compliant":true,"date_of_birth":"1990-12-20","retirement_age":60,"tax_residence":"GB-ENG","employment_status":"employed","mpaa_triggered":true,"mpaa_triggered_date":"2023-01-30","workplace_employers":["wem-AHY58878"],"lta_protection_details":[{"lta_protection_type":"primary","lta_primary_protection_factor":"20.00"},{"lta_protection_type":"fp14"}],"expression_of_wish":{"sipp_beneficiaries":[{"title":"Mr.","first_name":"William","last_name":"Smith","address":"13 Park Row,Edinburgh, United Kingdom","tax_id":"AB123956P","phone_number":"+441332960321","email":"davidbrown@gmail.com","percentage":"75.00"},{"title":"Miss.","first_name":"Jessica","last_name":"Smith","address":"14 Park Row,Edinburgh, United Kingdom","tax_id":"KL123956M","phone_number":"+441630960345","email":"jessicasmith@gmail.com","percentage":"25.00"}],"sipp_nominees":[{"title":"Mr.","first_name":"James","last_name":"Brown","address":"87 Colorado Way,Richmond, United Kingdom","tax_id":"XY123956Z","phone_number":"+441630960322","email":"jamesbrown@gmail.com","percentage":"50.00"},{"title":"Mrs.","first_name":"Emily","last_name":"Brown","address":"4 Baldock Street, Newtown, United Kingdom","tax_id":"SY123956P","phone_number":"+441615960345","email":"emilybrown@gmail.com","percentage":"50.00"}]},"bank_accounts":[{"account_name":"David Brown","default_account":"yes","bank_account_number":"12345678","account_status":"active","sort_code":"123456","building_society_roll_number":"12345672"}]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investors/v1",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              title: 'Mr.',
              gender: 'male',
              first_name: 'David',
              last_name: 'Brown',
              email: 'davidbrown@gmail.com',
              mobile_number: '+441234567890',
              home_number: '+441234587830',
              office_number: '+442072343456',
              nationality: 'GBR',
              tax_id: 'AB123456C',
              kyc_aml_status: 'not_started',
              dealing_status: 'inactive',
              id_numbers: [{id_type: 'passport', id_number: '2324839048381'}],
              address: {
                postal_code: 'S2 2DF',
                address_line: '14',
                street_name: 'Tottenham Court Road',
                city: 'London',
                state: 'England',
                country: 'GBR'
              },
              mifid_tax_id: '2382392274',
              tax_residency_compliant: true,
              date_of_birth: '1990-12-20',
              retirement_age: 60,
              tax_residence: 'GB-ENG',
              employment_status: 'employed',
              mpaa_triggered: true,
              mpaa_triggered_date: '2023-01-30',
              workplace_employers: ['wem-AHY58878'],
              lta_protection_details: [
                {lta_protection_type: 'primary', lta_primary_protection_factor: '20.00'},
                {lta_protection_type: 'fp14'}
              ],
              expression_of_wish: {
                sipp_beneficiaries: [
                  {
                    title: 'Mr.',
                    first_name: 'William',
                    last_name: 'Smith',
                    address: '13 Park Row,Edinburgh, United Kingdom',
                    tax_id: 'AB123956P',
                    phone_number: '+441332960321',
                    email: 'davidbrown@gmail.com',
                    percentage: '75.00'
                  },
                  {
                    title: 'Miss.',
                    first_name: 'Jessica',
                    last_name: 'Smith',
                    address: '14 Park Row,Edinburgh, United Kingdom',
                    tax_id: 'KL123956M',
                    phone_number: '+441630960345',
                    email: 'jessicasmith@gmail.com',
                    percentage: '25.00'
                  }
                ],
                sipp_nominees: [
                  {
                    title: 'Mr.',
                    first_name: 'James',
                    last_name: 'Brown',
                    address: '87 Colorado Way,Richmond, United Kingdom',
                    tax_id: 'XY123956Z',
                    phone_number: '+441630960322',
                    email: 'jamesbrown@gmail.com',
                    percentage: '50.00'
                  },
                  {
                    title: 'Mrs.',
                    first_name: 'Emily',
                    last_name: 'Brown',
                    address: '4 Baldock Street, Newtown, United Kingdom',
                    tax_id: 'SY123956P',
                    phone_number: '+441615960345',
                    email: 'emilybrown@gmail.com',
                    percentage: '50.00'
                  }
                ]
              },
              bank_accounts: [
                {
                  account_name: 'David Brown',
                  default_account: 'yes',
                  bank_account_number: '12345678',
                  account_status: 'active',
                  sort_code: '123456',
                  building_society_roll_number: '12345672'
                }
              ]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/investors/v1")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"title\":\"Mr.\",\"gender\":\"male\",\"first_name\":\"David\",\"last_name\":\"Brown\",\"email\":\"davidbrown@gmail.com\",\"mobile_number\":\"+441234567890\",\"home_number\":\"+441234587830\",\"office_number\":\"+442072343456\",\"nationality\":\"GBR\",\"tax_id\":\"AB123456C\",\"kyc_aml_status\":\"not_started\",\"dealing_status\":\"inactive\",\"id_numbers\":[{\"id_type\":\"passport\",\"id_number\":\"2324839048381\"}],\"address\":{\"postal_code\":\"S2
            2DF\",\"address_line\":\"14\",\"street_name\":\"Tottenham Court
            Road\",\"city\":\"London\",\"state\":\"England\",\"country\":\"GBR\"},\"mifid_tax_id\":\"2382392274\",\"tax_residency_compliant\":true,\"date_of_birth\":\"1990-12-20\",\"retirement_age\":60,\"tax_residence\":\"GB-ENG\",\"employment_status\":\"employed\",\"mpaa_triggered\":true,\"mpaa_triggered_date\":\"2023-01-30\",\"workplace_employers\":[\"wem-AHY58878\"],\"lta_protection_details\":[{\"lta_protection_type\":\"primary\",\"lta_primary_protection_factor\":\"20.00\"},{\"lta_protection_type\":\"fp14\"}],\"expression_of_wish\":{\"sipp_beneficiaries\":[{\"title\":\"Mr.\",\"first_name\":\"William\",\"last_name\":\"Smith\",\"address\":\"13
            Park Row,Edinburgh, United
            Kingdom\",\"tax_id\":\"AB123956P\",\"phone_number\":\"+441332960321\",\"email\":\"davidbrown@gmail.com\",\"percentage\":\"75.00\"},{\"title\":\"Miss.\",\"first_name\":\"Jessica\",\"last_name\":\"Smith\",\"address\":\"14
            Park Row,Edinburgh, United
            Kingdom\",\"tax_id\":\"KL123956M\",\"phone_number\":\"+441630960345\",\"email\":\"jessicasmith@gmail.com\",\"percentage\":\"25.00\"}],\"sipp_nominees\":[{\"title\":\"Mr.\",\"first_name\":\"James\",\"last_name\":\"Brown\",\"address\":\"87
            Colorado Way,Richmond, United
            Kingdom\",\"tax_id\":\"XY123956Z\",\"phone_number\":\"+441630960322\",\"email\":\"jamesbrown@gmail.com\",\"percentage\":\"50.00\"},{\"title\":\"Mrs.\",\"first_name\":\"Emily\",\"last_name\":\"Brown\",\"address\":\"4
            Baldock Street, Newtown, United
            Kingdom\",\"tax_id\":\"SY123956P\",\"phone_number\":\"+441615960345\",\"email\":\"emilybrown@gmail.com\",\"percentage\":\"50.00\"}]},\"bank_accounts\":[{\"account_name\":\"David
            Brown\",\"default_account\":\"yes\",\"bank_account_number\":\"12345678\",\"account_status\":\"active\",\"sort_code\":\"123456\",\"building_society_roll_number\":\"12345672\"}]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investors/v1\"\n\n\tpayload := strings.NewReader(\"{\\\"title\\\":\\\"Mr.\\\",\\\"gender\\\":\\\"male\\\",\\\"first_name\\\":\\\"David\\\",\\\"last_name\\\":\\\"Brown\\\",\\\"email\\\":\\\"davidbrown@gmail.com\\\",\\\"mobile_number\\\":\\\"+441234567890\\\",\\\"home_number\\\":\\\"+441234587830\\\",\\\"office_number\\\":\\\"+442072343456\\\",\\\"nationality\\\":\\\"GBR\\\",\\\"tax_id\\\":\\\"AB123456C\\\",\\\"kyc_aml_status\\\":\\\"not_started\\\",\\\"dealing_status\\\":\\\"inactive\\\",\\\"id_numbers\\\":[{\\\"id_type\\\":\\\"passport\\\",\\\"id_number\\\":\\\"2324839048381\\\"}],\\\"address\\\":{\\\"postal_code\\\":\\\"S2 2DF\\\",\\\"address_line\\\":\\\"14\\\",\\\"street_name\\\":\\\"Tottenham Court Road\\\",\\\"city\\\":\\\"London\\\",\\\"state\\\":\\\"England\\\",\\\"country\\\":\\\"GBR\\\"},\\\"mifid_tax_id\\\":\\\"2382392274\\\",\\\"tax_residency_compliant\\\":true,\\\"date_of_birth\\\":\\\"1990-12-20\\\",\\\"retirement_age\\\":60,\\\"tax_residence\\\":\\\"GB-ENG\\\",\\\"employment_status\\\":\\\"employed\\\",\\\"mpaa_triggered\\\":true,\\\"mpaa_triggered_date\\\":\\\"2023-01-30\\\",\\\"workplace_employers\\\":[\\\"wem-AHY58878\\\"],\\\"lta_protection_details\\\":[{\\\"lta_protection_type\\\":\\\"primary\\\",\\\"lta_primary_protection_factor\\\":\\\"20.00\\\"},{\\\"lta_protection_type\\\":\\\"fp14\\\"}],\\\"expression_of_wish\\\":{\\\"sipp_beneficiaries\\\":[{\\\"title\\\":\\\"Mr.\\\",\\\"first_name\\\":\\\"William\\\",\\\"last_name\\\":\\\"Smith\\\",\\\"address\\\":\\\"13 Park Row,Edinburgh, United Kingdom\\\",\\\"tax_id\\\":\\\"AB123956P\\\",\\\"phone_number\\\":\\\"+441332960321\\\",\\\"email\\\":\\\"davidbrown@gmail.com\\\",\\\"percentage\\\":\\\"75.00\\\"},{\\\"title\\\":\\\"Miss.\\\",\\\"first_name\\\":\\\"Jessica\\\",\\\"last_name\\\":\\\"Smith\\\",\\\"address\\\":\\\"14 Park Row,Edinburgh, United Kingdom\\\",\\\"tax_id\\\":\\\"KL123956M\\\",\\\"phone_number\\\":\\\"+441630960345\\\",\\\"email\\\":\\\"jessicasmith@gmail.com\\\",\\\"percentage\\\":\\\"25.00\\\"}],\\\"sipp_nominees\\\":[{\\\"title\\\":\\\"Mr.\\\",\\\"first_name\\\":\\\"James\\\",\\\"last_name\\\":\\\"Brown\\\",\\\"address\\\":\\\"87 Colorado Way,Richmond, United Kingdom\\\",\\\"tax_id\\\":\\\"XY123956Z\\\",\\\"phone_number\\\":\\\"+441630960322\\\",\\\"email\\\":\\\"jamesbrown@gmail.com\\\",\\\"percentage\\\":\\\"50.00\\\"},{\\\"title\\\":\\\"Mrs.\\\",\\\"first_name\\\":\\\"Emily\\\",\\\"last_name\\\":\\\"Brown\\\",\\\"address\\\":\\\"4 Baldock Street, Newtown, United Kingdom\\\",\\\"tax_id\\\":\\\"SY123956P\\\",\\\"phone_number\\\":\\\"+441615960345\\\",\\\"email\\\":\\\"emilybrown@gmail.com\\\",\\\"percentage\\\":\\\"50.00\\\"}]},\\\"bank_accounts\\\":[{\\\"account_name\\\":\\\"David Brown\\\",\\\"default_account\\\":\\\"yes\\\",\\\"bank_account_number\\\":\\\"12345678\\\",\\\"account_status\\\":\\\"active\\\",\\\"sort_code\\\":\\\"123456\\\",\\\"building_society_roll_number\\\":\\\"12345672\\\"}]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/investors/v1/{investor_id}:
    summary: Investor resource management
    get:
      tags:
        - Investors
      security:
        - ApiSecretKey: []
      responses:
        '200':
          content:
            application/json:
              schema:
                title: Root Type for Investor
                description: JSON for the Investor resource type
                required:
                  - investor_id
                  - first_name
                  - last_name
                  - nationality
                  - tax_id
                  - address
                  - tax_residency_compliant
                  - date_of_birth
                  - kyc_aml_status
                  - dealing_status
                  - kyc_aml_status_last_updated
                  - status
                  - reference_version
                  - created_at
                  - updated_at
                properties:
                  investor_id:
                    type: string
                    maxLength: 64
                    example: inv-XUT11265
                  title:
                    type: string
                    example: Mr.
                  gender:
                    type: string
                    example: male
                  first_name:
                    type: string
                    maxLength: 100
                    example: David
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                    example: Brown
                  status:
                    type: string
                    enum:
                      - kyc_pending
                      - kyc_failed
                      - inactive
                      - active
                    readOnly: true
                    example: kyc_pending
                  email:
                    type: string
                    maxLength: 100
                    example: davidbrown@gmail.com
                  mobile_number:
                    type: string
                    maxLength: 16
                    example: '+441234567890'
                  home_number:
                    type: string
                    maxLength: 16
                    example: '+441234587830'
                  office_number:
                    type: string
                    maxLength: 16
                    example: '+442072343456'
                  nationality:
                    type: string
                    description: 3 character country code inline with ISO 3166-1 alpha-3
                    minLength: 3
                    maxLength: 3
                    example: GBR
                  tax_id:
                    type: string
                    example: AB123456C
                  kyc_aml_status:
                    type: string
                    enum:
                      - submitted
                      - kyc_failed_error
                      - pending
                      - clear
                      - not_started
                    default: not_started
                    example: not_started
                  dealing_status:
                    type: string
                    enum:
                      - inactive
                      - active
                    default: inactive
                    example: inactive
                  id_numbers:
                    type: array
                    items:
                      type: object
                      properties:
                        id_type:
                          type: string
                        id_number:
                          type: string
                      required:
                        - id_type
                        - id_number
                    example:
                      - id_type: passport
                        id_number: '2324839048381'
                  address:
                    type: object
                    properties:
                      postal_code:
                        type: string
                        example: S2 2DF
                      address_line:
                        type: string
                        nullable: true
                        example: '14'
                      street_name:
                        type: string
                        nullable: true
                        example: Tottenham Court Road
                      city:
                        type: string
                        nullable: true
                        example: London
                      state:
                        type: string
                        nullable: true
                        example: England
                      country:
                        type: string
                        description: >-
                          3 character country code inline with ISO 3166-1
                          alpha-3
                        minLength: 3
                        maxLength: 3
                        example: GBR
                    required:
                      - postal_code
                      - country
                  mifid_tax_id:
                    type: string
                    example: '2382392274'
                  tax_residency_compliant:
                    type: boolean
                    example: true
                  date_of_birth:
                    type: string
                    format: date
                    description: YYYY-MM-DD
                    example: '1990-12-20'
                  kyc_aml_status_last_updated:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
                  bank_accounts:
                    type: array
                    description: Array of bank account IDs
                    items:
                      type: string
                      example: ba-bc00c28f-b3fc-42b7
                  retirement_age:
                    type: number
                    description: Intended retirement age of the investor
                    example: 60
                  tax_residence:
                    type: string
                    description: >-
                      Residence of the investor for tax purposes. (for example,
                      to claim relief at source) GB-ENG=England GB-NIR=Northern
                      Ireland GB-SCT=Scotland GB-WLS=Wales
                    enum:
                      - GB-ENG
                      - GB-NIR
                      - GB-SCT
                      - GB-WLS
                    example: GB-ENG
                  employment_status:
                    type: string
                    description: >-
                      Status of an investor best describes their personal
                      circumstances.
                    enum:
                      - employed
                      - self_employed
                      - pensioner
                      - child_under_16
                      - in_full_time_education
                      - unemployed
                      - caring_for_a_person_over_16
                      - caring_for_a_person_under_16
                      - other
                    example: employed
                  mpaa_triggered:
                    type: boolean
                    description: >-
                      Whether the investor has triggered the Money Purchase
                      Annual Allowance.
                    example: true
                  mpaa_triggered_date:
                    type: string
                    description: >-
                      Date of triggering the Money Purchase Annual Allowance. It
                      is required if mpaa_triggered is true.
                    format: date
                    example: '2023-01-30'
                  workplace_employers:
                    type: array
                    description: >-
                      Unique IDs of workplace employers who are contributing to
                      the workplace pension of the investor.
                    items:
                      type: string
                      example: wem-AHY58878
                  lta_protection_details:
                    type: array
                    description: >-
                      Additional details of the lifetime allowance protections
                      of the investor
                    items:
                      type: object
                      properties:
                        lta_protection_type:
                          type: string
                          enum:
                            - primary
                            - enhanced
                            - fp12
                            - fp14
                            - ip14
                            - fp16
                            - ip16
                        lta_primary_protection_factor:
                          type: string
                          description: >-
                            Required only when the lta_protection_type is
                            primary
                        lta_individual_protection_amount:
                          type: string
                          description: >-
                            Required when the lta_protection_type is ip14 or
                            ip16.
                        lta_protection_notification_number:
                          type: string
                          description: >-
                            Required when the lta_protection_type is fp16 or
                            ip16.
                        lta_protection_scheme_administrator_reference:
                          type: string
                          description: >-
                            Required when the lta_protection_type is fp16 or
                            ip16.
                      required:
                        - lta_protection_type
                    example:
                      - lta_protection_type: primary
                        lta_primary_protection_factor: '20.00'
                      - lta_protection_type: fp14
                  expression_of_wish:
                    type: object
                    description: Beneficiary and nominee list of the expression of wish.
                    properties:
                      sipp_beneficiaries:
                        type: array
                        items:
                          type: object
                          properties:
                            title:
                              type: string
                            first_name:
                              type: string
                              maxLength: 100
                            last_name:
                              type: string
                              minLength: 2
                              maxLength: 100
                            address:
                              type: string
                            tax_id:
                              type: string
                            phone_number:
                              type: string
                            email:
                              type: string
                            percentage:
                              type: string
                          required:
                            - first_name
                            - last_name
                            - address
                            - percentage
                        example:
                          - title: Mr.
                            first_name: William
                            last_name: Smith
                            address: 13 Park Row,Edinburgh, United Kingdom
                            tax_id: AB123956P
                            phone_number: '+441332960321'
                            email: davidbrown@gmail.com
                            percentage: '75.00'
                          - title: Miss.
                            first_name: Jessica
                            last_name: Smith
                            address: 14 Park Row,Edinburgh, United Kingdom
                            tax_id: KL123956M
                            phone_number: '+441630960345'
                            email: jessicasmith@gmail.com
                            percentage: '25.00'
                      sipp_nominees:
                        type: array
                        items:
                          type: object
                          properties:
                            title:
                              type: string
                            first_name:
                              type: string
                              maxLength: 100
                            last_name:
                              type: string
                              minLength: 2
                              maxLength: 100
                            address:
                              type: string
                            tax_id:
                              type: string
                            phone_number:
                              type: string
                            email:
                              type: string
                            percentage:
                              type: string
                          required:
                            - first_name
                            - last_name
                            - address
                            - percentage
                        example:
                          - title: Mr.
                            first_name: James
                            last_name: Brown
                            address: 87 Colorado Way,Richmond, United Kingdom
                            tax_id: XY123956Z
                            phone_number: '+441630960322'
                            email: jamesbrown@gmail.com
                            percentage: '50.00'
                          - title: Mrs.
                            first_name: Emily
                            last_name: Brown
                            address: 4 Baldock Street, Newtown, United Kingdom
                            tax_id: SY123956P
                            phone_number: '+441615960345'
                            email: emilybrown@gmail.com
                            percentage: '50.00'
                  reference_version:
                    type: integer
                    example: 1
                    readOnly: true
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
          description: success
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: getInvestor
      summary: Get Investor
      description: Get details of an investor
      parameters:
        - in: path
          name: investor_id
          schema:
            type: string
          required: true
          description: Investor Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investors/v1/%7Binvestor_id%7D",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    patch:
      tags:
        - Investors
      requestBody:
        content:
          application/json:
            schema:
              title: Update Request Body for Investor
              description: JSON for the Update Investor resource type
              required:
                - reference_version
              properties:
                title:
                  type: string
                  nullable: true
                  example: Mr.
                gender:
                  type: string
                  nullable: true
                  example: male
                first_name:
                  type: string
                  maxLength: 100
                  example: David
                last_name:
                  type: string
                  minLength: 2
                  maxLength: 100
                  example: Brown
                status:
                  type: string
                  enum:
                    - kyc_pending
                    - kyc_failed
                    - inactive
                    - active
                  readOnly: true
                  example: kyc_pending
                email:
                  type: string
                  nullable: true
                  maxLength: 100
                  example: davidbrown@gmail.com
                mobile_number:
                  type: string
                  nullable: true
                  maxLength: 16
                  example: '+441234567890'
                home_number:
                  type: string
                  maxLength: 16
                  nullable: true
                  example: '+441234587830'
                office_number:
                  type: string
                  maxLength: 16
                  nullable: true
                  example: '+442072343456'
                nationality:
                  type: string
                  description: 3 character country code inline with ISO 3166-1 alpha-3
                  minLength: 3
                  maxLength: 3
                  example: GBR
                tax_id:
                  type: string
                  example: AB123456C
                kyc_aml_status:
                  type: string
                  enum:
                    - submitted
                    - kyc_failed_error
                    - pending
                    - clear
                    - not_started
                  example: not_started
                dealing_status:
                  type: string
                  enum:
                    - inactive
                    - active
                  example: inactive
                id_numbers:
                  type: array
                  nullable: true
                  description: Replaces the array in the server.
                  items:
                    type: object
                    properties:
                      id_type:
                        type: string
                      id_number:
                        type: string
                  example:
                    - id_type: passport
                      id_number: '2324839048381'
                address:
                  type: object
                  properties:
                    postal_code:
                      type: string
                      example: S2 2DF
                    address_line:
                      type: string
                      nullable: true
                      example: '14'
                    street_name:
                      type: string
                      nullable: true
                      example: Tottenham Court Road
                    city:
                      type: string
                      nullable: true
                      example: London
                    state:
                      type: string
                      nullable: true
                      example: England
                    country:
                      type: string
                      description: 3 character country code inline with ISO 3166-1 alpha-3
                      minLength: 3
                      maxLength: 3
                      example: GBR
                mifid_tax_id:
                  type: string
                  nullable: true
                  example: '2382392274'
                tax_residency_compliant:
                  type: boolean
                  example: true
                date_of_birth:
                  type: string
                  format: date
                  description: YYYY-MM-DD
                  example: '1990-12-20'
                retirement_age:
                  type: number
                  description: Intended retirement age of the investor.
                  nullable: true
                  example: 60
                tax_residence:
                  type: string
                  description: >-
                    Residence of the investor for tax purposes. (for example, to
                    claim relief at source) GB-ENG=England GB-NIR=Northern
                    Ireland GB-SCT=Scotland GB-WLS=Wales
                  nullable: true
                  enum:
                    - GB-ENG
                    - GB-NIR
                    - GB-SCT
                    - GB-WLS
                  example: GB-ENG
                employment_status:
                  type: string
                  description: >-
                    Status of an investor best describes their personal
                    circumstances.
                  enum:
                    - employed
                    - self_employed
                    - pensioner
                    - child_under_16
                    - in_full_time_education
                    - unemployed
                    - caring_for_a_person_over_16
                    - caring_for_a_person_under_16
                    - other
                  example: employed
                mpaa_triggered:
                  type: boolean
                  nullable: true
                  description: >-
                    Whether the investor has triggered the Money Purchase Annual
                    Allowance.
                  example: true
                mpaa_triggered_date:
                  type: string
                  nullable: true
                  description: >-
                    Date of triggering the Money Purchase Annual Allowance. This
                    is only required if mpaa_triggered is true.
                  format: date
                  example: '2023-01-30'
                workplace_employers:
                  type: array
                  nullable: true
                  description: >-
                    Unique IDs of workplace employers who are contributing to
                    the workplace pensions. The incoming list of employers will
                    replace the existing list of employers.
                  items:
                    type: string
                    example: wem-AHY58878
                lta_protection_details:
                  type: array
                  nullable: true
                  description: >-
                    Additional details of the lifetime allowance protections of
                    the investor.
                  items:
                    type: object
                    properties:
                      lta_protection_type:
                        type: string
                        description: >-
                          primary=Primary protection, enhanced=Enhanced
                          protection, fp12=Fixed protection 2012, fp14=Fixed
                          protection 2014, fp16=Fixed protection 2016,
                          ip14=Individual protection 2014, ip16=Individual
                          protection 2016
                        enum:
                          - primary
                          - enhanced
                          - fp12
                          - fp14
                          - ip14
                          - fp16
                          - ip16
                      lta_primary_protection_factor:
                        type: string
                        description: >-
                          Primary protection factor of the investor. Required
                          only when the lta_protection_type is primary.
                      lta_individual_protection_amount:
                        type: string
                        description: >-
                          Protected lifetime allowance of the investor. Required
                          when the lta_protection_type is ip14 or ip16.
                      lta_protection_notification_number:
                        type: string
                        description: >-
                          Protection notification number issued by HMRC.
                          Required for protection from 2016 onwards. Required
                          when the lta_protection_type is fp16 or ip16.
                      lta_protection_scheme_administrator_reference:
                        type: string
                        description: >-
                          Scheme administrator reference issued by HMRC.
                          Required for protection from 2016 onwards. Required
                          when the lta_protection_type is fp16 or ip16.
                    required:
                      - lta_protection_type
                  example:
                    - lta_protection_type: primary
                      lta_primary_protection_factor: '20.00'
                    - lta_protection_type: fp14
                expression_of_wish:
                  type: object
                  nullable: true
                  description: Beneficiary and nominee list of the expression of wish.
                  properties:
                    sipp_beneficiaries:
                      type: array
                      nullable: true
                      description: Beneficiaries list of the expression of wish
                      items:
                        type: object
                        properties:
                          title:
                            type: string
                          first_name:
                            type: string
                            maxLength: 100
                          last_name:
                            type: string
                            minLength: 2
                            maxLength: 100
                          address:
                            type: string
                          tax_id:
                            type: string
                          phone_number:
                            type: string
                          email:
                            type: string
                          percentage:
                            type: string
                            description: >-
                              Percentage of assets that will be allocated to the
                              beneficiary
                        required:
                          - first_name
                          - last_name
                          - address
                          - percentage
                      example:
                        - title: Mr.
                          first_name: William
                          last_name: Smith
                          address: 13 Park Row,Edinburgh, United Kingdom
                          tax_id: AB123956P
                          phone_number: '+441332960321'
                          email: davidbrown@gmail.com
                          percentage: '75.00'
                        - title: Miss.
                          first_name: Jessica
                          last_name: Smith
                          address: 14 Park Row,Edinburgh, United Kingdom
                          tax_id: KL123956M
                          phone_number: '+441630960345'
                          email: jessicasmith@gmail.com
                          percentage: '25.00'
                    sipp_nominees:
                      type: array
                      nullable: true
                      description: Nominees list of the expression of wish
                      items:
                        type: object
                        properties:
                          title:
                            type: string
                          first_name:
                            type: string
                            maxLength: 100
                          last_name:
                            type: string
                            minLength: 2
                            maxLength: 100
                          address:
                            type: string
                          tax_id:
                            type: string
                          phone_number:
                            type: string
                          email:
                            type: string
                          percentage:
                            type: string
                            description: >-
                              Percentage of assets that will be allocated to the
                              nominee
                        required:
                          - first_name
                          - last_name
                          - address
                          - percentage
                      example:
                        - title: Mr.
                          first_name: James
                          last_name: Brown
                          address: 87 Colorado Way,Richmond, United Kingdom
                          tax_id: XY123956Z
                          phone_number: '+441630960322'
                          email: jamesbrown@gmail.com
                          percentage: '50.00'
                        - title: Mrs.
                          first_name: Emily
                          last_name: Brown
                          address: 4 Baldock Street, Newtown, United Kingdom
                          tax_id: SY123956P
                          phone_number: '+441615960345'
                          email: emilybrown@gmail.com
                          percentage: '50.00'
                kyc_aml_status_last_updated:
                  type: string
                  format: date-time
                  readOnly: true
                  example: '2020-08-12T07:36:05.884Z'
                reference_version:
                  type: integer
                  example: 1
                created_at:
                  type: string
                  format: date-time
                  readOnly: true
                  example: '2020-08-12T07:36:05.884Z'
                updated_at:
                  type: string
                  format: date-time
                  readOnly: true
                  example: '2020-07-10T07:36:05.884Z'
                deleted_at:
                  type: string
                  format: date-time
                  readOnly: true
                  example: null
        required: true
      security:
        - ApiSecretKey: []
      responses:
        '200':
          content:
            application/json:
              schema:
                title: Root Type for Investor
                description: JSON for the Investor resource type
                required:
                  - investor_id
                  - first_name
                  - last_name
                  - nationality
                  - tax_id
                  - address
                  - tax_residency_compliant
                  - date_of_birth
                  - kyc_aml_status
                  - dealing_status
                  - kyc_aml_status_last_updated
                  - status
                  - reference_version
                  - created_at
                  - updated_at
                properties:
                  investor_id:
                    type: string
                    maxLength: 64
                    example: inv-XUT11265
                  title:
                    type: string
                    example: Mr.
                  gender:
                    type: string
                    example: male
                  first_name:
                    type: string
                    maxLength: 100
                    example: David
                  last_name:
                    type: string
                    minLength: 2
                    maxLength: 100
                    example: Brown
                  status:
                    type: string
                    enum:
                      - kyc_pending
                      - kyc_failed
                      - inactive
                      - active
                    readOnly: true
                    example: kyc_pending
                  email:
                    type: string
                    maxLength: 100
                    example: davidbrown@gmail.com
                  mobile_number:
                    type: string
                    maxLength: 16
                    example: '+441234567890'
                  home_number:
                    type: string
                    maxLength: 16
                    example: '+441234587830'
                  office_number:
                    type: string
                    maxLength: 16
                    example: '+442072343456'
                  nationality:
                    type: string
                    description: 3 character country code inline with ISO 3166-1 alpha-3
                    minLength: 3
                    maxLength: 3
                    example: GBR
                  tax_id:
                    type: string
                    example: AB123456C
                  kyc_aml_status:
                    type: string
                    enum:
                      - submitted
                      - kyc_failed_error
                      - pending
                      - clear
                      - not_started
                    default: not_started
                    example: not_started
                  dealing_status:
                    type: string
                    enum:
                      - inactive
                      - active
                    default: inactive
                    example: inactive
                  id_numbers:
                    type: array
                    items:
                      type: object
                      properties:
                        id_type:
                          type: string
                        id_number:
                          type: string
                      required:
                        - id_type
                        - id_number
                    example:
                      - id_type: passport
                        id_number: '2324839048381'
                  address:
                    type: object
                    properties:
                      postal_code:
                        type: string
                        example: S2 2DF
                      address_line:
                        type: string
                        nullable: true
                        example: '14'
                      street_name:
                        type: string
                        nullable: true
                        example: Tottenham Court Road
                      city:
                        type: string
                        nullable: true
                        example: London
                      state:
                        type: string
                        nullable: true
                        example: England
                      country:
                        type: string
                        description: >-
                          3 character country code inline with ISO 3166-1
                          alpha-3
                        minLength: 3
                        maxLength: 3
                        example: GBR
                    required:
                      - postal_code
                      - country
                  mifid_tax_id:
                    type: string
                    example: '2382392274'
                  tax_residency_compliant:
                    type: boolean
                    example: true
                  date_of_birth:
                    type: string
                    format: date
                    description: YYYY-MM-DD
                    example: '1990-12-20'
                  kyc_aml_status_last_updated:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
                  bank_accounts:
                    type: array
                    description: Array of bank account IDs
                    items:
                      type: string
                      example: ba-bc00c28f-b3fc-42b7
                  retirement_age:
                    type: number
                    description: Intended retirement age of the investor
                    example: 60
                  tax_residence:
                    type: string
                    description: >-
                      Residence of the investor for tax purposes. (for example,
                      to claim relief at source) GB-ENG=England GB-NIR=Northern
                      Ireland GB-SCT=Scotland GB-WLS=Wales
                    enum:
                      - GB-ENG
                      - GB-NIR
                      - GB-SCT
                      - GB-WLS
                    example: GB-ENG
                  employment_status:
                    type: string
                    description: >-
                      Status of an investor best describes their personal
                      circumstances.
                    enum:
                      - employed
                      - self_employed
                      - pensioner
                      - child_under_16
                      - in_full_time_education
                      - unemployed
                      - caring_for_a_person_over_16
                      - caring_for_a_person_under_16
                      - other
                    example: employed
                  mpaa_triggered:
                    type: boolean
                    description: >-
                      Whether the investor has triggered the Money Purchase
                      Annual Allowance.
                    example: true
                  mpaa_triggered_date:
                    type: string
                    description: >-
                      Date of triggering the Money Purchase Annual Allowance. It
                      is required if mpaa_triggered is true.
                    format: date
                    example: '2023-01-30'
                  workplace_employers:
                    type: array
                    description: >-
                      Unique IDs of workplace employers who are contributing to
                      the workplace pension of the investor.
                    items:
                      type: string
                      example: wem-AHY58878
                  lta_protection_details:
                    type: array
                    description: >-
                      Additional details of the lifetime allowance protections
                      of the investor
                    items:
                      type: object
                      properties:
                        lta_protection_type:
                          type: string
                          enum:
                            - primary
                            - enhanced
                            - fp12
                            - fp14
                            - ip14
                            - fp16
                            - ip16
                        lta_primary_protection_factor:
                          type: string
                          description: >-
                            Required only when the lta_protection_type is
                            primary
                        lta_individual_protection_amount:
                          type: string
                          description: >-
                            Required when the lta_protection_type is ip14 or
                            ip16.
                        lta_protection_notification_number:
                          type: string
                          description: >-
                            Required when the lta_protection_type is fp16 or
                            ip16.
                        lta_protection_scheme_administrator_reference:
                          type: string
                          description: >-
                            Required when the lta_protection_type is fp16 or
                            ip16.
                      required:
                        - lta_protection_type
                    example:
                      - lta_protection_type: primary
                        lta_primary_protection_factor: '20.00'
                      - lta_protection_type: fp14
                  expression_of_wish:
                    type: object
                    description: Beneficiary and nominee list of the expression of wish.
                    properties:
                      sipp_beneficiaries:
                        type: array
                        items:
                          type: object
                          properties:
                            title:
                              type: string
                            first_name:
                              type: string
                              maxLength: 100
                            last_name:
                              type: string
                              minLength: 2
                              maxLength: 100
                            address:
                              type: string
                            tax_id:
                              type: string
                            phone_number:
                              type: string
                            email:
                              type: string
                            percentage:
                              type: string
                          required:
                            - first_name
                            - last_name
                            - address
                            - percentage
                        example:
                          - title: Mr.
                            first_name: William
                            last_name: Smith
                            address: 13 Park Row,Edinburgh, United Kingdom
                            tax_id: AB123956P
                            phone_number: '+441332960321'
                            email: davidbrown@gmail.com
                            percentage: '75.00'
                          - title: Miss.
                            first_name: Jessica
                            last_name: Smith
                            address: 14 Park Row,Edinburgh, United Kingdom
                            tax_id: KL123956M
                            phone_number: '+441630960345'
                            email: jessicasmith@gmail.com
                            percentage: '25.00'
                      sipp_nominees:
                        type: array
                        items:
                          type: object
                          properties:
                            title:
                              type: string
                            first_name:
                              type: string
                              maxLength: 100
                            last_name:
                              type: string
                              minLength: 2
                              maxLength: 100
                            address:
                              type: string
                            tax_id:
                              type: string
                            phone_number:
                              type: string
                            email:
                              type: string
                            percentage:
                              type: string
                          required:
                            - first_name
                            - last_name
                            - address
                            - percentage
                        example:
                          - title: Mr.
                            first_name: James
                            last_name: Brown
                            address: 87 Colorado Way,Richmond, United Kingdom
                            tax_id: XY123956Z
                            phone_number: '+441630960322'
                            email: jamesbrown@gmail.com
                            percentage: '50.00'
                          - title: Mrs.
                            first_name: Emily
                            last_name: Brown
                            address: 4 Baldock Street, Newtown, United Kingdom
                            tax_id: SY123956P
                            phone_number: '+441615960345'
                            email: emilybrown@gmail.com
                            percentage: '50.00'
                  reference_version:
                    type: integer
                    example: 1
                    readOnly: true
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
          description: success
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: updateInvestor
      summary: Update Investor
      description: >-
        Update an existing investor. The system will update only the fields sent
        in the request. Field mentioned as Nullable can be deleted by updating
        those values with null. Sending empty values for fields will not update
        the fields.
      parameters:
        - in: path
          name: investor_id
          schema:
            type: string
          required: true
          description: Investor Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request PATCH \
              --url https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"title":"Mr.","gender":"male","first_name":"David","last_name":"Brown","email":"davidbrown@gmail.com","mobile_number":"+441234567890","home_number":"+441234587830","office_number":"+442072343456","nationality":"GBR","tax_id":"AB123456C","kyc_aml_status":"not_started","dealing_status":"inactive","id_numbers":[{"id_type":"passport","id_number":"2324839048381"}],"address":{"postal_code":"S2 2DF","address_line":"14","street_name":"Tottenham Court Road","city":"London","state":"England","country":"GBR"},"mifid_tax_id":"2382392274","tax_residency_compliant":true,"date_of_birth":"1990-12-20","retirement_age":60,"tax_residence":"GB-ENG","employment_status":"employed","mpaa_triggered":true,"mpaa_triggered_date":"2023-01-30","workplace_employers":["wem-AHY58878"],"lta_protection_details":[{"lta_protection_type":"primary","lta_primary_protection_factor":"20.00"},{"lta_protection_type":"fp14"}],"expression_of_wish":{"sipp_beneficiaries":[{"title":"Mr.","first_name":"William","last_name":"Smith","address":"13 Park Row,Edinburgh, United Kingdom","tax_id":"AB123956P","phone_number":"+441332960321","email":"davidbrown@gmail.com","percentage":"75.00"},{"title":"Miss.","first_name":"Jessica","last_name":"Smith","address":"14 Park Row,Edinburgh, United Kingdom","tax_id":"KL123956M","phone_number":"+441630960345","email":"jessicasmith@gmail.com","percentage":"25.00"}],"sipp_nominees":[{"title":"Mr.","first_name":"James","last_name":"Brown","address":"87 Colorado Way,Richmond, United Kingdom","tax_id":"XY123956Z","phone_number":"+441630960322","email":"jamesbrown@gmail.com","percentage":"50.00"},{"title":"Mrs.","first_name":"Emily","last_name":"Brown","address":"4 Baldock Street, Newtown, United Kingdom","tax_id":"SY123956P","phone_number":"+441615960345","email":"emilybrown@gmail.com","percentage":"50.00"}]},"reference_version":1}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "PATCH",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investors/v1/%7Binvestor_id%7D",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              title: 'Mr.',
              gender: 'male',
              first_name: 'David',
              last_name: 'Brown',
              email: 'davidbrown@gmail.com',
              mobile_number: '+441234567890',
              home_number: '+441234587830',
              office_number: '+442072343456',
              nationality: 'GBR',
              tax_id: 'AB123456C',
              kyc_aml_status: 'not_started',
              dealing_status: 'inactive',
              id_numbers: [{id_type: 'passport', id_number: '2324839048381'}],
              address: {
                postal_code: 'S2 2DF',
                address_line: '14',
                street_name: 'Tottenham Court Road',
                city: 'London',
                state: 'England',
                country: 'GBR'
              },
              mifid_tax_id: '2382392274',
              tax_residency_compliant: true,
              date_of_birth: '1990-12-20',
              retirement_age: 60,
              tax_residence: 'GB-ENG',
              employment_status: 'employed',
              mpaa_triggered: true,
              mpaa_triggered_date: '2023-01-30',
              workplace_employers: ['wem-AHY58878'],
              lta_protection_details: [
                {lta_protection_type: 'primary', lta_primary_protection_factor: '20.00'},
                {lta_protection_type: 'fp14'}
              ],
              expression_of_wish: {
                sipp_beneficiaries: [
                  {
                    title: 'Mr.',
                    first_name: 'William',
                    last_name: 'Smith',
                    address: '13 Park Row,Edinburgh, United Kingdom',
                    tax_id: 'AB123956P',
                    phone_number: '+441332960321',
                    email: 'davidbrown@gmail.com',
                    percentage: '75.00'
                  },
                  {
                    title: 'Miss.',
                    first_name: 'Jessica',
                    last_name: 'Smith',
                    address: '14 Park Row,Edinburgh, United Kingdom',
                    tax_id: 'KL123956M',
                    phone_number: '+441630960345',
                    email: 'jessicasmith@gmail.com',
                    percentage: '25.00'
                  }
                ],
                sipp_nominees: [
                  {
                    title: 'Mr.',
                    first_name: 'James',
                    last_name: 'Brown',
                    address: '87 Colorado Way,Richmond, United Kingdom',
                    tax_id: 'XY123956Z',
                    phone_number: '+441630960322',
                    email: 'jamesbrown@gmail.com',
                    percentage: '50.00'
                  },
                  {
                    title: 'Mrs.',
                    first_name: 'Emily',
                    last_name: 'Brown',
                    address: '4 Baldock Street, Newtown, United Kingdom',
                    tax_id: 'SY123956P',
                    phone_number: '+441615960345',
                    email: 'emilybrown@gmail.com',
                    percentage: '50.00'
                  }
                ]
              },
              reference_version: 1
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Patch.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"title\":\"Mr.\",\"gender\":\"male\",\"first_name\":\"David\",\"last_name\":\"Brown\",\"email\":\"davidbrown@gmail.com\",\"mobile_number\":\"+441234567890\",\"home_number\":\"+441234587830\",\"office_number\":\"+442072343456\",\"nationality\":\"GBR\",\"tax_id\":\"AB123456C\",\"kyc_aml_status\":\"not_started\",\"dealing_status\":\"inactive\",\"id_numbers\":[{\"id_type\":\"passport\",\"id_number\":\"2324839048381\"}],\"address\":{\"postal_code\":\"S2
            2DF\",\"address_line\":\"14\",\"street_name\":\"Tottenham Court
            Road\",\"city\":\"London\",\"state\":\"England\",\"country\":\"GBR\"},\"mifid_tax_id\":\"2382392274\",\"tax_residency_compliant\":true,\"date_of_birth\":\"1990-12-20\",\"retirement_age\":60,\"tax_residence\":\"GB-ENG\",\"employment_status\":\"employed\",\"mpaa_triggered\":true,\"mpaa_triggered_date\":\"2023-01-30\",\"workplace_employers\":[\"wem-AHY58878\"],\"lta_protection_details\":[{\"lta_protection_type\":\"primary\",\"lta_primary_protection_factor\":\"20.00\"},{\"lta_protection_type\":\"fp14\"}],\"expression_of_wish\":{\"sipp_beneficiaries\":[{\"title\":\"Mr.\",\"first_name\":\"William\",\"last_name\":\"Smith\",\"address\":\"13
            Park Row,Edinburgh, United
            Kingdom\",\"tax_id\":\"AB123956P\",\"phone_number\":\"+441332960321\",\"email\":\"davidbrown@gmail.com\",\"percentage\":\"75.00\"},{\"title\":\"Miss.\",\"first_name\":\"Jessica\",\"last_name\":\"Smith\",\"address\":\"14
            Park Row,Edinburgh, United
            Kingdom\",\"tax_id\":\"KL123956M\",\"phone_number\":\"+441630960345\",\"email\":\"jessicasmith@gmail.com\",\"percentage\":\"25.00\"}],\"sipp_nominees\":[{\"title\":\"Mr.\",\"first_name\":\"James\",\"last_name\":\"Brown\",\"address\":\"87
            Colorado Way,Richmond, United
            Kingdom\",\"tax_id\":\"XY123956Z\",\"phone_number\":\"+441630960322\",\"email\":\"jamesbrown@gmail.com\",\"percentage\":\"50.00\"},{\"title\":\"Mrs.\",\"first_name\":\"Emily\",\"last_name\":\"Brown\",\"address\":\"4
            Baldock Street, Newtown, United
            Kingdom\",\"tax_id\":\"SY123956P\",\"phone_number\":\"+441615960345\",\"email\":\"emilybrown@gmail.com\",\"percentage\":\"50.00\"}]},\"reference_version\":1}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D\"\n\n\tpayload := strings.NewReader(\"{\\\"title\\\":\\\"Mr.\\\",\\\"gender\\\":\\\"male\\\",\\\"first_name\\\":\\\"David\\\",\\\"last_name\\\":\\\"Brown\\\",\\\"email\\\":\\\"davidbrown@gmail.com\\\",\\\"mobile_number\\\":\\\"+441234567890\\\",\\\"home_number\\\":\\\"+441234587830\\\",\\\"office_number\\\":\\\"+442072343456\\\",\\\"nationality\\\":\\\"GBR\\\",\\\"tax_id\\\":\\\"AB123456C\\\",\\\"kyc_aml_status\\\":\\\"not_started\\\",\\\"dealing_status\\\":\\\"inactive\\\",\\\"id_numbers\\\":[{\\\"id_type\\\":\\\"passport\\\",\\\"id_number\\\":\\\"2324839048381\\\"}],\\\"address\\\":{\\\"postal_code\\\":\\\"S2 2DF\\\",\\\"address_line\\\":\\\"14\\\",\\\"street_name\\\":\\\"Tottenham Court Road\\\",\\\"city\\\":\\\"London\\\",\\\"state\\\":\\\"England\\\",\\\"country\\\":\\\"GBR\\\"},\\\"mifid_tax_id\\\":\\\"2382392274\\\",\\\"tax_residency_compliant\\\":true,\\\"date_of_birth\\\":\\\"1990-12-20\\\",\\\"retirement_age\\\":60,\\\"tax_residence\\\":\\\"GB-ENG\\\",\\\"employment_status\\\":\\\"employed\\\",\\\"mpaa_triggered\\\":true,\\\"mpaa_triggered_date\\\":\\\"2023-01-30\\\",\\\"workplace_employers\\\":[\\\"wem-AHY58878\\\"],\\\"lta_protection_details\\\":[{\\\"lta_protection_type\\\":\\\"primary\\\",\\\"lta_primary_protection_factor\\\":\\\"20.00\\\"},{\\\"lta_protection_type\\\":\\\"fp14\\\"}],\\\"expression_of_wish\\\":{\\\"sipp_beneficiaries\\\":[{\\\"title\\\":\\\"Mr.\\\",\\\"first_name\\\":\\\"William\\\",\\\"last_name\\\":\\\"Smith\\\",\\\"address\\\":\\\"13 Park Row,Edinburgh, United Kingdom\\\",\\\"tax_id\\\":\\\"AB123956P\\\",\\\"phone_number\\\":\\\"+441332960321\\\",\\\"email\\\":\\\"davidbrown@gmail.com\\\",\\\"percentage\\\":\\\"75.00\\\"},{\\\"title\\\":\\\"Miss.\\\",\\\"first_name\\\":\\\"Jessica\\\",\\\"last_name\\\":\\\"Smith\\\",\\\"address\\\":\\\"14 Park Row,Edinburgh, United Kingdom\\\",\\\"tax_id\\\":\\\"KL123956M\\\",\\\"phone_number\\\":\\\"+441630960345\\\",\\\"email\\\":\\\"jessicasmith@gmail.com\\\",\\\"percentage\\\":\\\"25.00\\\"}],\\\"sipp_nominees\\\":[{\\\"title\\\":\\\"Mr.\\\",\\\"first_name\\\":\\\"James\\\",\\\"last_name\\\":\\\"Brown\\\",\\\"address\\\":\\\"87 Colorado Way,Richmond, United Kingdom\\\",\\\"tax_id\\\":\\\"XY123956Z\\\",\\\"phone_number\\\":\\\"+441630960322\\\",\\\"email\\\":\\\"jamesbrown@gmail.com\\\",\\\"percentage\\\":\\\"50.00\\\"},{\\\"title\\\":\\\"Mrs.\\\",\\\"first_name\\\":\\\"Emily\\\",\\\"last_name\\\":\\\"Brown\\\",\\\"address\\\":\\\"4 Baldock Street, Newtown, United Kingdom\\\",\\\"tax_id\\\":\\\"SY123956P\\\",\\\"phone_number\\\":\\\"+441615960345\\\",\\\"email\\\":\\\"emilybrown@gmail.com\\\",\\\"percentage\\\":\\\"50.00\\\"}]},\\\"reference_version\\\":1}\")\n\n\treq, _ := http.NewRequest(\"PATCH\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/financial-products/v1:
    get:
      tags:
        - Financial Products
      responses:
        '200':
          content:
            application/json:
              schema:
                required:
                  - financial_products
                type: object
                properties:
                  financial_products:
                    type: array
                    items:
                      title: Root Type for Financial Products
                      description: ''
                      required:
                        - product_type
                        - financial_product_id
                        - name
                        - created_at
                        - updated_at
                      type: object
                      properties:
                        financial_product_id:
                          type: string
                        name:
                          type: string
                          maxLength: 50
                        availability:
                          type: array
                          items:
                            type: string
                        additional_cash_currencies:
                          type: array
                          items:
                            type: string
                        dividend_options:
                          type: array
                          items:
                            type: string
                        investment_preferences:
                          type: object
                          required:
                            - minimum_one_off_investment
                          properties:
                            minimum_one_off_investment:
                              type: string
                            regular_investment_frequencies:
                              type: array
                              items:
                                type: string
                            lisa_bonus_percentage:
                              description: >-
                                The government-provided incentive rate applied
                                to eligible contributions in a LISA. Can contain
                                up to 2 decimal points. Applicable for LISA
                                financial products.
                              type: integer
                        withdrawal_preferences:
                          type: object
                          required:
                            - minimum_one_off_withdrawal
                          properties:
                            minimum_one_off_withdrawal:
                              type: string
                            minimum_regular_monthly_withdrawal:
                              type: string
                            regular_withdrawal_frequencies:
                              type: array
                              items:
                                type: string
                            regular_withdrawal_payment_dates:
                              type: array
                              items:
                                type: string
                                nullable: true
                            withdrawal_notice_period:
                              description: >-
                                Specified number of days during which a
                                withdrawal request remains pending, and at the
                                end of this period, the withdrawal will be
                                triggered. Applicable for LISA financial
                                products.
                              type: string
                            withdrawal_charge_percentage:
                              description: >-
                                The government-imposed penalty percentage for
                                unauthorized withdrawals executed by an investor
                                from a LISA account. Can contain up to 2 decimal
                                points. Applicable for LISA financial products.
                              type: integer
                        product_type:
                          description: Financial product type
                          type: string
                        flexible:
                          description: >-
                            Whether the regulations allow a financial product to
                            be flexible
                          type: string
                          enum:
                            - 'YES'
                            - 'NO'
                        max_annual_ISA_subscription_limit:
                          description: >-
                            Max Annual ISA Subscription Limit. Applicable to ISA
                            products
                          type: string
                        annual_product_subscription_limit:
                          description: >-
                            Annual limit for tax free contributions.
                            Contributions up to this limit qualify for tax
                            refund. Applicable to SIPP products
                          type: string
                        annual_subscription_reduced_limit:
                          description: >-
                            Annual limit for tax free contributions for minors
                            and other individuals with limited income.
                            Applicable to SIPP products
                          type: string
                        money_purchase_annual_allowance:
                          description: >-
                            Annual limit for tax free contributions when an
                            investor has triggered a drawdown/crystallisation.
                            Applicable to SIPP products
                          type: string
                        lifetime_allowance:
                          description: >-
                            Lifetime limit for tax free withdrawals. Applicable
                            to SIPP products
                          type: string
                        minimum_age:
                          description: >-
                            Minimum age qualifying an individual to invest in a
                            Pension Accumulation Plan or open a LISA investor
                            account. Applicable for SIPP or LISA financial
                            products.
                          type: integer
                        maximum_age:
                          description: >-
                            Maximum age qualifying an individual to open a LISA
                            investor account. Applicable for LISA financial
                            products.
                          type: integer
                        minimum_withdrawal_age:
                          type: integer
                          description: >-
                            Minimum age at which an individual can make a
                            penalty-free authorized withdrawal from a  Lifetime
                            ISA, excluding reasons like purchasing a first home,
                            being terminally ill, or in case of death.
                            Applicable for LISA financial products.
                        maximum_contribution_age:
                          type: integer
                          description: >-
                            Maximum age qualifying an individual to contribute
                            in to a LISA account. Applicable for LISA financial
                            products.
                        annual_lisa_subscription_limit:
                          description: >-
                            Maximum Subscription Limit for an individual can
                            contribute to a LISA in a tax year. Applicable for
                            LISA financial products.
                          type: integer
                        created_at:
                          type: string
                          format: date-time
                          readOnly: true
                        updated_at:
                          type: string
                          format: date-time
                          readOnly: true
                      example:
                        financial_product_id: stocks_isa
                        product_type: stocks_isa
                        name: Acorn ISA
                        availability:
                          - All clients
                        additional_cash_currencies:
                          - EUR
                          - USD
                        dividend_options:
                          - Auto reinvest always
                          - Offer reinvest option
                        investment_preferences:
                          minimum_one_off_investment: '1000'
                          minimum_regular_monthly_investment: '100'
                          regular_investment_frequencies:
                            - Calendar monthly
                            - Yearly on a predefined date
                          regular_investment_dates:
                            - 10th
                            - 17th
                            - 24th
                        withdrawal_preferences:
                          minimum_one_off_withdrawal: '1000'
                          minimum_regular_monthly_withdrawal: '100'
                          regular_withdrawal_frequencies:
                            - Calendar monthly
                            - Yearly on a predefined date
                          regular_withdrawal_payment_dates:
                            - 10th
                            - 17th
                            - 24th
                        interest_preferences:
                          pay_interest: 'Yes'
                          interest_accrual_basis: Daily
                          interest_payment_frequency: Daily
                        max_annual_ISA_subscription_limit: '20000'
                        flexible: 'NO'
                        created_at: '2020-07-08T07:36:05.884Z'
                        updated_at: '2020-07-10T07:36:05.884Z'
          description: A paged array of financial products
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      operationId: getAllFinancialProducts
      summary: Get All Financial Products
      description: Returns all the financial products setup for the tenant in an array
      parameters:
        - name: product_types
          description: multiple product types as a comma seperated string
          schema:
            type: string
          in: query
          required: false
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/financial-products/v1?product_types=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/financial-products/v1?product_types=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/financial-products/v1?product_types=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/financial-products/v1?product_types=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/payments/v1/{transaction_id}:
    get:
      tags:
        - Payments
      responses:
        '200':
          content:
            application/json:
              schema:
                title: Root Type for Payments
                required:
                  - amount
                  - currency
                  - status
                  - pot_id
                  - payment_type
                  - transaction_id
                  - service_provider
                  - purpose
                  - origin
                properties:
                  transaction_id:
                    type: string
                  investor_id:
                    type: array
                    items:
                      type: string
                  amount:
                    type: string
                  currency:
                    type: string
                  pot_id:
                    type: string
                  payment_type:
                    type: string
                    enum:
                      - card
                      - electronic_fund_transfer
                      - direct_debit
                  service_provider:
                    type: string
                    enum:
                      - stripe
                      - truelayer
                      - gocardless
                      - none
                  sub_transaction_type:
                    type: string
                    enum:
                      - Lump sum
                      - Lump sum - non relievable
                      - Employer contribution
                      - Regular contribution
                      - Regular contribution - non relievable
                      - Regular contribution - Employer
                    description: Type of contribution
                  source_id:
                    type: string
                    description: >-
                      Required only for payments intents for employer
                      contributions made towards SIPP Accumulation Products
                  service_provider_params:
                    type: object
                    description: >-
                      Custom parameters based on prerequisites of the selected
                      provider
                    properties:
                      bank_account_id:
                        type: string
                        description: >-
                          Bank account ID of Investor (include if
                          service_provider="truelayer")
                      payment_reference:
                        type: string
                        description: Recurring payment reference
                      created_at:
                        type: string
                        format: date-time
                        description: Recurring payment created date
                      desrciption:
                        type: string
                        description: Recurring payment description
                      service_provider_status:
                        type: string
                        description: >-
                          Recurring payment status transitions depend on the
                          service provider
                      authorization_reference:
                        type: string
                        description: >-
                          Recurring payment authorization reference ID provided
                          by a service provider maintained under payment
                          authorizations for an investor
                  purpose:
                    type: string
                    enum:
                      - cash
                      - invest
                  investment_instructions:
                    description: >-
                      mandatory only if purpose:"invest" and pot does not have a
                      portfolio template attached (e.g. An execution-only or
                      direct-to-consumer wealth manager)
                    type: array
                    nullable: true
                    items:
                      required:
                        - investment_product_id
                      properties:
                        investment_product_id:
                          type: string
                        quantity:
                          description: >-
                            Require if `value` is not available. Must be in
                            correct pattern (eg: 25, 332.34, 1050.0025). For
                            `funds`, upto 4 decimal places. For `equities`,
                            `bonds` and `etf`, 0 decimal places allowed.
                          type: string
                        value:
                          description: >-
                            Require if `quantity` is not available. Must be in
                            correct pattern (upto 2 decimal places, eg: 25,
                            332.3, 1050.25).
                          type: string
                  status:
                    description: >-
                      Status of the payment


                      - `pending_confirmation`: Payment is pending approvals and
                      confirmation

                      - `processing`: Payment is confirmed, and being processed.
                      Depending on the payment method, this may be instantaneous
                      (e.g. card) or take multiple days (e.g. cheque) 

                      - `succeeded`: Payment is successful. Cash is cleaned in
                      account. 

                      - `cancelled`: Payment cancelled, and any held funds have
                      been returned. 

                      - `failed`: Payment failed due to insufficient funds,
                      invalid card details, network issues etc. 
                    type: string
                    enum:
                      - pending_confirmation
                      - processing
                      - succeeded
                      - cancelled
                      - failed
                  origin:
                    type: string
                    description: Origin of the payment
                    enum:
                      - api
                      - admin_ui
                  settlement_date:
                    type: string
                    format: date-time
                    description: Required if origin is admin_ui
                  contribution_id:
                    type: string
                    description: >-
                      Required only for payments intents which created through a
                      recurring contribution
                  reason:
                    type: string
                    description: >-
                      This field populated only when payment intent status is
                      failed or cancelled, with reason for cancellation or
                      failure
                  payment_reference:
                    type: string
                example:
                  transaction_id: 75d65d2b-60c6-45ad-979d-0e3e403e6c7e
                  investor_id:
                    - inv-XUT11265
                  amount: '20000'
                  currency: GBP
                  status: pending_confirmation
                  pot_id: pot-UKW3452875
                  payment_type: electronic_fund_transfer
                  service_provider: truelayer
                  sub_transaction_type: Lump sum
                  purpose: cash
          description: success
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - name: transaction_id
          description: Transaction Id
          schema:
            type: string
          in: path
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      operationId: getPayment
      summary: Get Payment by Transaction Id
      description: Get Payment by transaction ID
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/payments/v1/%7Btransaction_id%7D \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/payments/v1/%7Btransaction_id%7D",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/payments/v1/%7Btransaction_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/payments/v1/%7Btransaction_id%7D\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/payments/v1/:
    get:
      tags:
        - Payments
      responses:
        '200':
          content:
            application/json:
              schema:
                required:
                  - payments
                  - next_page_available
                type: object
                properties:
                  pot_id:
                    type: string
                    description: Pot Id
                    example: pot-UKW3452875
                  payments:
                    type: array
                    items:
                      title: Root Type for Payments
                      required:
                        - amount
                        - currency
                        - status
                        - pot_id
                        - payment_type
                        - transaction_id
                        - service_provider
                        - purpose
                        - origin
                      properties:
                        transaction_id:
                          type: string
                        investor_id:
                          type: array
                          items:
                            type: string
                        amount:
                          type: string
                        currency:
                          type: string
                        pot_id:
                          type: string
                        payment_type:
                          type: string
                          enum:
                            - card
                            - electronic_fund_transfer
                            - direct_debit
                        service_provider:
                          type: string
                          enum:
                            - stripe
                            - truelayer
                            - gocardless
                            - none
                        sub_transaction_type:
                          type: string
                          enum:
                            - Lump sum
                            - Lump sum - non relievable
                            - Employer contribution
                            - Regular contribution
                            - Regular contribution - non relievable
                            - Regular contribution - Employer
                          description: Type of contribution
                        source_id:
                          type: string
                          description: >-
                            Required only for payments intents for employer
                            contributions made towards SIPP Accumulation
                            Products
                        service_provider_params:
                          type: object
                          description: >-
                            Custom parameters based on prerequisites of the
                            selected provider
                          properties:
                            bank_account_id:
                              type: string
                              description: >-
                                Bank account ID of Investor (include if
                                service_provider="truelayer")
                            payment_reference:
                              type: string
                              description: Recurring payment reference
                            created_at:
                              type: string
                              format: date-time
                              description: Recurring payment created date
                            desrciption:
                              type: string
                              description: Recurring payment description
                            service_provider_status:
                              type: string
                              description: >-
                                Recurring payment status transitions depend on
                                the service provider
                            authorization_reference:
                              type: string
                              description: >-
                                Recurring payment authorization reference ID
                                provided by a service provider maintained under
                                payment authorizations for an investor
                        purpose:
                          type: string
                          enum:
                            - cash
                            - invest
                        investment_instructions:
                          description: >-
                            mandatory only if purpose:"invest" and pot does not
                            have a portfolio template attached (e.g. An
                            execution-only or direct-to-consumer wealth manager)
                          type: array
                          nullable: true
                          items:
                            required:
                              - investment_product_id
                            properties:
                              investment_product_id:
                                type: string
                              quantity:
                                description: >-
                                  Require if `value` is not available. Must be
                                  in correct pattern (eg: 25, 332.34,
                                  1050.0025). For `funds`, upto 4 decimal
                                  places. For `equities`, `bonds` and `etf`, 0
                                  decimal places allowed.
                                type: string
                              value:
                                description: >-
                                  Require if `quantity` is not available. Must
                                  be in correct pattern (upto 2 decimal places,
                                  eg: 25, 332.3, 1050.25).
                                type: string
                        status:
                          description: >-
                            Status of the payment


                            - `pending_confirmation`: Payment is pending
                            approvals and confirmation

                            - `processing`: Payment is confirmed, and being
                            processed. Depending on the payment method, this may
                            be instantaneous (e.g. card) or take multiple days
                            (e.g. cheque) 

                            - `succeeded`: Payment is successful. Cash is
                            cleaned in account. 

                            - `cancelled`: Payment cancelled, and any held funds
                            have been returned. 

                            - `failed`: Payment failed due to insufficient
                            funds, invalid card details, network issues etc. 
                          type: string
                          enum:
                            - pending_confirmation
                            - processing
                            - succeeded
                            - cancelled
                            - failed
                        origin:
                          type: string
                          description: Origin of the payment
                          enum:
                            - api
                            - admin_ui
                        settlement_date:
                          type: string
                          format: date-time
                          description: Required if origin is admin_ui
                        contribution_id:
                          type: string
                          description: >-
                            Required only for payments intents which created
                            through a recurring contribution
                        reason:
                          type: string
                          description: >-
                            This field populated only when payment intent status
                            is failed or cancelled, with reason for cancellation
                            or failure
                        payment_reference:
                          type: string
                      example:
                        transaction_id: 75d65d2b-60c6-45ad-979d-0e3e403e6c7e
                        investor_id:
                          - inv-XUT11265
                        amount: '20000'
                        currency: GBP
                        status: pending_confirmation
                        pot_id: pot-UKW3452875
                        payment_type: electronic_fund_transfer
                        service_provider: truelayer
                        sub_transaction_type: Lump sum
                        purpose: cash
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
          description: A paged array of Payments
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - name: payment_type
          description: >-
            Payment type of the payment to be retrieved from the API
            (electronic_fund_transfer, card, direct_debit)
          schema:
            type: string
          in: query
          required: false
        - name: service_provider
          description: >-
            Service provider of the payment to be retrieved from the API
            (truelayer, stripe, gocardless, none)
          schema:
            type: string
          in: query
          required: false
        - name: purpose
          description: Purpose of the payment to be retrieved from the API (cash, invest)
          schema:
            type: string
          in: query
          required: false
        - name: sub_transaction_type
          description: >-
            Sub transaction types of the payments to be retrieved from the API.
            Can give multiple sub transaction types as comma separated values.
            (ex- Lump sum,Regular contribution)
          schema:
            type: string
          in: query
          required: false
        - name: investor_id
          description: >-
            investor_id of the payments to be retrieved from the API. Can give
            multiple investor ids as comma separated values. (ex-
            inv-XLZ8990,inv-RFT6758)
          schema:
            type: string
          in: query
          required: false
        - name: status
          description: >-
            status of the payments to be retrieved from the API. Can give
            multiple statuses as comma separated values. (ex-
            succeeded,pending_confirmation)
          schema:
            type: string
          in: query
          required: false
        - name: source_id
          description: >-
            source_id of the payments to be retrieved from the API. Can give
            multiple source ids as comma separated values. (ex-
            cem-BGJ20491,cem-TGY90961)
          schema:
            type: string
          in: query
          required: false
        - name: contribution_id
          description: >-
            contribution_id of the payments to be retrieved from the API. Can
            give multiple contribution ids as comma separated values. (ex-
            BCV-GH-BUH2965,RCB-GC-RGH2065)
          schema:
            type: string
          in: query
          required: false
        - name: page_size
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 1000 and 1. Max page size is 8000.
            Results are sorted decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: page_number
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 1000 and 1. Results are sorted
            decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - in: query
          name: pot_id
          schema:
            type: string
          required: false
          description: Pot Id
        - name: sort
          description: 'Sorting order; results are sorted by creation time. '
          schema:
            type: string
            default: desc
            enum:
              - asc
              - desc
          in: query
          required: false
      operationId: getAllPayments
      summary: Get All Payments
      description: >
        Returns all the Payments setup for the tenant in an array.\

        Payments can be filtered by the `pot_id`, `payment_type`, `purpose` and
        `service_provider` when retrieving payments.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/payments/v1/?payment_type=SOME_STRING_VALUE&service_provider=SOME_STRING_VALUE&purpose=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&source_id=SOME_STRING_VALUE&contribution_id=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&sort=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/payments/v1/?payment_type=SOME_STRING_VALUE&service_provider=SOME_STRING_VALUE&purpose=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&source_id=SOME_STRING_VALUE&contribution_id=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&sort=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/payments/v1/?payment_type=SOME_STRING_VALUE&service_provider=SOME_STRING_VALUE&purpose=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&source_id=SOME_STRING_VALUE&contribution_id=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&sort=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/payments/v1/?payment_type=SOME_STRING_VALUE&service_provider=SOME_STRING_VALUE&purpose=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&source_id=SOME_STRING_VALUE&contribution_id=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&sort=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    post:
      requestBody:
        content:
          application/json:
            schema:
              required:
                - request_id
                - amount
                - pot_id
                - payment_type
                - purpose
                - service_provider
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: 'Unique request id to ensure idempotency. (ex: UUID)'
                amount:
                  type: string
                  description: >-
                    Amount as a numeral string with two decimal points. (ex:
                    1500.00). Minimum allowed amount is 1.00
                  example: '100.00'
                pot_id:
                  type: string
                  example: pot-UKW3452850
                payment_type:
                  type: string
                  example: electronic_fund_transfer
                  enum:
                    - card
                    - electronic_fund_transfer
                service_provider:
                  type: string
                  example: truelayer
                  enum:
                    - stripe
                    - truelayer
                    - none
                service_provider_params:
                  type: object
                  description: Parameters based on prerequisites of the selected provider
                  properties:
                    bank_account_id:
                      type: string
                      description: >-
                        Bank account ID of Investor (mandatory only if
                        service_provider="truelayer")
                      example: ba-bc00c28f-b3fc-42b7
                currency:
                  type: string
                  description: Must be a currency configured for the Pot
                  example: GBP
                sub_transaction_type:
                  type: string
                  example: Lump sum
                  enum:
                    - Lump sum
                    - Lump sum - non relievable
                    - Employer Contribution
                  description: >-
                    Type of contribution.  "Lump sum", "Lump sum - non
                    relievable", "Employer contribution" is enabled for SIPP and
                    is required to be sent in the request. "Lump sum" is enabled
                    for all other financial products and need not be specified.
                    If the sub transaction type is not specified for other
                    financial products it will be defaulted to "Lump sum" .
                source_id:
                  type: string
                  example: cem-ASP43560
                  description: >-
                    Required only for payments intents for employer
                    contributions made towards SIPP Accumulation Products
                purpose:
                  type: string
                  example: invest
                  enum:
                    - cash
                    - invest
                investment_instructions:
                  description: >-
                    Mandatory only if purpose:"invest" and pot does not have a
                    portfolio template attached (e.g. An execution-only or
                    direct-to-consumer wealth manager).
                  type: array
                  items:
                    required:
                      - investment_product_id
                    properties:
                      investment_product_id:
                        type: string
                      quantity:
                        description: >-
                          Require if `value` is not available. Must be in
                          correct pattern (eg: 25, 332.34, 1050.0025). For
                          `funds`, upto 4 decimal places. For `equities`,
                          `bonds` and `etf`, 0 decimal places allowed.
                        type: string
                      value:
                        description: >-
                          Require if `quantity` is not available. Must be in
                          correct pattern (upto 2 decimal places, eg: 25, 332.3,
                          1050.25).
                        type: string
                  example:
                    - investment_product_id: isa_1223931892
                      quantity: '300'
                    - investment_product_id: isa_9913091898
                      quantity: '500'
        required: true
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      tags:
        - Payments
      responses:
        '201':
          description: Resource created
          content:
            application/json:
              schema:
                required:
                  - amount
                  - currency
                  - status
                  - pot_id
                  - payment_type
                  - transaction_id
                  - service_provider
                  - purpose
                properties:
                  transaction_id:
                    type: string
                  amount:
                    type: string
                  currency:
                    type: string
                  status:
                    type: string
                    enum:
                      - pending_confirmation
                      - processing
                      - succeeded
                  pot_id:
                    type: string
                  payment_type:
                    type: string
                    enum:
                      - card
                      - electronic_fund_transfer
                  sub_transaction_type:
                    type: string
                    enum:
                      - Lump sum
                      - Lump sum - non relievable
                      - Employer contribution
                    description: Type of contribution.
                  source_id:
                    type: string
                    description: >-
                      Only for payments intents for employer contributions made
                      towards SIPP Accumulation Products
                  service_provider:
                    type: string
                    enum:
                      - stripe
                      - truelayer
                      - none
                  service_provider_params:
                    type: object
                    description: Parameters based on prerequisites of the selected provider
                    properties:
                      bank_account_id:
                        type: string
                        description: >-
                          Bank account ID of Investor (include if
                          service_provider="truelayer")
                      hpp_url:
                        type: string
                        description: >-
                          URL for Hosted Payment Page (include if
                          service_provider="truelayer")
                      payment_intent_id:
                        type: string
                        description: >-
                          Payment intent ID (include if
                          service_provider="truelayer" or
                          service_provider="stripe")
                      client_secret:
                        type: string
                        description: Client secret (include if service_provider="stripe")
                      publishable_key:
                        type: string
                        description: Publishable key (include if service_provider="stripe")
                  purpose:
                    type: string
                    enum:
                      - cash
                      - invest
                  investment_instructions:
                    description: >-
                      mandatory only if purpose:"invest" and pot does not have a
                      portfolio template attached (e.g. An execution-only or
                      direct-to-consumer wealth manager)
                    type: array
                    items:
                      required:
                        - investment_product_id
                      properties:
                        investment_product_id:
                          type: string
                        quantity:
                          description: >-
                            Require if `value` is not available. Must be in
                            correct pattern (eg: 25, 332.34, 1050.0025). For
                            `funds`, upto 4 decimal places. For `equities`,
                            `bonds` and `etf`, 0 decimal places allowed.
                          type: string
                        value:
                          description: >-
                            Require if `quantity` is not available. Must be in
                            correct pattern (upto 2 decimal places, eg: 25,
                            332.3, 1050.25).
                          type: string
                example:
                  transaction_id: 5badc696-5591-485f-9d7f-428b9b8460c2
                  amount: '100.00'
                  currency: GBP
                  status: pending_confirmation
                  pot_id: pot-UKW3452850
                  payment_type: electronic_fund_transfer
                  service_provider: truelayer
                  sub_transaction_type: Lump sum
                  source_id: cem-ASP43560
                  service_provider_params:
                    bank_account_id: ba-bc00c28f-b3fc-42b7
                    hpp_url: >-
                      https://paymentexample.truelayer-sandbox.com/payments#example
                  purpose: invest
                  investment_instructions:
                    - investment_product_id: isa_1223931892
                      quantity: '300'
                    - investment_product_id: isa_9913091898
                      quantity: '500'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: createSinglePaymentIntent
      summary: Create Single Payment Intent
      description: >-
        Create a new Single Payment Intent for the given `amount` and
        `currency`. If successful, a new Payment Intent will be created with
        `pending_confirmation` status and the API will return the
        `client_secret` and `publishable_key` as response.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/payments/v1/ \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","amount":"100.00","pot_id":"pot-UKW3452850","payment_type":"electronic_fund_transfer","service_provider":"truelayer","service_provider_params":{"bank_account_id":"ba-bc00c28f-b3fc-42b7"},"currency":"GBP","sub_transaction_type":"Lump sum","source_id":"cem-ASP43560","purpose":"invest","investment_instructions":[{"investment_product_id":"isa_1223931892","quantity":"300"},{"investment_product_id":"isa_9913091898","quantity":"500"}]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/payments/v1/",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              amount: '100.00',
              pot_id: 'pot-UKW3452850',
              payment_type: 'electronic_fund_transfer',
              service_provider: 'truelayer',
              service_provider_params: {bank_account_id: 'ba-bc00c28f-b3fc-42b7'},
              currency: 'GBP',
              sub_transaction_type: 'Lump sum',
              source_id: 'cem-ASP43560',
              purpose: 'invest',
              investment_instructions: [
                {investment_product_id: 'isa_1223931892', quantity: '300'},
                {investment_product_id: 'isa_9913091898', quantity: '500'}
              ]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/payments/v1/")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"amount\":\"100.00\",\"pot_id\":\"pot-UKW3452850\",\"payment_type\":\"electronic_fund_transfer\",\"service_provider\":\"truelayer\",\"service_provider_params\":{\"bank_account_id\":\"ba-bc00c28f-b3fc-42b7\"},\"currency\":\"GBP\",\"sub_transaction_type\":\"Lump
            sum\",\"source_id\":\"cem-ASP43560\",\"purpose\":\"invest\",\"investment_instructions\":[{\"investment_product_id\":\"isa_1223931892\",\"quantity\":\"300\"},{\"investment_product_id\":\"isa_9913091898\",\"quantity\":\"500\"}]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/payments/v1/\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"amount\\\":\\\"100.00\\\",\\\"pot_id\\\":\\\"pot-UKW3452850\\\",\\\"payment_type\\\":\\\"electronic_fund_transfer\\\",\\\"service_provider\\\":\\\"truelayer\\\",\\\"service_provider_params\\\":{\\\"bank_account_id\\\":\\\"ba-bc00c28f-b3fc-42b7\\\"},\\\"currency\\\":\\\"GBP\\\",\\\"sub_transaction_type\\\":\\\"Lump sum\\\",\\\"source_id\\\":\\\"cem-ASP43560\\\",\\\"purpose\\\":\\\"invest\\\",\\\"investment_instructions\\\":[{\\\"investment_product_id\\\":\\\"isa_1223931892\\\",\\\"quantity\\\":\\\"300\\\"},{\\\"investment_product_id\\\":\\\"isa_9913091898\\\",\\\"quantity\\\":\\\"500\\\"}]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1:
    post:
      summary: Create new pots
      operationId: createPot
      description: >
        This endpoint facilitates the creation of one or more pots for an
        investor for a selected financial product. A maximum of five pots can be
        created with a single request.
      tags:
        - Pots, Holdings and Transactions
      security:
        - ApiSecretKey: []
      requestBody:
        content:
          application/json:
            schema:
              title: Multiple
              type: object
              required:
                - request_id
                - investor_id
                - financial_product_id
                - pots
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: 'Unique request id to ensure idempotency. (ex: UUID)'
                investor_id:
                  type: array
                  items:
                    type: string
                    example: inv-XUT11265
                financial_product_id:
                  type: string
                  example: sipp_accumulation
                pots:
                  type: array
                  description: Maximum of five pots
                  items:
                    required:
                      - pot_name
                      - status
                    properties:
                      pot_name:
                        type: string
                        minLength: 1
                        maxLength: 50
                      portfolio_template_id:
                        type: string
                      pot_currency:
                        type: string
                        enum:
                          - GBP
                          - CAD
                          - USD
                        description: >-
                          If not populated, will be defaulted to tenancy
                          currency.<br>Currency should be enabled for Financial
                          Product. Tenancy currency is allowed by default,
                          additional currencies enabled for a product can be
                          identified using the “Get all financial products” end
                          point
                      status:
                        type: string
                        enum:
                          - active
                          - inactive
                  example:
                    - pot_name: Retirement Pot 1
                      portfolio_template_id: pft-c60c9472-6668-4f7a-aa69
                      pot_currency: GBP
                      status: active
                    - pot_name: Retirement Pot 2
                      portfolio_template_id: pft-c60c9472-6668-4f7a-aa69
                      pot_currency: CHF
                      status: active
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '201':
          description: success or partially_successful
          content:
            application/json:
              schema:
                title: Multiple
                type: object
                required:
                  - status
                  - investor_id
                  - financial_product_id
                  - results
                properties:
                  status:
                    type: string
                    description: >-
                      status of the multi pot creation request

                      . `success`: All pots created successfully

                      . `partially_successful`: Some (but not all) pots were
                      created successfully
                       
                    example: partially_successful
                    enum:
                      - success
                      - partially_successful
                  investor_id:
                    type: array
                    items:
                      type: string
                      example: inv-XUT11265
                  financial_product_id:
                    type: string
                    example: sipp_accumulation
                  results:
                    type: array
                    description: >-
                      Array of successes and failures. Failures will include a
                      reason for the error
                    items:
                      items:
                        required:
                          - pot_id
                          - pot_name
                          - status
                          - pot_currency
                          - reference_version
                          - success
                          - created_at
                          - updated_at
                        properties:
                          pot_id:
                            type: string
                            readOnly: true
                            maxLength: 64
                            description: system generated id
                          pot_name:
                            type: string
                          portfolio_template_id:
                            type: string
                          account_id:
                            type: string
                            example: SSISA0000000001
                          pot_currency:
                            type: string
                            enum:
                              - GBP
                              - CAD
                              - USD
                            description: >-
                              If not populated, will be defaulted to tenancy
                              currency.<br>Currency should be enabled for
                              Financial Product. Tenancy currency is allowed by
                              default, additional currencies enabled for a
                              product can be identified using the “Get all
                              financial products” end point
                          status:
                            type: string
                            enum:
                              - active
                              - inactive
                          reference_version:
                            type: integer
                            readOnly: true
                            example: 1
                          success:
                            type: boolean
                          message:
                            type: string
                            description: Reason for failure if success = false
                          created_at:
                            type: string
                            format: date-time
                            readOnly: true
                            example: '2020-07-08T07:36:05.884Z'
                          updated_at:
                            type: string
                            format: date-time
                            readOnly: true
                            example: '2020-07-10T07:36:05.884Z'
                    example:
                      - pot_id: pot-GYQ5423100
                        pot_name: Retirement Pot 1
                        portfolio_template_id: pft-c60c9472-6668-4f7a-aa69
                        pot_currency: GBP
                        account_id: SSISA0000000001
                        status: active
                        reference_version: 1
                        created_at: '2020-07-08T07:36:05.884Z'
                        updated_at: '2020-07-08T07:36:05.884Z'
                        success: true
                      - success: false
                        message: Value [CHF] for [pot_currency] is not valid
        '400':
          description: Request is not complete and may have one or more validations errors
          content:
            application/json:
              schema:
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: >-
                      Human readable description of the error. Will be populated
                      when a high level validation fails
                    type: string
                  results:
                    description: >-
                      Will be populated when validations fail for creation
                      instructions
                    type: array
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/pots/v1 \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","investor_id":["inv-XUT11265"],"financial_product_id":"sipp_accumulation","pots":[{"pot_name":"Retirement Pot 1","portfolio_template_id":"pft-c60c9472-6668-4f7a-aa69","pot_currency":"GBP","status":"active"},{"pot_name":"Retirement Pot 2","portfolio_template_id":"pft-c60c9472-6668-4f7a-aa69","pot_currency":"CHF","status":"active"}]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              investor_id: ['inv-XUT11265'],
              financial_product_id: 'sipp_accumulation',
              pots: [
                {
                  pot_name: 'Retirement Pot 1',
                  portfolio_template_id: 'pft-c60c9472-6668-4f7a-aa69',
                  pot_currency: 'GBP',
                  status: 'active'
                },
                {
                  pot_name: 'Retirement Pot 2',
                  portfolio_template_id: 'pft-c60c9472-6668-4f7a-aa69',
                  pot_currency: 'CHF',
                  status: 'active'
                }
              ]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/pots/v1")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"investor_id\":[\"inv-XUT11265\"],\"financial_product_id\":\"sipp_accumulation\",\"pots\":[{\"pot_name\":\"Retirement
            Pot
            1\",\"portfolio_template_id\":\"pft-c60c9472-6668-4f7a-aa69\",\"pot_currency\":\"GBP\",\"status\":\"active\"},{\"pot_name\":\"Retirement
            Pot
            2\",\"portfolio_template_id\":\"pft-c60c9472-6668-4f7a-aa69\",\"pot_currency\":\"CHF\",\"status\":\"active\"}]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"investor_id\\\":[\\\"inv-XUT11265\\\"],\\\"financial_product_id\\\":\\\"sipp_accumulation\\\",\\\"pots\\\":[{\\\"pot_name\\\":\\\"Retirement Pot 1\\\",\\\"portfolio_template_id\\\":\\\"pft-c60c9472-6668-4f7a-aa69\\\",\\\"pot_currency\\\":\\\"GBP\\\",\\\"status\\\":\\\"active\\\"},{\\\"pot_name\\\":\\\"Retirement Pot 2\\\",\\\"portfolio_template_id\\\":\\\"pft-c60c9472-6668-4f7a-aa69\\\",\\\"pot_currency\\\":\\\"CHF\\\",\\\"status\\\":\\\"active\\\"}]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    get:
      summary: Get all pots for an investor
      description: Get all Investment Pots of the investor
      operationId: getPots
      tags:
        - Pots, Holdings and Transactions
      security:
        - ApiSecretKey: []
      parameters:
        - in: query
          name: investor_id
          schema:
            type: string
          required: true
          description: Investor Id
        - name: financial_product_id
          description: multiple financial product ids as comma seperated string
          schema:
            type: string
          in: query
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                description: Array of all active investment pots created by the investor
                required:
                  - pots
                type: object
                properties:
                  pots:
                    type: array
                    items:
                      title: Single
                      required:
                        - pot_id
                        - pot_name
                        - investor_id
                        - financial_product_id
                        - pot_currency
                        - status
                        - reference_version
                        - created_at
                        - updated_at
                      properties:
                        pot_id:
                          type: string
                          example: pot-GYQ5423100
                          readOnly: true
                          maxLength: 64
                          description: system generated id
                        investor_id:
                          type: array
                          items:
                            type: string
                            example: inv-XUT11265
                        pot_name:
                          type: string
                          minLength: 1
                          maxLength: 50
                          example: Retirement Pot
                        financial_product_id:
                          type: string
                          example: general_investment_product
                        portfolio_template_id:
                          type: string
                          example: pft-c60c9472-6668-4f7a-aa69
                        pot_currency:
                          type: string
                          enum:
                            - GBP
                            - CAD
                            - USD
                          description: >-
                            If not populated, will be defaulted to tenancy
                            currency.<br>Currency should be enabled for
                            Financial Product. Tenancy currency is allowed by
                            default, additional currencies enabled for a product
                            can be identified using the “Get all financial
                            products” end point.
                        status:
                          type: string
                          enum:
                            - active
                            - inactive
                        reference_version:
                          type: integer
                          readOnly: true
                          example: 1
                        account_id:
                          type: string
                          example: SSISA0000000001
                        created_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-08T07:36:05.884Z'
                        updated_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/pots/v1?investor_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1?investor_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/pots/v1?investor_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1?investor_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1/evaluate-rebalance:
    post:
      tags:
        - Rebalance
      requestBody:
        content:
          application/json:
            schema:
              title: Request body for the rebalance request
              description: Definition of a rebalance request body
              required:
                - request_id
                - type
                - values
              type: object
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: 'Unique request id to ensure idempotency. (eg: UUID)'
                type:
                  type: string
                  example: pot
                  enum:
                    - pot
                    - investor
                    - portfolio
                  description: >-
                    Rebalance request triggering type. This describe the types
                    of elements included in the values field
                values:
                  type: array
                  items:
                    type: string
                  example:
                    - pot-UKW3452850
                    - pot-SDQ5239730
                  description: >-
                    List of unique Ids from the mentioned type to trigger the
                    rebalance process
      responses:
        '202':
          description: success
          content:
            application/json:
              schema:
                title: This is the return object for rebalance evaluation request
                description: Contains rebalance request id and status
                required:
                  - rebalance_request_id
                  - status
                  - created_at
                type: object
                properties:
                  rebalance_request_id:
                    type: string
                    description: Unique identifier of the rebalance instruction
                    example: re-d3b39bc2-0ff5-40c0-9575-f5139b959c1b
                  status:
                    type: string
                    description: Status of the rebalance evaluation process
                    enum:
                      - processing
                    example: processing
                  created_at:
                    type: string
                    description: Date and time of evaluation request created
                    format: date-time
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      operationId: EvaluateRebalance
      summary: Evaluate rebalance
      description: >-
        Evaluate if a pot or a group of pots has deviated significatly from the
        target portfolio and eligible for rebalancing. The request can be sent
        for a pot (or a group of pots), all pots belonging to an investor (or a
        group of investors) or all pots linked to a portfolio (or a group of
        portfolios). The response will indicate if the pot is eligible for
        rebalance and % deviation from the target portfolio template.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/pots/v1/evaluate-rebalance \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","type":"pot","values":["pot-UKW3452850","pot-SDQ5239730"]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/evaluate-rebalance",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              type: 'pot',
              values: ['pot-UKW3452850', 'pot-SDQ5239730']
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/pots/v1/evaluate-rebalance")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"type\":\"pot\",\"values\":[\"pot-UKW3452850\",\"pot-SDQ5239730\"]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/evaluate-rebalance\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"type\\\":\\\"pot\\\",\\\"values\\\":[\\\"pot-UKW3452850\\\",\\\"pot-SDQ5239730\\\"]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1/rebalance-evaluation-status:
    get:
      summary: Retrieve rebalance evaluation request details
      description: >-
        Retrieve details of a rebalace evaluation request using the
        `rebalance_request_id`.
      operationId: getRebalanceEvaluationDetails
      tags:
        - Rebalance
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                title: this is the return object with evaluation per pot
                description: contains array for pot details
                required:
                  - rebalanceEvaluation
                  - next_page_available
                properties:
                  rebalanceEvaluation:
                    type: object
                    required:
                      - rebalance_request_id
                      - status
                      - created_at
                      - updated_at
                    properties:
                      rebalance_request_id:
                        type: string
                        description: Unique identifier of the rebalance instruction
                        example: fh584838fff
                      status:
                        type: string
                        description: Status of the rebalance evaluation process
                        enum:
                          - processing
                          - in_progress
                          - completed
                          - failed
                        example: completed
                      pot_details:
                        type: array
                        description: >-
                          Details of the each pot related to the rebalance
                          instruction
                        items:
                          title: each pot detail of the Rebalance Evaluation request
                          description: >-
                            Each individual pot details on the rebalance
                            evaluation request
                          type: object
                          required:
                            - pot_id
                            - rebalance_eligibility_status
                            - investor_id
                          properties:
                            pot_id:
                              type: string
                              description: Identifier of pot triggered for rebalance
                              example: pot-GYA4736947
                            rebalance_eligibility_status:
                              type: string
                              description: >-
                                Status of whether a pot is capable of rebalance
                                or not
                              example: eligible
                              enum:
                                - eligible
                                - ineligible
                                - no_portfolio_attached
                                - negative_holdings
                                - no_holdings
                            investor_id:
                              type: array
                              description: Unique ID of the Investors attached to the pot
                              items:
                                type: string
                                example: inv-QXR38578
                            portfolio_template_id:
                              type: string
                              description: >-
                                portfolio_template_id in used by the relevent
                                pot
                              example: pft-5472de57-d291-4914-930e-0bbf5cb0cc47
                            portfolio_deviation:
                              type: string
                              description: Portfolio deviation for the pot
                              example: '50'
                      reason:
                        type: string
                        description: Reason for failure
                      warning:
                        type: string
                        description: >-
                          List of instance IDs experiencing errors resulting in
                          failed evaluation
                        example: >-
                          The following ids were not found [pot-PXO9735796,
                          pot-LPO9735006]
                      created_at:
                        type: string
                        description: Date and time of evaluation request created
                        format: date-time
                      updated_at:
                        type: string
                        description: Date and time of evaluation request updated
                        format: date-time
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: rebalance_evaluation_id
          description: Unique identifier of the rebalance evaluation request
          schema:
            type: string
          in: query
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/pots/v1/rebalance-evaluation-status?rebalance_evaluation_id=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/rebalance-evaluation-status?rebalance_evaluation_id=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/pots/v1/rebalance-evaluation-status?rebalance_evaluation_id=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/rebalance-evaluation-status?rebalance_evaluation_id=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1/rebalance:
    post:
      tags:
        - Rebalance
      requestBody:
        content:
          application/json:
            schema:
              title: Request body for the rebalance request
              description: Definition of a rebalance request body
              required:
                - request_id
                - type
                - values
              type: object
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: 'Unique request id to ensure idempotency. (eg: UUID)'
                type:
                  type: string
                  example: pot
                  enum:
                    - pot
                    - investor
                    - portfolio
                  description: >-
                    Rebalance request triggering type. This describe the types
                    of elements included in the values field
                values:
                  type: array
                  items:
                    type: string
                  example:
                    - pot-UKW3452850
                    - pot-SDQ5239730
                  description: >-
                    List of unique Ids from the mentioned type to trigger the
                    rebalance process
      responses:
        '202':
          description: success
          content:
            application/json:
              schema:
                title: This is the response object for rebalance request
                description: Containes the response for the rebalance request
                required:
                  - rebalance_request_id
                  - created_at
                  - status
                type: object
                properties:
                  rebalance_request_id:
                    type: string
                    description: Unique identifier of the rebalance instruction
                    example: fh584838fff
                  status:
                    type: string
                    description: Status of the rebalance execution process
                    enum:
                      - processing
                    example: processing
                  created_at:
                    type: string
                    description: Date and time of execution request created
                    format: date-time
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      operationId: CreateRebalance
      summary: Trigger rebalance process
      description: >-
        This endpoint allows you to trigger the rebalancing of a pot (or a group
        of pots), all pots belonging to an investor (or a group of investors) or
        all pots linked to a portfolio (or a group of portfolios). The response
        will contain a `rebalance_request_id` and `status` of the request.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/pots/v1/rebalance \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","type":"pot","values":["pot-UKW3452850","pot-SDQ5239730"]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/rebalance",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              type: 'pot',
              values: ['pot-UKW3452850', 'pot-SDQ5239730']
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/pots/v1/rebalance")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"type\":\"pot\",\"values\":[\"pot-UKW3452850\",\"pot-SDQ5239730\"]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/rebalance\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"type\\\":\\\"pot\\\",\\\"values\\\":[\\\"pot-UKW3452850\\\",\\\"pot-SDQ5239730\\\"]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1/rebalance-results:
    get:
      summary: Retrieve rebalance request details
      description: Retrieve details of a rebalace request using the `rebalance_request_id`.
      operationId: getRebalanceDetails
      tags:
        - Rebalance
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - rebalanceExecution
                  - next_page_available
                properties:
                  rebalanceExecution:
                    type: object
                    required:
                      - rebalance_request_id
                      - status
                      - pot_details
                      - created_at
                      - updated_at
                    properties:
                      rebalance_request_id:
                        type: string
                        description: Unique identifier of the rebalance instruction
                        example: fh584838fff
                      status:
                        type: string
                        description: Status of the rebalance instruction
                        enum:
                          - processing
                          - in_progress
                          - completed
                          - failed
                        example: completed
                      pot_details:
                        type: array
                        description: >-
                          Details of the each pot related to the rebalance
                          instruction
                        items:
                          title: each pot instruction of the Rebalance request
                          description: Each individual pot details on the rebalance request
                          required:
                            - pot_id
                            - status
                            - portfolio_template_id
                            - portfolio_deviation
                            - investor_id
                          type: object
                          properties:
                            pot_id:
                              type: string
                              description: Identifier of pot triggered for rebalance
                              example: pot-UKW3452850
                            status:
                              type: string
                              description: >-
                                Current status of the rebalance on the specific
                                pot_id
                              example: in_progress
                              enum:
                                - failed
                                - processing
                                - initiated
                                - sell_in_progress
                                - buy_in_progress
                                - completed
                            portfolio_template_id:
                              type: string
                              description: >-
                                portfolio_template_id in used by the relevent
                                pot
                              example: pft-5472de57-d291-4914-930e-0bbf5cb0cc47
                            investor_id:
                              type: array
                              items:
                                type: string
                                example: inv-XUT11265
                            portfolio_deviation:
                              type: string
                              description: Portfolio deviation for the pot
                              example: '50'
                            reason:
                              type: string
                              description: >-
                                if the status is rejected then the reason for
                                it.
                            instruction_id:
                              type: string
                              description: switch instruction ID
                              example: d4c55e5e-c827-47ed-8811-b312f0cef2d2
                            sell_instructions:
                              type: array
                              items:
                                example:
                                  investment_product_id: F0654GBP1
                                  mode: value
                                  value: '1000'
                                title: >-
                                  each buy or sell instruction of the Switch
                                  request
                                description: >-
                                  Each individual buy side and sell side
                                  instruction of the Switch request
                                required:
                                  - investment_product_id
                                  - mode
                                  - value
                                type: object
                                properties:
                                  investment_product_id:
                                    type: string
                                    description: >-
                                      Identifier of the investment product sold
                                      or bought. If the instruction is to use a
                                      cash holding (relevant only for sell
                                      instruction) this must be `cash`
                                  mode:
                                    type: string
                                    description: >-
                                      Mode of the instruction. If
                                      investment_product_id is `cash` mode can
                                      only be set to `value` or `percentage` 
                                    enum:
                                      - percentage
                                      - unit
                                      - value
                                  value:
                                    type: string
                                    description: >-
                                      value according to the mode. e.g. mode
                                      `percentage` and value `10` implies 10%
                            buy_instructions:
                              type: array
                              items:
                                example:
                                  investment_product_id: F1573GBP2
                                  mode: percentage
                                  value: '100'
                                title: >-
                                  each buy or sell instruction of the Switch
                                  request
                                description: >-
                                  Each individual buy side and sell side
                                  instruction of the Switch request
                                required:
                                  - investment_product_id
                                  - mode
                                  - value
                                type: object
                                properties:
                                  investment_product_id:
                                    type: string
                                    description: >-
                                      Identifier of the investment product sold
                                      or bought. If the instruction is to use a
                                      cash holding (relevant only for sell
                                      instruction) this must be `cash`
                                  mode:
                                    type: string
                                    description: >-
                                      Mode of the instruction. If
                                      investment_product_id is `cash` mode can
                                      only be set to `value` or `percentage` 
                                    enum:
                                      - percentage
                                      - unit
                                      - value
                                  value:
                                    type: string
                                    description: >-
                                      value according to the mode. e.g. mode
                                      `percentage` and value `10` implies 10%
                            transactions:
                              type: array
                              description: >-
                                Array with status of all buy and sell
                                transactions.
                              items:
                                required:
                                  - investment_product_id
                                  - status
                                  - side
                                  - transaction_id
                                  - created_at
                                properties:
                                  investment_product_id:
                                    type: string
                                    description: >-
                                      Identifier of investment product that is
                                      bought or sold.
                                  status:
                                    type: string
                                    enum:
                                      - instructed
                                      - priced
                                      - settled
                                      - rejected
                                  side:
                                    type: string
                                    description: Side of the transaction
                                    enum:
                                      - buy
                                      - sell
                                  transaction_id:
                                    type: string
                                    description: Unique identifier of the transaction
                                  quantity:
                                    type: string
                                    description: quantity (in units)
                                  price:
                                    type: string
                                    description: Executed price of the transaction
                                  value:
                                    type: string
                                    description: Monetary value of the transaction
                                  created_at:
                                    type: string
                                    description: Date and time of transaction creation
                                    format: date-time
                                  updated_at:
                                    type: string
                                    description: Date and time of transaction update
                                    format: date-time
                                example:
                                  investment_product_id: F0654GBP1
                                  status: instructed
                                  side: sell
                                  transaction_id: 066e9ac1-30fe-434a-856a-91deea3ea7b1
                                  value: '1000'
                                  created_at: '2023-01-30T08:21:24.260Z'
                                  updated_at: '2023-01-30T08:21:24.260Z'
                      reason:
                        type: string
                        description: Reason for failure
                      warning:
                        type: string
                        description: >-
                          List of instance IDs experiencing errors resulting in
                          failed rebalance
                        example: >-
                          The following ids were not found [pot-PXO9735796,
                          pot-LPO9735006]
                      created_at:
                        type: string
                        description: Date and time of Rebalance request created
                        format: date-time
                      updated_at:
                        type: string
                        description: Date and time of Rebalance request updated
                        format: date-time
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: rebalance_request_id
          description: Unique identifier of the rebalance request
          schema:
            type: string
          in: query
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/pots/v1/rebalance-results?rebalance_request_id=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/rebalance-results?rebalance_request_id=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/pots/v1/rebalance-results?rebalance_request_id=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/rebalance-results?rebalance_request_id=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1/value:
    get:
      summary: Get total value of all pots of an investor
      description: >-
        Get the current value of all the investor’s pots broken down by currency
        (including cash and investment product holdings), currencies or pots
        with no holdings will be excluded from the reponse.
      operationId: getTotalPotValue
      tags:
        - Pots, Holdings and Transactions
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - in: query
          name: investor_id
          schema:
            type: string
          required: true
          description: Investor Id
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - total_values
                properties:
                  total_values:
                    type: array
                    items:
                      required:
                        - pot_currency
                        - total_value
                        - total_free_value
                        - total_locked_value
                        - total_cash_value
                        - total_free_cash_value
                        - total_locked_cash_value
                        - total_settled_cash_position
                      properties:
                        pot_currency:
                          type: string
                          description: Currency of the pots
                          example: GBP
                        total_value:
                          type: string
                          description: Total value of the group of pots
                          example: '400'
                        total_free_value:
                          type: string
                          description: Total free value of the group of pots
                          example: '250'
                        total_locked_value:
                          type: string
                          description: Total locked value of the group of pots
                          example: '150'
                        total_cash_value:
                          type: string
                          description: Total cash value of the group of pots
                          example: '300'
                        total_free_cash_value:
                          type: string
                          description: Total free cash value of the group of pots
                          example: '200'
                        total_locked_cash_value:
                          type: string
                          description: Total locked cash value of the group of pots
                          example: '100'
                        total_settled_cash_position:
                          type: string
                          description: Total settled cash value of the group of pots
                          example: '504.79'
                        pots:
                          type: array
                          description: Pot ids of the pots belonging to the group
                          items:
                            required:
                              - pot_id
                            properties:
                              pot_id:
                                type: string
                                example: pot-UKW3452850
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/pots/v1/value?investor_id=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/value?investor_id=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/pots/v1/value?investor_id=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/value?investor_id=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1/holdings:
    get:
      summary: Get total holdings of an Investor
      description: >-
        Get a breakdown of all the holdings(cash and investment product
        holdings) of an investor organised by the pot they belong to.
      operationId: getTotalPotHoldings
      tags:
        - Pots, Holdings and Transactions
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - name: investor_id
          description: Id of the investor
          schema:
            type: string
          in: query
          required: true
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - pots
                properties:
                  pots:
                    type: array
                    readOnly: true
                    items:
                      required:
                        - pot_id
                        - holdings
                      properties:
                        pot_id:
                          type: string
                          example: pot-GYQ5423100
                          readOnly: true
                        holdings:
                          type: array
                          readOnly: true
                          description: Array of holdings belonging to a respective pot
                          items:
                            required:
                              - investment_product_id
                              - currency
                              - total_value
                              - free_value
                              - locked_value
                            properties:
                              investment_product_id:
                                type: string
                                description: >-
                                  Investment product id of the holding. Will be
                                  'cash' for cash holdings
                                readOnly: true
                                example: F0573GBP1
                              investment_product_name:
                                type: string
                                description: >-
                                  Investment product name of the holding. Will
                                  be empty for cash holdings
                                readOnly: true
                                example: VG 500
                              price:
                                type: string
                                description: >-
                                  Last price available for the investment
                                  product. Will be empty for the cash holding
                                readOnly: true
                                example: '257.7856'
                              price_date:
                                type: string
                                format: date
                                description: >-
                                  Last price updated date for the investment
                                  product. Will be empty for the cash holding
                                readOnly: true
                                example: '2022-12-29'
                              currency:
                                type: string
                                description: Currency of the pot
                                readOnly: true
                                example: GBP
                              total_quantity:
                                type: string
                                description: >-
                                  Total quantity of the investment product
                                  holding. Will be empty for the cash holding
                                readOnly: true
                                example: '300'
                              total_value:
                                type: string
                                description: Total value of the holding
                                readOnly: true
                                example: '534.87'
                              free_quantity:
                                type: string
                                description: >-
                                  Free quantity of the investment product
                                  holding. Will be empty for the cash holding
                                readOnly: true
                                example: '30'
                              free_value:
                                type: string
                                description: Free value of the holding
                                readOnly: true
                                example: '34'
                              locked_quantity:
                                type: string
                                description: >-
                                  Locked quantity of the investment product
                                  holding. Will be empty for the cash holding
                                readOnly: true
                                example: '270'
                              locked_value:
                                type: string
                                description: Locked value of the holding
                                readOnly: true
                                example: '500.87'
                              average_book_cost:
                                type: string
                                description: >-
                                  Per-unit book cost for a particular holding
                                  (applicable for investment product holdings
                                  only)
                                readOnly: true
                                example: '34.89'
                              cost_of_holding:
                                type: string
                                description: >-
                                  Total book cost for the total units currently
                                  held within the pot (applicable for investment
                                  product holdings only)
                                readOnly: true
                                example: '876.98'
                              settled_cash_position:
                                type: string
                                description: >-
                                  Settled cash amount within the pot (applicable
                                  for cash holdings only)
                                readOnly: true
                                example: '56.90'
                              additional_external_details:
                                type: object
                                description: >-
                                  Additional external details of the holding.
                                  This may be populated in reconciliation
                                  process
                                readOnly: true
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/pots/v1/holdings?investor_id=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/holdings?investor_id=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/pots/v1/holdings?investor_id=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/holdings?investor_id=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1/{pot_id}:
    patch:
      summary: Update existing Pot details
      description: >-
        Update an existing Pot. The system will update only the fields sent in
        the payload.Field mentioned as Nullable can be deleted by updating those
        values with null. Sending empty values for fields will not update the
        fields.
      operationId: UpdatePot
      tags:
        - Pots, Holdings and Transactions
      requestBody:
        content:
          application/json:
            schema:
              title: Update Request Body for pot
              description: JSON for the Update pot resource type
              required:
                - reference_version
              properties:
                pot_name:
                  type: string
                  minLength: 1
                  maxLength: 50
                  example: Retirement Pot
                portfolio_template_id:
                  type: string
                  nullable: true
                  example: pft-c60c9472-6668-4f7a-aa69
                status:
                  type: string
                  enum:
                    - active
                    - inactive
                reference_version:
                  type: integer
                  example: 1
        required: true
      security:
        - ApiSecretKey: []
      responses:
        '200':
          content:
            application/json:
              schema:
                title: Single
                required:
                  - pot_id
                  - pot_name
                  - investor_id
                  - financial_product_id
                  - pot_currency
                  - status
                  - reference_version
                  - created_at
                  - updated_at
                properties:
                  pot_id:
                    type: string
                    example: pot-GYQ5423100
                    readOnly: true
                    maxLength: 64
                    description: system generated id
                  investor_id:
                    type: array
                    items:
                      type: string
                      example: inv-XUT11265
                  pot_name:
                    type: string
                    minLength: 1
                    maxLength: 50
                    example: Retirement Pot
                  financial_product_id:
                    type: string
                    example: general_investment_product
                  portfolio_template_id:
                    type: string
                    example: pft-c60c9472-6668-4f7a-aa69
                  pot_currency:
                    type: string
                    enum:
                      - GBP
                      - CAD
                      - USD
                    description: >-
                      If not populated, will be defaulted to tenancy
                      currency.<br>Currency should be enabled for Financial
                      Product. Tenancy currency is allowed by default,
                      additional currencies enabled for a product can be
                      identified using the “Get all financial products” end
                      point.
                  status:
                    type: string
                    enum:
                      - active
                      - inactive
                  reference_version:
                    type: integer
                    readOnly: true
                    example: 1
                  account_id:
                    type: string
                    example: SSISA0000000001
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
          description: success
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: path
          name: pot_id
          schema:
            type: string
          required: true
          description: Pot Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request PATCH \
              --url https://web_host_name/tenant/pots/v1/%7Bpot_id%7D \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"pot_name":"Retirement Pot","portfolio_template_id":"pft-c60c9472-6668-4f7a-aa69","status":"active","reference_version":1}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "PATCH",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/%7Bpot_id%7D",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              pot_name: 'Retirement Pot',
              portfolio_template_id: 'pft-c60c9472-6668-4f7a-aa69',
              status: 'active',
              reference_version: 1
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/pots/v1/%7Bpot_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Patch.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{\"pot_name\":\"Retirement
            Pot\",\"portfolio_template_id\":\"pft-c60c9472-6668-4f7a-aa69\",\"status\":\"active\",\"reference_version\":1}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/%7Bpot_id%7D\"\n\n\tpayload := strings.NewReader(\"{\\\"pot_name\\\":\\\"Retirement Pot\\\",\\\"portfolio_template_id\\\":\\\"pft-c60c9472-6668-4f7a-aa69\\\",\\\"status\\\":\\\"active\\\",\\\"reference_version\\\":1}\")\n\n\treq, _ := http.NewRequest(\"PATCH\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    get:
      summary: Retrive existing pot from pot id
      operationId: getPot
      tags:
        - Pots, Holdings and Transactions
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                title: Single
                required:
                  - pot_id
                  - pot_name
                  - investor_id
                  - financial_product_id
                  - pot_currency
                  - status
                  - reference_version
                  - created_at
                  - updated_at
                properties:
                  pot_id:
                    type: string
                    example: pot-GYQ5423100
                    readOnly: true
                    maxLength: 64
                    description: system generated id
                  investor_id:
                    type: array
                    items:
                      type: string
                      example: inv-XUT11265
                  pot_name:
                    type: string
                    minLength: 1
                    maxLength: 50
                    example: Retirement Pot
                  financial_product_id:
                    type: string
                    example: general_investment_product
                  portfolio_template_id:
                    type: string
                    example: pft-c60c9472-6668-4f7a-aa69
                  pot_currency:
                    type: string
                    enum:
                      - GBP
                      - CAD
                      - USD
                    description: >-
                      If not populated, will be defaulted to tenancy
                      currency.<br>Currency should be enabled for Financial
                      Product. Tenancy currency is allowed by default,
                      additional currencies enabled for a product can be
                      identified using the “Get all financial products” end
                      point.
                  status:
                    type: string
                    enum:
                      - active
                      - inactive
                  reference_version:
                    type: integer
                    readOnly: true
                    example: 1
                  account_id:
                    type: string
                    example: SSISA0000000001
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: pot_id
          description: Pot Id
          schema:
            type: string
          in: path
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/pots/v1/%7Bpot_id%7D \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/%7Bpot_id%7D",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: |-
            require 'uri'
            require 'net/http'
            require 'openssl'

            url = URI("https://web_host_name/tenant/pots/v1/%7Bpot_id%7D")

            http = Net::HTTP.new(url.host, url.port)
            http.use_ssl = true
            http.verify_mode = OpenSSL::SSL::VERIFY_NONE

            request = Net::HTTP::Get.new(url)
            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            response = http.request(request)
            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/%7Bpot_id%7D\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1/{pot_id}/value:
    get:
      summary: Get current value of a pot
      description: >-
        Get the current value of the pot (including cash and investment product
        holdings)
      operationId: getPotValue
      tags:
        - Pots, Holdings and Transactions
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - pot_id
                  - pot_currency
                  - total_value
                  - total_free_value
                  - total_locked_value
                  - total_cash_value
                  - total_free_cash_value
                  - total_locked_cash_value
                  - settled_cash_position
                properties:
                  pot_id:
                    type: string
                    description: Unique id of the pot
                    example: pot-UKW3452850
                  pot_currency:
                    type: string
                    description: Currency of the pot
                    example: GBP
                  total_value:
                    type: string
                    description: Total value of holdings of the pot
                    example: '600'
                  total_free_value:
                    type: string
                    description: Total free value of holdings of the pot
                    example: '300'
                  total_locked_value:
                    type: string
                    description: Total locked value of holdings of the pot
                    example: '300'
                  total_cash_value:
                    type: string
                    description: Total cash value of holdings of the pot
                    example: '250'
                  total_free_cash_value:
                    type: string
                    description: Total free cash value of holdings of the pot
                    example: '50'
                  total_locked_cash_value:
                    type: string
                    description: Total locked cash value of holdings of the pot
                    example: '200'
                  settled_cash_position:
                    type: string
                    description: Total settled cash value of holdings of the pot
                    example: '334.87'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: pot_id
          description: Pot Id
          schema:
            type: string
          in: path
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/pots/v1/%7Bpot_id%7D/value \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/%7Bpot_id%7D/value",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: |-
            require 'uri'
            require 'net/http'
            require 'openssl'

            url = URI("https://web_host_name/tenant/pots/v1/%7Bpot_id%7D/value")

            http = Net::HTTP.new(url.host, url.port)
            http.use_ssl = true
            http.verify_mode = OpenSSL::SSL::VERIFY_NONE

            request = Net::HTTP::Get.new(url)
            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            response = http.request(request)
            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/%7Bpot_id%7D/value\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1/{pot_id}/holdings:
    get:
      summary: Get current holdings of a pot
      description: >-
        Get a breakdown of all the holdings of a pot (cash and investment
        product holdings)
      operationId: getPotHoldings
      tags:
        - Pots, Holdings and Transactions
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - pot_id
                  - holdings
                properties:
                  pot_id:
                    type: string
                    example: pot-GYQ5423100
                    readOnly: true
                  holdings:
                    type: array
                    readOnly: true
                    description: Array of holdings belonging to a respective pot
                    items:
                      required:
                        - investment_product_id
                        - currency
                        - total_value
                        - free_value
                        - locked_value
                      properties:
                        investment_product_id:
                          type: string
                          description: >-
                            Investment product id of the holding. Will be 'cash'
                            for cash holdings
                          readOnly: true
                          example: F0573GBP1
                        investment_product_name:
                          type: string
                          description: >-
                            Investment product name of the holding. Will be
                            empty for cash holdings
                          readOnly: true
                          example: VG 500
                        price:
                          type: string
                          description: >-
                            Last price available for the investment product.
                            Will be empty for the cash holding
                          readOnly: true
                          example: '257.7856'
                        price_date:
                          type: string
                          format: date
                          description: >-
                            Last price updated date for the investment product.
                            Will be empty for the cash holding
                          readOnly: true
                          example: '2022-12-29'
                        currency:
                          type: string
                          description: Currency of the pot
                          readOnly: true
                          example: GBP
                        total_quantity:
                          type: string
                          description: >-
                            Total quantity of the investment product holding.
                            Will be empty for the cash holding
                          readOnly: true
                          example: '300'
                        total_value:
                          type: string
                          description: Total value of the holding
                          readOnly: true
                          example: '534.87'
                        free_quantity:
                          type: string
                          description: >-
                            Free quantity of the investment product holding.
                            Will be empty for the cash holding
                          readOnly: true
                          example: '30'
                        free_value:
                          type: string
                          description: Free value of the holding
                          readOnly: true
                          example: '34'
                        locked_quantity:
                          type: string
                          description: >-
                            Locked quantity of the investment product holding.
                            Will be empty for the cash holding
                          readOnly: true
                          example: '270'
                        locked_value:
                          type: string
                          description: Locked value of the holding
                          readOnly: true
                          example: '500.87'
                        average_book_cost:
                          type: string
                          description: >-
                            Per-unit book cost for a particular holding
                            (applicable for investment product holdings only)
                          readOnly: true
                          example: '34.89'
                        cost_of_holding:
                          type: string
                          description: >-
                            Total book cost for the total units currently held
                            within the pot (applicable for investment product
                            holdings only)
                          readOnly: true
                          example: '876.98'
                        settled_cash_position:
                          type: string
                          description: >-
                            Settled cash amount within the pot (applicable for
                            cash holdings only)
                          readOnly: true
                          example: '56.90'
                        additional_external_details:
                          type: object
                          description: >-
                            Additional external details of the holding. This may
                            be populated in reconciliation process
                          readOnly: true
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: pot_id
          description: Pot Id
          schema:
            type: string
          in: path
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/pots/v1/%7Bpot_id%7D/holdings \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/%7Bpot_id%7D/holdings",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/pots/v1/%7Bpot_id%7D/holdings")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/%7Bpot_id%7D/holdings\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1/{pot_id}/transactions:
    get:
      summary: Get pending & past transactions of a pot
      description: >-
        Get a list of pending and archived transactions of the pot by date
        range. Only last 1000 records will be recieved if the result contain
        more that 1000 transactions. In that case, the pagination should be
        used.
      operationId: getPotTransactions
      tags:
        - Pots, Holdings and Transactions
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - pot_id
                  - transactions
                  - next_page_available
                properties:
                  pot_id:
                    type: string
                    readOnly: true
                    example: pot-UKW3452850
                  transactions:
                    type: array
                    readOnly: true
                    items:
                      required:
                        - transaction_id
                        - created_at
                        - updated_at
                        - primary_transaction_type
                        - sub_transaction_type
                        - investment_product_id
                        - currency
                        - direction
                        - type
                        - sub_type
                        - origin
                      properties:
                        parent_transaction_id:
                          type: string
                          description: Unique identifier for the parent transaction
                          readOnly: true
                        transaction_id:
                          type: string
                          description: Unique identifier for the transaction
                          readOnly: true
                        aggregated_transaction_id:
                          type: string
                          description: >-
                            Unique identifier for the aggregated transaction.
                            Only applicable for Switch Buy, Switch Sell,
                            Rebalance Buy, Rebalance Sell, Tax Relief and Bonus
                            Claim transactions
                          readOnly: true
                        external_transaction_reference:
                          type: string
                          description: External Transaction Reference
                          readOnly: true
                        created_at:
                          format: date-time
                          description: Indicates the transaction creation date/time
                          readOnly: true
                        updated_at:
                          format: date-time
                          description: >-
                            Indicates the last updated date/time of the
                            transaction
                          readOnly: true
                        primary_transaction_type:
                          type: string
                          description: Primary transaction type
                          readOnly: true
                          enum:
                            - Fees
                            - Buy
                            - Sell
                            - Transfers
                            - Income
                            - Tax
                            - Contribution
                            - Withdrawal
                            - Corporate actions
                        sub_transaction_type:
                          type: string
                          description: Sub transaction type
                          readOnly: true
                          enum:
                            - Dividend Reinvestment
                            - Interest Reinvestment
                            - Reinvestment
                            - Buy
                            - Sell Cancel
                            - Switch Buy
                            - Sell
                            - Buy Cancel
                            - Switch Sell
                            - Lump sum
                            - Lump sum - non relievable
                            - Employer contribution
                            - Employee contribution
                            - Regular contribution
                            - Regular contribution - non relievable
                            - Regular contribution - Employer
                            - Payment in for fees
                            - Internal Transfer - Cash In
                            - Internal Transfer - Stock In
                            - Internal Transfer - Cash Out
                            - Internal Transfer - Stock Out
                            - Stock Transfer In
                            - Cash Transfer In
                            - Stock Transfer Out
                            - Cash Transfer Out
                            - Commission
                            - Ancillary fee
                            - Management fee
                            - Fee credit
                            - Fee rebate
                            - Advisor ongoing fee
                            - One-off advisor fee
                            - Commission rebate
                            - Custody fees
                            - Service fees
                            - Product administration fees
                            - Portfolio management fees
                            - Platform fees
                            - Dividends
                            - Distributions
                            - Interest
                            - Other income
                            - Takeovers, Mergers & Name Changes - Create
                            - Takeovers, Mergers & Name Changes - Extinguish
                            - Rights Expiry
                            - Rights Exercise
                            - Warrant Exercise
                            - Fixed Income Maturity - Receive Capital
                            - Fixed Income Maturity - Extinguish Bond Units
                            - Fund Merger - Create New Fund Units
                            - Fund Merger - Extinguish Old Fund Units
                            - Rights Issue
                            - Stock Dividend
                            - Spin-Off
                            - Warrant Issue
                            - Stock Split
                            - Fee Tax
                            - Tax Relief
                            - GST
                            - HST
                            - PST
                            - QST
                            - Withholding Tax
                            - PAYE Tax
                            - Non-resident Tax
                            - Penalty
                            - Contribution Refund
                            - Income Withdrawal
                            - Reversal
                            - Withdrawal
                            - Miscellaneous Corporate Action Exercise
                            - PCLS Withdrawal
                            - Withdrawal Charge
                            - Contribution Bonus
                        investment_product_id:
                          type: string
                          description: >-
                            Investment product id of the transaction. Will be
                            'cash' for cash transaction
                          readOnly: true
                        fee_origin_pot:
                          type: string
                          description: >-
                            (optional) Fee originated pot for the fee
                            transactions
                          readOnly: true
                        client_order_id:
                          type: string
                          maxLength: 20
                          description: >-
                            (optional) Order identifier assigned by the wealth
                            manager
                        transaction_quantity:
                          type: string
                          description: >-
                            Quantity of the investment product transaction. Will
                            be empty for the cash transactions.
                          readOnly: true
                        transaction_value:
                          type: string
                          description: Value of the transaction. Up to 2 decimal values
                          readOnly: true
                        execution_price:
                          type: string
                          description: Executed price of the buy, sell transaction
                          readOnly: true
                        trade_date:
                          type: string
                          format: date
                          description: Date the transaction was effected
                          readOnly: true
                        settlement_date:
                          type: string
                          format: date
                          description: >-
                            Intended settlement date of the pending transaction
                            or actual the settled day of the transaction
                          readOnly: true
                        currency:
                          type: string
                          description: Currency of the transaction
                          readOnly: true
                        direction:
                          type: string
                          description: >-
                            in = cash payment or pending buy transaction, out =
                            cash out or pending sell transaction.
                          readOnly: true
                          enum:
                            - in
                            - out
                        type:
                          type: string
                          description: State of the transaction
                          readOnly: true
                          enum:
                            - pending
                            - archived
                        sub_type:
                          type: string
                          description: >-
                            Sub state of the transaction. instructed, confirmed,
                            priced sub_types applicable for pending state and
                            rejected, cancelled, settled sub_types applicable
                            for archived state
                          readOnly: true
                          enum:
                            - instructed
                            - confirmed
                            - priced
                            - rejected
                            - settled
                            - cancelled
                            - scheduled
                            - failed
                        external_status:
                          type: string
                          description: Externel status of the transaction
                          readOnly: true
                          enum:
                            - Submitted to HMRC
                            - Submission pending
                            - HMRC submission failed
                            - HMRC resubmission failed
                            - HMRC update failed
                            - Pending
                            - Paid
                            - Cancelled
                            - Void
                            - Due
                            - Collected
                            - Superseded
                        additional_external_details:
                          type: object
                          description: >-
                            Additional external details of the transaction, This
                            may be populated in reconciliation process
                          readOnly: true
                        origin:
                          type: string
                          description: Origin of the transaction
                          readOnly: true
                          enum:
                            - api
                            - admin_ui
                            - file_upload
                            - system
                        source_id:
                          type: string
                          description: >-
                            Required only for transactions created for payments
                            intents - employer contributions for SIPP
                            Accumulation Products
                        reason:
                          type: string
                          description: >-
                            This field populated only when status is failed or
                            cancelled, with reason for cancellation or failure
                        withdrawal_charge_applicable:
                          type: boolean
                          description: >-
                            Mandatory for LISA financial products only. Flag to
                            indicate if a withdrawal charge is applicable on the
                            gross withdrawal amount
                          readOnly: true
                          enum:
                            - true
                            - false
                        withdrawal_charge:
                          type: string
                          description: >-
                            Applicable for LISA financial products only.
                            Mandatory only if the withdrawal_charge_applicable =
                            true. Value of the withdrawal charge applicable for
                            the unauthorized withdrawal
                      example:
                        transaction_id: 80784c92-8f9d-4150-b83c-dc6d217a8155
                        created_at: '2023-01-27T05:45:56.839Z'
                        updated_at: '2023-01-27T05:45:56.839Z'
                        primary_transaction_type: Contribution
                        sub_transaction_type: Lump sum
                        investment_product_id: cash
                        transaction_value: '20000'
                        settlement_date: '2023-01-27'
                        currency: GBP
                        direction: in
                        type: archived
                        sub_type: settled
                        origin: api
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: pot_id
          description: Pot Id
          schema:
            type: string
          in: path
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - name: from
          description: >-
            From timestamp for the query. This must be in ISO format. Eg.
            2021-08-12T07:54:47.011Z. If not present the from is set to
            2000-01-01T00:00:00.000Z
          schema:
            type: string
          in: query
          required: false
        - name: to
          description: >-
            To timestamp for the query. This must be in ISO format. Eg.
            2021-08-12T07:54:47.011Z. If not present the to is set to current
            time.
          schema:
            type: string
          in: query
          required: false
        - name: sub_transaction_type
          description: >-
            Sub transaction type of the transactions to be retrieved from the
            API
          schema:
            type: string
          in: query
          required: false
        - name: page_size
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 1000 and 1. Max page size is 8000.
            Results are sorted decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: page_number
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 1000 and 1. Results are sorted
            decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: sort
          description: Sorting order; results are sorted by creation time.
          schema:
            type: string
            default: desc
            enum:
              - asc
              - desc
          in: query
          required: false
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/pots/v1/%7Bpot_id%7D/transactions?from=SOME_STRING_VALUE&to=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/%7Bpot_id%7D/transactions?from=SOME_STRING_VALUE&to=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/pots/v1/%7Bpot_id%7D/transactions?from=SOME_STRING_VALUE&to=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/%7Bpot_id%7D/transactions?from=SOME_STRING_VALUE&to=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/investment-products/v1:
    get:
      description: >-
        Returns all the investment products configured for this tenancy. Request
        can be filtered by status to return all `active` or `inactive`
        investment products
      summary: Get Configured Investment Products
      operationId: getConfiguredInvestmentProducts
      tags:
        - Investment Products
      security:
        - ApiSecretKey: []
      parameters:
        - in: query
          name: status
          description: >-
            status of investment product. If empty will return all investment
            products.
          schema:
            type: string
            enum:
              - active
              - inactive
        - name: page_size
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 1000 and 1. Max page size is 3000.
            Results are sorted decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: page_number
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 1000 and 1. Results are sorted
            decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - investment_products
                  - next_page_available
                type: object
                properties:
                  investment_products:
                    type: array
                    items:
                      required:
                        - investment_product_id
                        - asset_type
                        - status
                        - created_at
                        - updated_at
                      properties:
                        investment_product_id:
                          type: string
                          readOnly: true
                          description: Unique identifier of an investment product
                          example: MAX2854
                        asset_type:
                          type: string
                          readOnly: true
                          description: Category of the investment product
                          enum:
                            - funds
                        status:
                          type: string
                          readOnly: true
                          description: Status of the investment product
                          enum:
                            - active
                            - inactive
                        name:
                          type: string
                          readOnly: true
                          description: Investment product name
                          example: Canada Life Canadian Growth T5
                        created_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-08T07:36:05.884Z'
                        updated_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-10T07:36:05.884Z'
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/investment-products/v1?status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investment-products/v1?status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investment-products/v1?status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investment-products/v1?status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/investment-products/v1/current-prices:
    get:
      description: >-
        Returns current prices of all the investment products configured for
        this tenancy
      summary: Get Current Prices of all Investment Products
      operationId: getConfiguredInvestmentProductPrices
      tags:
        - Investment Products
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - name: page_size
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 1000 and 1. Max page size is 15000.
            Results are sorted decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: page_number
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 1000 and 1. Results are sorted
            decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: status
          description: >-
            status of investment product. If empty will return all investment
            products.
          schema:
            type: string
            enum:
              - active
              - inactive
          in: query
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - investment_product_unit_prices
                  - next_page_available
                type: object
                properties:
                  investment_product_unit_prices:
                    type: array
                    items:
                      required:
                        - investment_product_id
                        - current_price
                        - currency
                        - price_on_date
                      properties:
                        investment_product_id:
                          type: string
                          readOnly: true
                          example: FUND345
                        current_price:
                          type: string
                          readOnly: true
                          description: Numeral string with two decimal point precision
                          example: '45.78'
                        currency:
                          type: string
                          readOnly: true
                          description: Currency of the current price
                          example: GBP
                        price_on_date:
                          type: string
                          format: date
                          readOnly: true
                          example: '2019-08-24'
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/investment-products/v1/current-prices?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&status=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investment-products/v1/current-prices?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&status=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investment-products/v1/current-prices?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&status=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investment-products/v1/current-prices?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&status=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/investment-products/v1/{investment_product_id}:
    get:
      description: Returns the requested investment product
      summary: Get details of a given Investment Product
      operationId: getInvestmentProduct
      tags:
        - Investment Products
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - investment_product_id
                  - id_type
                  - asset_type
                  - pricing_method
                  - additional_provider_details
                  - currency
                  - applicable_financial_products
                  - settlement_date_offset
                  - status
                  - close_price
                  - close_price_on_date
                  - created_at
                  - updated_at
                properties:
                  investment_product_id:
                    type: string
                    readOnly: true
                    example: MAX2854
                    description: Unique identifier of an investment product
                  id_type:
                    type: string
                    readOnly: true
                    description: The type of id that is populated as investment_product_id
                    enum:
                      - ISIN
                      - CUSIP
                      - FundServID
                  name:
                    type: string
                    readOnly: true
                    description: Investment product name
                    example: Canada Life Canadian Growth T5
                  asset_type:
                    type: string
                    readOnly: true
                    description: Category of the investment product
                    enum:
                      - funds
                  asset_sub_type:
                    type: string
                    readOnly: true
                    example: Canadian Open End
                    description: Sub-category of the investment product
                  currency:
                    type: string
                    readOnly: true
                    example: CAD
                    description: currency of the investment product in ISO 4217 format
                  pricing_method:
                    type: string
                    readOnly: true
                    example: NAV
                    description: Method used to calculate the investment product price
                  fund_asset_type:
                    type: string
                    readOnly: true
                    example: Mutual Funds
                    description: >-
                      Sub-type of investment product. Relevant for investment
                      products of type fund only
                  fund_code:
                    type: string
                    readOnly: true
                    example: MAX2854
                    description: >-
                      Fund code identifier. Relevant for investment products of
                      type fund
                  applicable_financial_products:
                    type: array
                    readOnly: true
                    description: >-
                      Financial products this investment product is applicable
                      for
                    items:
                      type: string
                      enum:
                        - gia
                        - isa
                        - pension
                  settlement_date_offset:
                    type: number
                    readOnly: true
                    example: 3
                    description: settlement date offset of investment product
                  status:
                    type: string
                    readOnly: true
                    description: Status of the investment product
                    enum:
                      - active
                      - inactive
                  close_price:
                    type: string
                    readOnly: true
                    example: '12.745'
                    description: The final price for the day of the investment product
                  close_price_on_date:
                    type: string
                    format: date
                    readOnly: true
                    example: '2021-09-03'
                    description: >-
                      Exact day the close_price was recorded for the investment
                      product
                  additional_provider_details:
                    type: object
                    readOnly: true
                    description: >-
                      Supplies additional custom information of an investment
                      product
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: investment_product_id
          description: Investment Product Id
          schema:
            type: string
          in: path
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/investment-products/v1/%7Binvestment_product_id%7D \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investment-products/v1/%7Binvestment_product_id%7D",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investment-products/v1/%7Binvestment_product_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investment-products/v1/%7Binvestment_product_id%7D\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/investment-products/v1/{investment_product_id}/current-price:
    get:
      description: Returns current price of the requested investment product
      summary: Get Current Price of an Investment Product
      operationId: getInvestmentProductPrice
      tags:
        - Investment Products
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - investment_product_id
                  - current_price
                  - currency
                  - price_on_date
                properties:
                  investment_product_id:
                    type: string
                    readOnly: true
                    example: FUND345
                  current_price:
                    type: string
                    readOnly: true
                    description: Numeral string with two decimal point precision
                    example: '45.78'
                  currency:
                    type: string
                    readOnly: true
                    description: Currency of the current price
                    example: GBP
                  price_on_date:
                    type: string
                    format: date
                    readOnly: true
                    example: '2019-08-24'
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: investment_product_id
          description: Investment Product Id
          schema:
            type: string
          in: path
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/investment-products/v1/%7Binvestment_product_id%7D/current-price \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investment-products/v1/%7Binvestment_product_id%7D/current-price",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investment-products/v1/%7Binvestment_product_id%7D/current-price")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investment-products/v1/%7Binvestment_product_id%7D/current-price\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/portfolio-templates/v1/:
    get:
      tags:
        - Portfolio Templates
      security:
        - ApiSecretKey: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Array of all portfolio templates applicable to the investor
                required:
                  - portfolio_templates
                type: object
                properties:
                  portfolio_templates:
                    type: array
                    items:
                      required:
                        - portfolio_template_id
                        - reference_version
                        - portfolio_name
                        - ratios
                        - owner
                        - created_at
                        - updated_at
                      properties:
                        portfolio_template_id:
                          type: string
                          readOnly: true
                          description: system generated id
                          maxLength: 64
                          example: pft-c60c9472-6668-4f7a-aa69
                        portfolio_name:
                          type: string
                          minLength: 3
                          maxLength: 50
                          example: PFT5689
                        reference_version:
                          type: integer
                          readOnly: true
                          example: 1
                        owner:
                          type: string
                          readOnly: true
                          example: SYSTEM
                        ratios:
                          type: array
                          items:
                            required:
                              - investment_product_id
                              - ratio
                            properties:
                              investment_product_id:
                                type: string
                                description: must be an investment product id or 'cash'
                              ratio:
                                type: string
                                description: >-
                                  must be in correct pattern (eg: 25.00, 33.34,
                                  50.25, 100.00)
                          example:
                            - investment_product_id: ETF069GBP
                              ratio: '60'
                            - investment_product_id: BND058GBP
                              ratio: '40'
                        created_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-08T07:36:05.884Z'
                        updated_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-10T07:36:05.884Z'
          description: success
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: getAllPortfolioTemplates
      summary: Get all the Portfolio templates
      description: Get all the portfolio templates
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/portfolio-templates/v1/ \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/portfolio-templates/v1/",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: |-
            require 'uri'
            require 'net/http'
            require 'openssl'

            url = URI("https://web_host_name/tenant/portfolio-templates/v1/")

            http = Net::HTTP.new(url.host, url.port)
            http.use_ssl = true
            http.verify_mode = OpenSSL::SSL::VERIFY_NONE

            request = Net::HTTP::Get.new(url)
            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            response = http.request(request)
            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/portfolio-templates/v1/\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    post:
      summary: Create new Portfolio Template
      operationId: createPortfolioTemplate
      tags:
        - Portfolio Templates
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - portfolio_template_id
                - reference_version
                - portfolio_name
                - ratios
              properties:
                portfolio_template_id:
                  type: string
                  readOnly: true
                  description: system generated id
                  maxLength: 64
                  example: pft-c60c9472-6668-4f7a-aa69
                portfolio_name:
                  type: string
                  example: PFT5689
                owner:
                  type: string
                  readOnly: true
                  example: SYSTEM
                ratios:
                  type: array
                  items:
                    required:
                      - investment_product_id
                      - ratio
                    properties:
                      investment_product_id:
                        type: string
                        description: must be an investment product id or 'cash'
                      ratio:
                        type: string
                        description: >-
                          must be in correct pattern (eg: 25.00, 33.34, 50.25,
                          100.00)
                  example:
                    - investment_product_id: ETF069GBP
                      ratio: '60'
                    - investment_product_id: BND058GBP
                      ratio: '40'
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                required:
                  - portfolio_template_id
                  - reference_version
                  - portfolio_name
                  - ratios
                  - owner
                  - created_at
                  - updated_at
                properties:
                  portfolio_template_id:
                    type: string
                    readOnly: true
                    description: system generated id
                    maxLength: 64
                    example: pft-c60c9472-6668-4f7a-aa69
                  portfolio_name:
                    type: string
                    minLength: 3
                    maxLength: 50
                    example: PFT5689
                  reference_version:
                    type: integer
                    readOnly: true
                    example: 1
                  owner:
                    type: string
                    readOnly: true
                    example: SYSTEM
                  ratios:
                    type: array
                    items:
                      required:
                        - investment_product_id
                        - ratio
                      properties:
                        investment_product_id:
                          type: string
                          description: must be an investment product id or 'cash'
                        ratio:
                          type: string
                          description: >-
                            must be in correct pattern (eg: 25.00, 33.34, 50.25,
                            100.00)
                    example:
                      - investment_product_id: ETF069GBP
                        ratio: '60'
                      - investment_product_id: BND058GBP
                        ratio: '40'
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/portfolio-templates/v1/ \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"portfolio_name":"PFT5689","ratios":[{"investment_product_id":"ETF069GBP","ratio":"60"},{"investment_product_id":"BND058GBP","ratio":"40"}]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/portfolio-templates/v1/",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              portfolio_name: 'PFT5689',
              ratios: [
                {investment_product_id: 'ETF069GBP', ratio: '60'},
                {investment_product_id: 'BND058GBP', ratio: '40'}
              ]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/portfolio-templates/v1/")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"portfolio_name\":\"PFT5689\",\"ratios\":[{\"investment_product_id\":\"ETF069GBP\",\"ratio\":\"60\"},{\"investment_product_id\":\"BND058GBP\",\"ratio\":\"40\"}]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/portfolio-templates/v1/\"\n\n\tpayload := strings.NewReader(\"{\\\"portfolio_name\\\":\\\"PFT5689\\\",\\\"ratios\\\":[{\\\"investment_product_id\\\":\\\"ETF069GBP\\\",\\\"ratio\\\":\\\"60\\\"},{\\\"investment_product_id\\\":\\\"BND058GBP\\\",\\\"ratio\\\":\\\"40\\\"}]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/portfolio-templates/v1/{portfolio_template_id}:
    get:
      summary: Retrive existing Portfolio template
      operationId: getPortfolioTemplate
      tags:
        - Portfolio Templates
      security:
        - ApiSecretKey: []
      parameters:
        - name: portfolio_template_id
          description: Portfolio ID
          schema:
            type: string
          in: path
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - portfolio_template_id
                  - reference_version
                  - portfolio_name
                  - ratios
                  - owner
                  - created_at
                  - updated_at
                properties:
                  portfolio_template_id:
                    type: string
                    readOnly: true
                    description: system generated id
                    maxLength: 64
                    example: pft-c60c9472-6668-4f7a-aa69
                  portfolio_name:
                    type: string
                    minLength: 3
                    maxLength: 50
                    example: PFT5689
                  reference_version:
                    type: integer
                    readOnly: true
                    example: 1
                  owner:
                    type: string
                    readOnly: true
                    example: SYSTEM
                  ratios:
                    type: array
                    items:
                      required:
                        - investment_product_id
                        - ratio
                      properties:
                        investment_product_id:
                          type: string
                          description: must be an investment product id or 'cash'
                        ratio:
                          type: string
                          description: >-
                            must be in correct pattern (eg: 25.00, 33.34, 50.25,
                            100.00)
                    example:
                      - investment_product_id: ETF069GBP
                        ratio: '60'
                      - investment_product_id: BND058GBP
                        ratio: '40'
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/portfolio-templates/v1/%7Bportfolio_template_id%7D \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/portfolio-templates/v1/%7Bportfolio_template_id%7D",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/portfolio-templates/v1/%7Bportfolio_template_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/portfolio-templates/v1/%7Bportfolio_template_id%7D\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    patch:
      summary: Update existing Portfolio template
      operationId: updatePortfolioTemplate
      tags:
        - Portfolio Templates
      security:
        - ApiSecretKey: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - reference_version
              properties:
                portfolio_name:
                  type: string
                  minLength: 3
                  maxLength: 50
                  example: PFT5689
                ratios:
                  type: array
                  description: Replaces the array in the server.
                  items:
                    required:
                      - investment_product_id
                      - ratio
                    properties:
                      investment_product_id:
                        type: string
                        description: must be an investment product id or 'cash'
                      ratio:
                        type: string
                        description: >-
                          must be in correct pattern (eg: 25.00, 33.34, 50.25,
                          100.00)
                reference_version:
                  type: integer
                  description: Must match with the reference version in the server
                  example: 1
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - portfolio_template_id
                  - reference_version
                  - portfolio_name
                  - ratios
                  - owner
                  - created_at
                  - updated_at
                properties:
                  portfolio_template_id:
                    type: string
                    readOnly: true
                    description: system generated id
                    maxLength: 64
                    example: pft-c60c9472-6668-4f7a-aa69
                  portfolio_name:
                    type: string
                    minLength: 3
                    maxLength: 50
                    example: PFT5689
                  reference_version:
                    type: integer
                    readOnly: true
                    example: 1
                  owner:
                    type: string
                    readOnly: true
                    example: SYSTEM
                  ratios:
                    type: array
                    items:
                      required:
                        - investment_product_id
                        - ratio
                      properties:
                        investment_product_id:
                          type: string
                          description: must be an investment product id or 'cash'
                        ratio:
                          type: string
                          description: >-
                            must be in correct pattern (eg: 25.00, 33.34, 50.25,
                            100.00)
                    example:
                      - investment_product_id: ETF069GBP
                        ratio: '60'
                      - investment_product_id: BND058GBP
                        ratio: '40'
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: portfolio_template_id
          description: Portfolio ID
          schema:
            type: string
          in: path
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request PATCH \
              --url https://web_host_name/tenant/portfolio-templates/v1/%7Bportfolio_template_id%7D \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"portfolio_name":"PFT5689","ratios":[{"investment_product_id":"string","ratio":"string"}],"reference_version":1}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "PATCH",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/portfolio-templates/v1/%7Bportfolio_template_id%7D",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              portfolio_name: 'PFT5689',
              ratios: [{investment_product_id: 'string', ratio: 'string'}],
              reference_version: 1
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/portfolio-templates/v1/%7Bportfolio_template_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Patch.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"portfolio_name\":\"PFT5689\",\"ratios\":[{\"investment_product_id\":\"string\",\"ratio\":\"string\"}],\"reference_version\":1}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/portfolio-templates/v1/%7Bportfolio_template_id%7D\"\n\n\tpayload := strings.NewReader(\"{\\\"portfolio_name\\\":\\\"PFT5689\\\",\\\"ratios\\\":[{\\\"investment_product_id\\\":\\\"string\\\",\\\"ratio\\\":\\\"string\\\"}],\\\"reference_version\\\":1}\")\n\n\treq, _ := http.NewRequest(\"PATCH\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/transactions/v1/:
    get:
      tags:
        - Transactions
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - transactions
                  - next_page_available
                properties:
                  transactions:
                    type: array
                    readOnly: true
                    items:
                      required:
                        - transaction_id
                        - created_at
                        - updated_at
                        - primary_transaction_type
                        - sub_transaction_type
                        - investment_product_id
                        - direction
                        - type
                        - sub_type
                        - origin
                      properties:
                        parent_transaction_id:
                          type: string
                          description: Unique identifier for the parent transaction
                          readOnly: true
                        transaction_id:
                          type: string
                          description: Unique identifier for the transaction
                          readOnly: true
                        aggregated_transaction_id:
                          type: string
                          description: >-
                            Unique identifier for the aggregated transaction.
                            Only applicable for Switch Buy, Switch Sell,
                            Rebalance Buy, Rebalance Sell, Tax Relief and Bonus
                            Claim transactions
                          readOnly: true
                        external_transaction_reference:
                          type: string
                          description: External Transaction Reference
                          readOnly: true
                        created_at:
                          type: string
                          description: Indicates the transaction creation date/time
                          readOnly: true
                        updated_at:
                          type: string
                          description: >-
                            Indicates the last updated date/time of the
                            transaction
                          readOnly: true
                        primary_transaction_type:
                          type: string
                          description: Primary transaction type
                          readOnly: true
                          enum:
                            - Fees
                            - Buy
                            - Sell
                            - Transfers
                            - Income
                            - Tax
                            - Contribution
                            - Withdrawal
                            - Corporate actions
                        sub_transaction_type:
                          type: string
                          description: Sub transaction type
                          readOnly: true
                          enum:
                            - Dividend Reinvestment
                            - Interest Reinvestment
                            - Reinvestment
                            - Buy
                            - Sell Cancel
                            - Switch Buy
                            - Sell
                            - Buy Cancel
                            - Switch Sell
                            - Lump sum
                            - Lump sum - non relievable
                            - Employer contribution
                            - Employee contribution
                            - Regular contribution
                            - Regular contribution - non relievable
                            - Regular contribution - Employer
                            - Payment in for fees
                            - Internal Transfer - Cash In
                            - Internal Transfer - Stock In
                            - Internal Transfer - Cash Out
                            - Internal Transfer - Stock Out
                            - Stock Transfer In
                            - Cash Transfer In
                            - Stock Transfer Out
                            - Cash Transfer Out
                            - Commission
                            - Ancillary fee
                            - Management fee
                            - Fee credit
                            - Fee rebate
                            - Advisor ongoing fee
                            - One-off advisor fee
                            - Commission rebate
                            - Custody fees
                            - Service fees
                            - Product administration fees
                            - Portfolio management fees
                            - Platform fees
                            - Dividends
                            - Distributions
                            - Interest
                            - Other income
                            - Takeovers, Mergers & Name Changes - Create
                            - Takeovers, Mergers & Name Changes - Extinguish
                            - Rights Expiry
                            - Rights Exercise
                            - Warrant Exercise
                            - Fixed Income Maturity - Receive Capital
                            - Fixed Income Maturity - Extinguish Bond Units
                            - Fund Merger - Create New Fund Units
                            - Fund Merger - Extinguish Old Fund Units
                            - Rights Issue
                            - Stock Dividend
                            - Spin-Off
                            - Warrant Issue
                            - Stock Split
                            - Fee Tax
                            - Tax Relief
                            - GST
                            - HST
                            - PST
                            - QST
                            - Withholding Tax
                            - PAYE Tax
                            - Non-resident Tax
                            - Penalty
                            - Contribution Refund
                            - Income Withdrawal
                            - Reversal
                            - Withdrawal
                            - Miscellaneous Corporate Action Exercise
                            - PCLS Withdrawal
                            - Withdrawal Charge
                        investment_product_id:
                          type: string
                          description: >-
                            Investment product id of the transaction. Will be
                            'cash' for cash transaction
                          readOnly: true
                        fee_origin_pot:
                          type: string
                          description: >-
                            (optional) Fee originated pot for the fee
                            transactions
                          readOnly: true
                        client_order_id:
                          type: string
                          maxLength: 20
                          description: >-
                            (optional) Order identifier assigned by the wealth
                            manager
                        transaction_quantity:
                          type: string
                          description: >-
                            Quantity of the investment product transaction. Will
                            be empty for the cash transactions
                          readOnly: true
                        transaction_value:
                          type: number
                          description: Value of the transaction. Up to 2 decimal values
                          readOnly: true
                        execution_price:
                          type: string
                          description: Executed price of the buy, sell transaction
                          readOnly: true
                        trade_date:
                          type: string
                          description: Date the transaction was effected
                          readOnly: true
                        settlement_date:
                          type: string
                          description: >-
                            Intended settlement date of the pending transaction
                            or actual the settled day of the transaction
                          readOnly: true
                        currency:
                          type: string
                          description: Currency of the transaction
                          readOnly: true
                        direction:
                          type: string
                          description: >-
                            in = cash payment or pending buy transaction, out =
                            cash out or pending sell transaction.
                          readOnly: true
                          enum:
                            - in
                            - out
                        type:
                          type: string
                          description: State of the transaction
                          readOnly: true
                          enum:
                            - pending
                            - archived
                        sub_type:
                          type: string
                          description: >-
                            Sub state of the transaction. instructed, confirmed,
                            priced sub_types applicable for pending state and
                            rejected, cancelled, settled sub_types applicable
                            for archived state
                          readOnly: true
                          enum:
                            - instructed
                            - confirmed
                            - priced
                            - rejected
                            - settled
                            - cancelled
                            - scheduled
                            - failed
                        external_status:
                          type: string
                          description: Externel status of the transaction
                          readOnly: true
                          enum:
                            - Submitted to HMRC
                            - Submission pending
                            - HMRC submission failed
                            - HMRC resubmission failed
                            - HMRC update failed
                            - Pending
                            - Paid
                            - Cancelled
                            - Void
                            - Due
                            - Collected
                            - Superseded
                            - Successful
                            - Failed
                        additional_external_details:
                          type: object
                          description: >-
                            Additional external details of the transaction, This
                            may be populated in reconciliation process
                          readOnly: true
                        origin:
                          type: string
                          description: Origin of the transaction
                          readOnly: true
                          enum:
                            - api
                            - admin_ui
                            - file_upload
                            - system
                        source_id:
                          type: string
                          description: >-
                            Required only for transactions created for payments
                            intents - employer contributions for SIPP
                            Accumulation Products
                        reason:
                          type: string
                          description: >-
                            This field populated only when status is failed or
                            cancelled, with reason for cancellation or failure
                        withdrawal_charge_applicable:
                          type: boolean
                          description: >-
                            Mandatory for LISA financial products only. Flag to
                            indicate if a withdrawal charge is applicable on the
                            gross withdrawal amount
                          readOnly: true
                          enum:
                            - true
                            - false
                        withdrawal_charge:
                          type: string
                          description: >-
                            Applicable for LISA financial products only.
                            Mandatory only if the withdrawal_charge_applicable =
                            true. Value of the withdrawal charge applicable for
                            the unauthorized withdrawal
                      example:
                        transaction_id: 80784c92-8f9d-4150-b83c-dc6d217a8155
                        created_at: '2023-01-27T05:45:56.839Z'
                        updated_at: '2023-01-27T05:45:56.839Z'
                        primary_transaction_type: Contribution
                        sub_transaction_type: Lump sum
                        investment_product_id: cash
                        transaction_value: '20000'
                        settlement_date: '2023-01-27'
                        currency: GBP
                        direction: in
                        type: archived
                        sub_type: settled
                        origin: api
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
        '400':
          description: Request is not complete and may have one or more validations errors
          content:
            application/json:
              schema:
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: >-
                      Human readable description of the error. Will be populated
                      when a high level validation fails
                    type: string
                  results:
                    description: >-
                      Will be populated when validations fail for creation
                      instructions
                    type: array
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - in: query
          name: transaction_id
          required: false
          schema:
            type: string
          description: Unique identifier for the transaction
        - in: query
          name: parent_transaction_id
          required: false
          schema:
            type: string
          description: Unique identifier for parent transaction
        - in: query
          name: aggregated_transaction_id
          required: false
          schema:
            type: string
          description: Unique identifier for the aggregated transaction
        - in: query
          name: investor_id
          required: false
          schema:
            type: string
          description: Investor ID
        - in: query
          name: account_id
          required: false
          schema:
            type: string
          description: Account ID
        - in: query
          name: pot_id
          required: false
          schema:
            type: string
          description: Pot ID
        - in: query
          name: sub_transaction_type
          required: false
          schema:
            type: string
          description: Sub transaction type
        - in: query
          name: sub_type
          required: false
          schema:
            type: string
          description: >-
            Status of the transaction. Multiple statuses as comma separated
            string can be entered
        - in: query
          name: start_date
          required: false
          schema:
            type: string
          description: >-
            The start date of the withdrawal charges to be retrieved from the
            API. Should be on YYYY-MM-DD format
        - in: query
          name: end_date
          required: false
          schema:
            type: string
          description: >-
            The end date of the withdrawal charges to be retrieved from the API.
            Should be on YYYY-MM-DD format
        - in: query
          name: page_size
          required: false
          schema:
            type: string
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 1000 and 1. Max page size is
            [4000]. Results are sorted descending order of the created date &
            time
        - in: query
          name: page_number
          required: false
          schema:
            type: string
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 1000 and 1. Results are sorted
            descending order of the created date & time
        - in: query
          name: sort
          required: false
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Sorting order; results are sorted by creation time.
      operationId: retrieveAllTransactions
      summary: Retrieve All Transactions
      description: >-
        The "Retrieve All Transactions” endpoint enables users to retrieve any
        transaction as per their specific requirements. Users have the
        flexibility to filter and obtain a particular transaction by providing a
        transaction ID / parent transaction ID/ aggregated  transaction id or
        filter out a specific set of transactions based on various criteria such
        as the sub transaction type, investor, account, pot, status, or creation
        within a specified time period.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/transactions/v1/?transaction_id=SOME_STRING_VALUE&parent_transaction_id=SOME_STRING_VALUE&aggregated_transaction_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&account_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&sub_type=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/transactions/v1/?transaction_id=SOME_STRING_VALUE&parent_transaction_id=SOME_STRING_VALUE&aggregated_transaction_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&account_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&sub_type=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/transactions/v1/?transaction_id=SOME_STRING_VALUE&parent_transaction_id=SOME_STRING_VALUE&aggregated_transaction_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&account_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&sub_type=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/transactions/v1/?transaction_id=SOME_STRING_VALUE&parent_transaction_id=SOME_STRING_VALUE&aggregated_transaction_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&account_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&sub_type=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/transactions/v1/buy:
    post:
      tags:
        - Transactions
      requestBody:
        content:
          application/json:
            schema:
              title: Buy Transaction Request
              description: Definition of an buy transaction request
              allOf:
                - type: object
                  required:
                    - request_id
                    - pot_id
                  properties:
                    request_id:
                      type: string
                      format: uuid
                      description: 'Unique request id to ensure idempotency. (ex: UUID)'
                    pot_id:
                      type: string
                      example: pot-UKW3452850
                - type: object
                  required:
                    - investment_instructions
                  properties:
                    investment_instructions:
                      type: array
                      items:
                        title: Instruction(buy|sell)
                        description: Definition of an single instruction(buy|sell)
                        required:
                          - investment_product_id
                        type: object
                        properties:
                          investment_product_id:
                            type: string
                          quantity:
                            type: string
                            description: >-
                              Require if `value` is not available. Must be in
                              correct pattern (eg: 25, 332.34, 1050.0025). For
                              `funds`, upto 4 decimal places. For `equities`,
                              `bonds` and `etf`, 0 decimal places allowed.
                          value:
                            type: string
                            description: >-
                              Require if `quantity` is not available. Must be in
                              correct pattern (upto 2 decimal places, eg: 25,
                              332.3, 1050.25).
                          client_order_id:
                            type: string
                            maxLength: 20
                            description: >-
                              (Optional) Order identifier assigned by the wealth
                              manager
                      example:
                        - investment_product_id: EPCCTST7
                          quantity: '10'
                          client_order_id: cl-02456s42sd3
                        - investment_product_id: EPCCTST9
                          quantity: '-10'
      responses:
        '201':
          description: success or partially_success
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - status
                      - pot_id
                    properties:
                      status:
                        type: string
                        description: >-
                          status of the transaction request

                          . `success`: All requested transactions success

                          . `partially_success`: Some (but not all) requested
                          transactions success
                           
                        enum:
                          - success
                          - partially_success
                        example: partially_success
                      pot_id:
                        type: string
                        readOnly: true
                        example: pot-UKW3452850
                  - type: object
                    properties:
                      results:
                        type: array
                        description: >-
                          Array of successes and failures. Failures will include
                          a reason for the error
                        items:
                          allOf:
                            - type: object
                              required:
                                - transaction_id
                                - created_at
                                - updated_at
                                - primary_transaction_type
                                - sub_transaction_type
                                - investment_product_id
                                - currency
                                - direction
                                - type
                                - sub_type
                                - origin
                                - success
                              properties:
                                success:
                                  type: boolean
                                  enum:
                                    - true
                                    - false
                                message:
                                  type: string
                                  description: Reason for failure if success = false
                                parent_transaction_id:
                                  type: string
                                  description: parent_transaction_id
                                transaction_id:
                                  type: string
                                  description: transaction_id of successful transaction
                                external_transaction_reference:
                                  type: string
                                  description: External Transaction Reference
                                  readOnly: true
                                created_at:
                                  type: string
                                  format: date-time
                                  description: >-
                                    Will indicate the date where this record was
                                    created
                                  readOnly: true
                                updated_at:
                                  type: string
                                  format: date-time
                                  description: >-
                                    Will indicate the date where this record was
                                    last changed
                                  readOnly: true
                                primary_transaction_type:
                                  type: string
                                sub_transaction_type:
                                  type: string
                                investment_product_id:
                                  type: string
                                  description: Investment product id of the transaction
                                  readOnly: true
                                client_order_id:
                                  type: string
                                  maxLength: 20
                                  description: >-
                                    (optional) Order identifier assigned by the
                                    wealth manager
                                transaction_quantity:
                                  type: string
                                  description: >-
                                    (optional) quantity of the investment
                                    product, required for unit based orders
                                transaction_value:
                                  type: string
                                  description: >-
                                    (optional) value of the investment product,
                                    required for value based orders
                                execution_price:
                                  type: string
                                trade_date:
                                  type: string
                                  format: date
                                  description: Date the transaction was effected
                                  readOnly: true
                                settlement_date:
                                  type: string
                                  format: date
                                  description: >-
                                    Intended settlement date of the pending
                                    transaction or actual the settled day of the
                                    transaction
                                  readOnly: true
                                currency:
                                  type: string
                                  description: Currency of the transaction
                                  readOnly: true
                                direction:
                                  type: string
                                type:
                                  type: string
                                  description: State of the transaction
                                  readOnly: true
                                  enum:
                                    - pending
                                    - archived
                                sub_type:
                                  type: string
                                  description: >-
                                    Sub state of the transaction. instructed,
                                    confirmed, priced and scheduled sub_types
                                    are applicable for pending state and
                                    rejected, cancelled, settled sub_types
                                    applicable for archived state
                                  readOnly: true
                                  enum:
                                    - instructed
                                    - confirmed
                                    - priced
                                    - rejected
                                    - settled
                                    - cancelled
                                    - scheduled
                                additional_external_details:
                                  type: object
                                  description: >-
                                    Additional external details of the
                                    transaction, This may be populated in
                                    reconciliation process
                                  readOnly: true
                                origin:
                                  type: string
                                  description: Origin of the transaction
                                  readOnly: true
                                  enum:
                                    - api
                            - type: object
                              properties:
                                primary_transaction_type:
                                  readOnly: true
                                  enum:
                                    - Buy
                                sub_transaction_type:
                                  description: Sub transaction type
                                  readOnly: true
                                  enum:
                                    - Buy
                                execution_price:
                                  description: Executed price of the buy transaction
                                  readOnly: true
                                direction:
                                  description: pending buy transaction
                                  readOnly: true
                                  enum:
                                    - in
                        example:
                          - transaction_quantity: '10'
                            success: true
                            transaction_id: 738b9aaa-6320-4132-b7c7-1a57d607c15e
                            investment_product_id: EPCCTST7
                            client_order_id: cl-02456s42sd3
                            primary_transaction_type: Buy
                            sub_transaction_type: Buy
                            type: pending
                            sub_type: instructed
                            currency: GBP
                            direction: in
                            created_at: '2023-01-27T11:33:32.285Z'
                            updated_at: '2023-01-27T11:33:32.285Z'
                            trade_date: '2023-01-27'
                            origin: api
                          - message: >-
                              Transaction quantity is lower than the minimum
                              allowed (EPCCTST9)
                            success: false
        '400':
          description: Request is not complete and may have one or more validations errors
          content:
            application/json:
              schema:
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: >-
                      Human readable description of the error. Will be populated
                      when a high level validation fails
                    type: string
                  results:
                    description: >-
                      Will be populated when validations fail for creation
                      instructions
                    type: array
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      operationId: executeBuyTrasaction
      summary: Execute Buy Transaction(s)
      description: >-
        Invoke execution of one or more buy transactions as defined in the
        request
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/transactions/v1/buy \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","pot_id":"pot-UKW3452850","investment_instructions":[{"investment_product_id":"EPCCTST7","quantity":"10","client_order_id":"cl-02456s42sd3"},{"investment_product_id":"EPCCTST9","quantity":"-10"}]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/transactions/v1/buy",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              pot_id: 'pot-UKW3452850',
              investment_instructions: [
                {
                  investment_product_id: 'EPCCTST7',
                  quantity: '10',
                  client_order_id: 'cl-02456s42sd3'
                },
                {investment_product_id: 'EPCCTST9', quantity: '-10'}
              ]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/transactions/v1/buy")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"pot_id\":\"pot-UKW3452850\",\"investment_instructions\":[{\"investment_product_id\":\"EPCCTST7\",\"quantity\":\"10\",\"client_order_id\":\"cl-02456s42sd3\"},{\"investment_product_id\":\"EPCCTST9\",\"quantity\":\"-10\"}]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/transactions/v1/buy\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"pot_id\\\":\\\"pot-UKW3452850\\\",\\\"investment_instructions\\\":[{\\\"investment_product_id\\\":\\\"EPCCTST7\\\",\\\"quantity\\\":\\\"10\\\",\\\"client_order_id\\\":\\\"cl-02456s42sd3\\\"},{\\\"investment_product_id\\\":\\\"EPCCTST9\\\",\\\"quantity\\\":\\\"-10\\\"}]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/transactions/v1/sell:
    post:
      tags:
        - Transactions
      requestBody:
        content:
          application/json:
            schema:
              title: Sell Transaction Request
              description: Definition of an sell transaction request
              allOf:
                - type: object
                  required:
                    - request_id
                    - pot_id
                  properties:
                    request_id:
                      type: string
                      format: uuid
                      description: 'Unique request id to ensure idempotency. (ex: UUID)'
                    pot_id:
                      type: string
                      example: pot-UKW3452850
                - type: object
                  properties:
                    sell_instructions:
                      type: array
                      items:
                        title: Instruction(buy|sell)
                        description: Definition of an single instruction(buy|sell)
                        required:
                          - investment_product_id
                        type: object
                        properties:
                          investment_product_id:
                            type: string
                          quantity:
                            type: string
                            description: >-
                              Require if `value` is not available. Must be in
                              correct pattern (eg: 25, 332.34, 1050.0025). For
                              `funds`, upto 4 decimal places. For `equities`,
                              `bonds` and `etf`, 0 decimal places allowed.
                          value:
                            type: string
                            description: >-
                              Require if `quantity` is not available. Must be in
                              correct pattern (upto 2 decimal places, eg: 25,
                              332.3, 1050.25).
                          client_order_id:
                            type: string
                            maxLength: 20
                            description: >-
                              (Optional) Order identifier assigned by the wealth
                              manager
                      example:
                        - investment_product_id: EPCCTST7
                          quantity: '10'
                          client_order_id: cl-02456s42sd3
                        - investment_product_id: EPCCTST9
                          quantity: '-10'
      responses:
        '201':
          description: success or partially_success
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - status
                      - pot_id
                    properties:
                      status:
                        type: string
                        description: >-
                          status of the transaction request

                          . `success`: All requested transactions success

                          . `partially_success`: Some (but not all) requested
                          transactions success
                           
                        enum:
                          - success
                          - partially_success
                        example: partially_success
                      pot_id:
                        type: string
                        readOnly: true
                        example: pot-UKW3452850
                  - type: object
                    properties:
                      results:
                        type: array
                        description: >-
                          Array of successes and failures. Failures will include
                          a reason for the error
                        items:
                          allOf:
                            - type: object
                              required:
                                - transaction_id
                                - created_at
                                - updated_at
                                - primary_transaction_type
                                - sub_transaction_type
                                - investment_product_id
                                - currency
                                - direction
                                - type
                                - sub_type
                                - origin
                                - success
                              properties:
                                success:
                                  type: boolean
                                  enum:
                                    - true
                                    - false
                                message:
                                  type: string
                                  description: Reason for failure if success = false
                                parent_transaction_id:
                                  type: string
                                  description: parent_transaction_id
                                transaction_id:
                                  type: string
                                  description: transaction_id of successful transaction
                                external_transaction_reference:
                                  type: string
                                  description: External Transaction Reference
                                  readOnly: true
                                created_at:
                                  type: string
                                  format: date-time
                                  description: >-
                                    Will indicate the date where this record was
                                    created
                                  readOnly: true
                                updated_at:
                                  type: string
                                  format: date-time
                                  description: >-
                                    Will indicate the date where this record was
                                    last changed
                                  readOnly: true
                                primary_transaction_type:
                                  type: string
                                sub_transaction_type:
                                  type: string
                                investment_product_id:
                                  type: string
                                  description: Investment product id of the transaction
                                  readOnly: true
                                client_order_id:
                                  type: string
                                  maxLength: 20
                                  description: >-
                                    (optional) Order identifier assigned by the
                                    wealth manager
                                transaction_quantity:
                                  type: string
                                  description: >-
                                    (optional) quantity of the investment
                                    product, required for unit based orders
                                transaction_value:
                                  type: string
                                  description: >-
                                    (optional) value of the investment product,
                                    required for value based orders
                                execution_price:
                                  type: string
                                trade_date:
                                  type: string
                                  format: date
                                  description: Date the transaction was effected
                                  readOnly: true
                                settlement_date:
                                  type: string
                                  format: date
                                  description: >-
                                    Intended settlement date of the pending
                                    transaction or actual the settled day of the
                                    transaction
                                  readOnly: true
                                currency:
                                  type: string
                                  description: Currency of the transaction
                                  readOnly: true
                                direction:
                                  type: string
                                type:
                                  type: string
                                  description: State of the transaction
                                  readOnly: true
                                  enum:
                                    - pending
                                    - archived
                                sub_type:
                                  type: string
                                  description: >-
                                    Sub state of the transaction. instructed,
                                    confirmed, priced and scheduled sub_types
                                    are applicable for pending state and
                                    rejected, cancelled, settled sub_types
                                    applicable for archived state
                                  readOnly: true
                                  enum:
                                    - instructed
                                    - confirmed
                                    - priced
                                    - rejected
                                    - settled
                                    - cancelled
                                    - scheduled
                                additional_external_details:
                                  type: object
                                  description: >-
                                    Additional external details of the
                                    transaction, This may be populated in
                                    reconciliation process
                                  readOnly: true
                                origin:
                                  type: string
                                  description: Origin of the transaction
                                  readOnly: true
                                  enum:
                                    - api
                            - type: object
                              properties:
                                primary_transaction_type:
                                  readOnly: true
                                  enum:
                                    - Sell
                                sub_transaction_type:
                                  description: Sub transaction type
                                  readOnly: true
                                  enum:
                                    - Sell
                                execution_price:
                                  description: Executed price of the sell transaction
                                  readOnly: true
                                direction:
                                  description: pending sell transaction
                                  readOnly: true
                                  enum:
                                    - out
                        example:
                          - transaction_quantity: '10'
                            success: true
                            transaction_id: 738b9aaa-6320-4132-b7c7-1a57d607c15e
                            investment_product_id: EPCCTST7
                            client_order_id: cl-02456s42sd3
                            primary_transaction_type: Sell
                            sub_transaction_type: Sell
                            type: pending
                            sub_type: instructed
                            currency: GBP
                            direction: out
                            created_at: '2023-01-27T11:33:32.285Z'
                            updated_at: '2023-01-27T11:33:32.285Z'
                            trade_date: '2023-01-27'
                            origin: api
                          - message: >-
                              Transaction quantity is lower than the minimum
                              allowed (EPCCTST9)
                            success: false
        '400':
          description: Request is not complete and may have one or more validations errors
          content:
            application/json:
              schema:
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: >-
                      Human readable description of the error. Will be populated
                      when a high level validation fails
                    type: string
                  results:
                    description: >-
                      Will be populated when validations fail for creation
                      instructions
                    type: array
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      operationId: executeSellTrasaction
      summary: Execute Sell Transaction(s)
      description: >-
        Invoke execution of one or more Sell transactions as defined in the
        request
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/transactions/v1/sell \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","pot_id":"pot-UKW3452850","sell_instructions":[{"investment_product_id":"EPCCTST7","quantity":"10","client_order_id":"cl-02456s42sd3"},{"investment_product_id":"EPCCTST9","quantity":"-10"}]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/transactions/v1/sell",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              pot_id: 'pot-UKW3452850',
              sell_instructions: [
                {
                  investment_product_id: 'EPCCTST7',
                  quantity: '10',
                  client_order_id: 'cl-02456s42sd3'
                },
                {investment_product_id: 'EPCCTST9', quantity: '-10'}
              ]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/transactions/v1/sell")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"pot_id\":\"pot-UKW3452850\",\"sell_instructions\":[{\"investment_product_id\":\"EPCCTST7\",\"quantity\":\"10\",\"client_order_id\":\"cl-02456s42sd3\"},{\"investment_product_id\":\"EPCCTST9\",\"quantity\":\"-10\"}]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/transactions/v1/sell\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"pot_id\\\":\\\"pot-UKW3452850\\\",\\\"sell_instructions\\\":[{\\\"investment_product_id\\\":\\\"EPCCTST7\\\",\\\"quantity\\\":\\\"10\\\",\\\"client_order_id\\\":\\\"cl-02456s42sd3\\\"},{\\\"investment_product_id\\\":\\\"EPCCTST9\\\",\\\"quantity\\\":\\\"-10\\\"}]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/transactions/v1/switch:
    get:
      summary: Retrieve Switch instruction from Switch ID
      description: >-
        Retrieve the status of an existing switch instruction from the
        `switch_transaction_id`. If the status of the individual buy/sell
        transactions are required, you must send the request with
        include_details = `true`.
      operationId: getSwitch
      tags:
        - Switch Instruction
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - status
                  - switch_transaction_id
                  - pot_id
                  - sell_instructions
                  - buy_instructions
                  - origin
                  - created_at
                properties:
                  status:
                    type: string
                    description: Status of the Switch instruction
                    example: sell_in_progress
                    enum:
                      - initiated
                      - sell_in_progress
                      - buy_in_progress
                      - completed
                      - failed
                  switch_transaction_id:
                    type: string
                    description: Unique identifier of the switch instruction
                    example: def85ee2-c98d-44d8-a644-c91caa84fa6e
                  pot_id:
                    type: string
                    description: Identifier of the pot the instruction is sent to
                    example: pot-UKW3452850
                  sell_instructions:
                    type: array
                    items:
                      example:
                        investment_product_id: ETF069GBP1
                        mode: value
                        value: '300'
                      title: each buy or sell instruction of the Switch request
                      description: >-
                        Each individual buy side and sell side instruction of
                        the Switch request
                      required:
                        - investment_product_id
                        - mode
                        - value
                      type: object
                      properties:
                        investment_product_id:
                          type: string
                          description: >-
                            Identifier of the investment product sold or bought.
                            If the instruction is to use a cash holding
                            (relevant only for sell instruction) this must be
                            `cash`
                        mode:
                          type: string
                          description: >-
                            Mode of the instruction. If investment_product_id is
                            `cash` mode can only be set to `value` or
                            `percentage` 
                          enum:
                            - percentage
                            - unit
                            - value
                        value:
                          type: string
                          description: >-
                            value according to the mode. e.g. mode `percentage`
                            and value `10` implies 10%
                  buy_instructions:
                    type: array
                    items:
                      example:
                        investment_product_id: ETF931GBP5
                        mode: percentage
                        value: '100'
                      title: each buy or sell instruction of the Switch request
                      description: >-
                        Each individual buy side and sell side instruction of
                        the Switch request
                      required:
                        - investment_product_id
                        - mode
                        - value
                      type: object
                      properties:
                        investment_product_id:
                          type: string
                          description: >-
                            Identifier of the investment product sold or bought.
                            If the instruction is to use a cash holding
                            (relevant only for sell instruction) this must be
                            `cash`
                        mode:
                          type: string
                          description: >-
                            Mode of the instruction. If investment_product_id is
                            `cash` mode can only be set to `value` or
                            `percentage` 
                          enum:
                            - percentage
                            - unit
                            - value
                        value:
                          type: string
                          description: >-
                            value according to the mode. e.g. mode `percentage`
                            and value `10` implies 10%
                  transactions:
                    type: array
                    description: >-
                      Array with status of all buy and sell transactions. Will
                      be sent only if `include_details` = true.
                    items:
                      required:
                        - investment_product_id
                        - status
                        - side
                        - transaction_id
                        - created_at
                      properties:
                        investment_product_id:
                          type: string
                          description: >-
                            Identifier of investment product that is bought or
                            sold.
                        status:
                          type: string
                          enum:
                            - instructed
                            - priced
                            - settled
                            - rejected
                        side:
                          type: string
                          description: Side of the transaction
                          enum:
                            - buy
                            - sell
                        transaction_id:
                          type: string
                          description: Unique identifier of the transaction
                        quantity:
                          type: string
                          description: quantity (in units)
                        price:
                          type: string
                          description: Executed price of the transaction
                        value:
                          type: string
                          description: Monetary value of the transaction
                        created_at:
                          type: string
                          description: Date and time of transaction creation
                          format: date-time
                        updated_at:
                          type: string
                          description: Date and time of transaction update
                          format: date-time
                      example:
                        investment_product_id: ETF069GBP1
                        status: scheduled
                        side: sell
                        transaction_id: de78ce12-0ad4-4a10-af51-11a572912449
                        value: '300'
                        created_at: '2023-01-29T23:33:09.460Z'
                        updated_at: '2023-01-29T23:33:09.460Z'
                  origin:
                    type: string
                    description: >-
                      Describe the origin from where the switch transaction is
                      triggered
                    example: api
                    enum:
                      - api
                      - rebalance
                  created_at:
                    type: string
                    format: date-time
                    description: Will indicate the date where this record was created
                    example: '2023-01-29T23:33:06.678Z'
                  updated_at:
                    type: string
                    format: date-time
                    description: Will indicate the date where this record was last updated
                    example: '2023-01-29T23:33:06.678Z'
                  reason:
                    type: string
                    description: >-
                      Failure reason (shown only for switch transactions in
                      `failed` state)
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: switch_transaction_id
          description: Unique identifier of the switch instruction
          schema:
            type: string
          in: query
          required: true
        - name: include_details
          description: >-
            If set to `true` details of individual buy and sell (child)
            transactions will be included
          schema:
            type: boolean
          in: query
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/transactions/v1/switch?switch_transaction_id=SOME_STRING_VALUE&include_details=SOME_BOOLEAN_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/transactions/v1/switch?switch_transaction_id=SOME_STRING_VALUE&include_details=SOME_BOOLEAN_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/transactions/v1/switch?switch_transaction_id=SOME_STRING_VALUE&include_details=SOME_BOOLEAN_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/transactions/v1/switch?switch_transaction_id=SOME_STRING_VALUE&include_details=SOME_BOOLEAN_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    post:
      tags:
        - Switch Instruction
      requestBody:
        content:
          application/json:
            schema:
              title: Switch Instruction Request
              description: Definition of Switch instruction
              required:
                - request_id
                - pot_id
                - sell_instructions
                - buy_instructions
              type: object
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: 'Unique request id to ensure idempotency. (eg: UUID)'
                pot_id:
                  type: string
                  description: Identifier of the pot the instruction is sent to
                  example: pot-UKW3452850
                sell_instructions:
                  type: array
                  items:
                    example:
                      investment_product_id: ETF031GBP1
                      mode: value
                      value: '500'
                    title: each buy or sell instruction of the Switch request
                    description: >-
                      Each individual buy side and sell side instruction of the
                      Switch request
                    required:
                      - investment_product_id
                      - mode
                      - value
                    type: object
                    properties:
                      investment_product_id:
                        type: string
                        description: >-
                          Identifier of the investment product sold or bought.
                          If the instruction is to use a cash holding (relevant
                          only for sell instruction) this must be `cash`
                      mode:
                        type: string
                        description: >-
                          Mode of the instruction. If investment_product_id is
                          `cash` mode can only be set to `value` or
                          `percentage` 
                        enum:
                          - percentage
                          - unit
                          - value
                      value:
                        type: string
                        description: >-
                          value according to the mode. e.g. mode `percentage`
                          and value `10` implies 10%
                buy_instructions:
                  type: array
                  items:
                    example:
                      investment_product_id: ETF069GBP1
                      mode: value
                      value: '800'
                    title: each buy or sell instruction of the Switch request
                    description: >-
                      Each individual buy side and sell side instruction of the
                      Switch request
                    required:
                      - investment_product_id
                      - mode
                      - value
                    type: object
                    properties:
                      investment_product_id:
                        type: string
                        description: >-
                          Identifier of the investment product sold or bought.
                          If the instruction is to use a cash holding (relevant
                          only for sell instruction) this must be `cash`
                      mode:
                        type: string
                        description: >-
                          Mode of the instruction. If investment_product_id is
                          `cash` mode can only be set to `value` or
                          `percentage` 
                        enum:
                          - percentage
                          - unit
                          - value
                      value:
                        type: string
                        description: >-
                          value according to the mode. e.g. mode `percentage`
                          and value `10` implies 10%
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - status
                  - switch_transaction_id
                  - pot_id
                  - sell_instructions
                  - buy_instructions
                  - origin
                properties:
                  status:
                    type: string
                    description: Status of the Switch instruction
                    example: sell_in_progress
                    enum:
                      - initiated
                      - sell_in_progress
                      - buy_in_progress
                      - completed
                  switch_transaction_id:
                    type: string
                    description: Unique identifier of the switch instruction
                    example: def85ee2-c98d-44d8-a644-c91caa84fa6e
                  pot_id:
                    type: string
                    description: Identifier of the pot the instruction is sent to
                    example: pot-UKW3452850
                  origin:
                    type: string
                    description: >-
                      Describe the origin from where the switch transaction is
                      triggered
                    example: api
                    enum:
                      - api
                      - rebalance
                  sell_instructions:
                    type: array
                    items:
                      example:
                        investment_product_id: ETF031GBP1
                        mode: value
                        value: '500'
                      title: each buy or sell instruction of the Switch request
                      description: >-
                        Each individual buy side and sell side instruction of
                        the Switch request
                      required:
                        - investment_product_id
                        - mode
                        - value
                      type: object
                      properties:
                        investment_product_id:
                          type: string
                          description: >-
                            Identifier of the investment product sold or bought.
                            If the instruction is to use a cash holding
                            (relevant only for sell instruction) this must be
                            `cash`
                        mode:
                          type: string
                          description: >-
                            Mode of the instruction. If investment_product_id is
                            `cash` mode can only be set to `value` or
                            `percentage` 
                          enum:
                            - percentage
                            - unit
                            - value
                        value:
                          type: string
                          description: >-
                            value according to the mode. e.g. mode `percentage`
                            and value `10` implies 10%
                  buy_instructions:
                    type: array
                    items:
                      example:
                        investment_product_id: ETF069GBP1
                        mode: value
                        value: '800'
                      title: each buy or sell instruction of the Switch request
                      description: >-
                        Each individual buy side and sell side instruction of
                        the Switch request
                      required:
                        - investment_product_id
                        - mode
                        - value
                      type: object
                      properties:
                        investment_product_id:
                          type: string
                          description: >-
                            Identifier of the investment product sold or bought.
                            If the instruction is to use a cash holding
                            (relevant only for sell instruction) this must be
                            `cash`
                        mode:
                          type: string
                          description: >-
                            Mode of the instruction. If investment_product_id is
                            `cash` mode can only be set to `value` or
                            `percentage` 
                          enum:
                            - percentage
                            - unit
                            - value
                        value:
                          type: string
                          description: >-
                            value according to the mode. e.g. mode `percentage`
                            and value `10` implies 10%
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      operationId: executeSwitchTrasaction
      summary: Execute Switch Instruction
      description: >-
        Send a switch instruction with details of the investment products to be
        sold, free cash to be used (if any) and investment products to be
        bought.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/transactions/v1/switch \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","pot_id":"pot-UKW3452850","sell_instructions":[{"investment_product_id":"ETF031GBP1","mode":"value","value":"500"}],"buy_instructions":[{"investment_product_id":"ETF069GBP1","mode":"value","value":"800"}]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/transactions/v1/switch",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              pot_id: 'pot-UKW3452850',
              sell_instructions: [{investment_product_id: 'ETF031GBP1', mode: 'value', value: '500'}],
              buy_instructions: [{investment_product_id: 'ETF069GBP1', mode: 'value', value: '800'}]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/transactions/v1/switch")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"pot_id\":\"pot-UKW3452850\",\"sell_instructions\":[{\"investment_product_id\":\"ETF031GBP1\",\"mode\":\"value\",\"value\":\"500\"}],\"buy_instructions\":[{\"investment_product_id\":\"ETF069GBP1\",\"mode\":\"value\",\"value\":\"800\"}]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/transactions/v1/switch\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"pot_id\\\":\\\"pot-UKW3452850\\\",\\\"sell_instructions\\\":[{\\\"investment_product_id\\\":\\\"ETF031GBP1\\\",\\\"mode\\\":\\\"value\\\",\\\"value\\\":\\\"500\\\"}],\\\"buy_instructions\\\":[{\\\"investment_product_id\\\":\\\"ETF069GBP1\\\",\\\"mode\\\":\\\"value\\\",\\\"value\\\":\\\"800\\\"}]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/rates/v1:
    get:
      description: Returns rate details of the requested rate type.
      summary: Get Configured Rates
      operationId: getRates
      tags:
        - Rates
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - rates
                type: object
                properties:
                  rates:
                    type: array
                    items:
                      required:
                        - rate_id
                        - rate_type
                        - rate
                      properties:
                        rate_id:
                          type: string
                          description: Unique identifier of the rate
                          example: USDCAD
                        rate_type:
                          type: string
                          description: Type of rate
                          example: fx-spot
                          enum:
                            - fx-spot
                        rate:
                          type: string
                          description: Latest available rate
                          example: '1.27863'
                        rate_on_date:
                          type: string
                          description: Date and time of rate
                          example: '20220203'
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: rate_type
          description: Type of Rate
          schema:
            type: string
            enum:
              - fx-spot
          in: query
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/rates/v1?rate_type=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/rates/v1?rate_type=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/rates/v1?rate_type=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/rates/v1?rate_type=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/transactions/v1/fee:
    summary: Fee resource management
    post:
      requestBody:
        content:
          application/json:
            schema:
              title: Root Type for Fee
              description: JSON for the Fee resource type
              required:
                - request_id
                - pot_id
                - currency
                - transaction_value
                - sub_transaction_type
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: 'Unique request id to ensure idempotency. (ex: UUID)'
                pot_id:
                  type: string
                  maxLength: 64
                  example: pot-UKW3452850
                  description: Pot ID
                currency:
                  type: string
                  example: GBP
                  description: >-
                    Currency of the Fee.must be a currency configured for the
                    Pot
                transaction_value:
                  type: string
                  example: '123.45'
                  description: Fee Amount upto 2 decimal places
                sub_transaction_type:
                  type: string
                  example: Custody fees
                  description: >-
                    If the pot is a pension pot only Ancillary fee, Advisor
                    ongoing fee, One-off advisor fee, Custody fees and
                    Commission will be valid sub transaction types
                  enum:
                    - Ancillary fee
                    - Advisor ongoing fee
                    - One-off advisor fee
                    - Custody fees
                    - Commission
                    - Management fee
                    - Fee credit
                    - Fee rebate
                    - Commission rebate
        required: true
      security:
        - ApiSecretKey: []
      tags:
        - Fees
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                title: Root Type for Fee creation response
                description: JSON for the Fee creation response
                required:
                  - transaction_id
                  - created_at
                  - updated_at
                  - primary_transaction_type
                  - pot_id
                  - sub_transaction_type
                  - investment_product_id
                  - transaction_value
                  - currency
                  - direction
                  - type
                  - sub_type
                  - origin
                properties:
                  transaction_id:
                    type: string
                    format: uuid
                    description: Unique ID of the fee transaction
                    example: 378f7443-515c-4947-be3f-e7bd51be68c2
                  investment_product_id:
                    type: string
                    description: investment_product_id
                    example: cash
                  transaction_value:
                    type: string
                    description: Fee Amount upto 2 decimal places
                    example: '123.45'
                  pot_id:
                    type: string
                    maxLength: 64
                    example: pot-UKW3452850
                    description: Pot ID
                  primary_transaction_type:
                    type: string
                    readOnly: true
                    example: Fees
                    enum:
                      - Fees
                  sub_transaction_type:
                    type: string
                    description: Sub transaction type
                    readOnly: true
                    example: Custody fees
                    enum:
                      - Ancillary fee
                      - Advisor ongoing fee
                      - One-off advisor fee
                      - Custody fees
                      - Commission
                      - Management fee
                      - Fee credit
                      - Fee rebate
                      - Commission rebate
                  type:
                    type: string
                    description: State of the transaction
                    readOnly: true
                    example: archived
                    enum:
                      - pending
                      - archived
                  sub_type:
                    type: string
                    description: >-
                      Sub state of the transaction. instructed, confirmed,
                      priced sub_types applicable for pending state and
                      rejected, cancelled, settled sub_types applicable for
                      archived state
                    readOnly: true
                    example: settled
                    enum:
                      - instructed
                      - confirmed
                      - priced
                      - rejected
                      - settled
                      - cancelled
                      - scheduled
                  currency:
                    type: string
                    description: Currency of the Fee
                    readOnly: true
                    example: GBP
                  direction:
                    type: string
                    description: >-
                      in = cash payment or pending buy transaction, out= cash
                      out or pending sell transaction.
                    readOnly: true
                    example: out
                    enum:
                      - in
                      - out
                  external_transaction_reference:
                    type: string
                    description: External Transaction Reference
                    readOnly: true
                  created_at:
                    type: string
                    format: date-time
                    description: Will indicate the date where this record was created
                    readOnly: true
                    example: '2023-01-30T00:42:36.624Z'
                  updated_at:
                    type: string
                    format: date-time
                    description: Will indicate the date where this record was last changed
                    readOnly: true
                    example: '2023-01-30T00:42:36.624Z'
                  trade_date:
                    type: string
                    format: date
                    description: Date the transaction was effected
                    readOnly: true
                    example: '2023-01-30'
                  settlement_date:
                    type: string
                    format: date
                    description: >-
                      Intended settlement date of the pending transaction or
                      actual the settled day of the transaction
                    readOnly: true
                    example: '2023-01-30'
                  origin:
                    type: string
                    description: Origin of the transaction
                    readOnly: true
                    example: api
                    enum:
                      - api
                      - admin_ui
                      - file_upload
                      - system
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: createFee
      summary: Create Fee
      description: >-
        This endpoint supports the creation of a single fee deduction from an
        investor's pot. A sucessful fee creation will result in the creation of
        a fee transaction and updates to holdings. The system will return the
        `transaction_id` of the fee transaction.
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/transactions/v1/fee \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","pot_id":"pot-UKW3452850","currency":"GBP","transaction_value":"123.45","sub_transaction_type":"Custody fees"}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/transactions/v1/fee",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              pot_id: 'pot-UKW3452850',
              currency: 'GBP',
              transaction_value: '123.45',
              sub_transaction_type: 'Custody fees'
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/transactions/v1/fee")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"pot_id\":\"pot-UKW3452850\",\"currency\":\"GBP\",\"transaction_value\":\"123.45\",\"sub_transaction_type\":\"Custody
            fees\"}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/transactions/v1/fee\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"pot_id\\\":\\\"pot-UKW3452850\\\",\\\"currency\\\":\\\"GBP\\\",\\\"transaction_value\\\":\\\"123.45\\\",\\\"sub_transaction_type\\\":\\\"Custody fees\\\"}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/transactions/v1/withdrawal:
    post:
      operationId: createWithdrawal
      summary: Create Withdrawal
      description: >-
        This endpoint supports the creation of a single withdrawal from an
        investor's pot. A sucessful withdrawal creation will result in the
        creation of a withdrawal transaction and updates to holdings. The system
        will return the `transaction_id`, `transaction_value`, `pot_id`,
        `sub_transaction_type` and `transaction_status` of the withdrawal
        transaction.
      tags:
        - Withdrawals
      requestBody:
        content:
          application/json:
            schema:
              title: Root Type for Withdrawal
              description: JSON for the Withdrawal resource type
              required:
                - request_id
                - pot_id
                - currency
                - transaction_value
                - sub_transaction_type
                - bank_account_id
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: 'Unique request id to ensure idempotency. (ex: UUID)'
                pot_id:
                  type: string
                  maxLength: 64
                  example: pot-SDQ5659730
                  description: Pot ID
                currency:
                  type: string
                  example: USD
                  description: >-
                    Currency of the Withdrawal.must be a currency configured for
                    the Pot
                transaction_value:
                  type: string
                  example: '123.45'
                  description: Withdrawal Amount upto 2 decimal places
                sub_transaction_type:
                  type: string
                  example: Withdrawal
                  description: Withdrawal sub transaction type
                  enum:
                    - Withdrawal
                bank_account_id:
                  type: string
                  example: ba-example-bank-account
                  description: Bank Account ID
        required: true
      security:
        - ApiSecretKey: []
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                title: Root Type for Withdrawal creation response
                description: JSON for the Withdrawal creation response
                required:
                  - transaction_id
                  - created_at
                  - updated_at
                  - primary_transaction_type
                  - sub_transaction_type
                  - pot_id
                  - investment_product_id
                  - transaction_value
                  - currency
                  - direction
                  - type
                  - sub_type
                  - origin
                properties:
                  transaction_id:
                    type: string
                    format: uuid
                    description: Unique ID of the withdrawal transaction
                  investment_product_id:
                    type: string
                    description: investment_product_id
                  transaction_value:
                    type: string
                    description: Withdrawal Amount upto 2 decimal places
                  pot_id:
                    type: string
                    maxLength: 64
                    example: pot-SDQ5659730
                    description: Pot ID
                  primary_transaction_type:
                    type: string
                    readOnly: true
                    enum:
                      - Withdrawal
                  sub_transaction_type:
                    type: string
                    example: Withdrawal
                    description: Withdrawal sub transaction type
                    enum:
                      - Withdrawal
                  type:
                    type: string
                    description: State of the transaction
                    readOnly: true
                    enum:
                      - pending
                      - archived
                  sub_type:
                    type: string
                    description: >-
                      Sub state of the transaction. instructed, confirmed,
                      priced sub_types applicable for pending state and
                      rejected, cancelled, settled sub_types applicable for
                      archived state
                    readOnly: true
                    enum:
                      - instructed
                      - confirmed
                      - priced
                      - rejected
                      - settled
                      - cancelled
                      - scheduled
                  currency:
                    type: string
                    description: Currency of the Withdrawal
                    readOnly: true
                  direction:
                    type: string
                    description: >-
                      in = cash payment or pending buy transaction, out= cash
                      out or pending sell transaction.
                    readOnly: true
                    enum:
                      - in
                      - out
                  external_transaction_reference:
                    type: string
                    description: External Transaction Reference
                    readOnly: true
                  created_at:
                    type: string
                    format: date-time
                    description: Will indicate the date where this record was created
                    readOnly: true
                  updated_at:
                    type: string
                    format: date-time
                    description: Will indicate the date where this record was last changed
                    readOnly: true
                  trade_date:
                    type: string
                    format: date
                    description: Date the transaction was effected
                    readOnly: true
                  settlement_date:
                    type: string
                    format: date
                    description: >-
                      Intended settlement date of the pending transaction or
                      actual the settled day of the transaction
                    readOnly: true
                  origin:
                    type: string
                    description: Origin of the transaction
                    readOnly: true
                    enum:
                      - api
                      - admin_ui
                      - file_upload
                      - system
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      deprecated: true
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/transactions/v1/withdrawal \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","pot_id":"pot-SDQ5659730","currency":"USD","transaction_value":"123.45","sub_transaction_type":"Withdrawal","bank_account_id":"ba-example-bank-account"}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/transactions/v1/withdrawal",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              pot_id: 'pot-SDQ5659730',
              currency: 'USD',
              transaction_value: '123.45',
              sub_transaction_type: 'Withdrawal',
              bank_account_id: 'ba-example-bank-account'
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/transactions/v1/withdrawal")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"pot_id\":\"pot-SDQ5659730\",\"currency\":\"USD\",\"transaction_value\":\"123.45\",\"sub_transaction_type\":\"Withdrawal\",\"bank_account_id\":\"ba-example-bank-account\"}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/transactions/v1/withdrawal\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"pot_id\\\":\\\"pot-SDQ5659730\\\",\\\"currency\\\":\\\"USD\\\",\\\"transaction_value\\\":\\\"123.45\\\",\\\"sub_transaction_type\\\":\\\"Withdrawal\\\",\\\"bank_account_id\\\":\\\"ba-example-bank-account\\\"}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/withdrawals/v1/:
    summary: Withdrawal resource management
    post:
      requestBody:
        content:
          application/json:
            schema:
              title: Root Type for Withdrawal
              description: JSON for the Withdrawal resource type
              required:
                - request_id
                - pot_id
                - currency
                - transaction_value
                - sub_transaction_type
                - bank_account_id
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: 'Unique request id to ensure idempotency. (ex: UUID)'
                pot_id:
                  type: string
                  maxLength: 64
                  example: pot-SDQ5659730
                  description: Pot ID
                currency:
                  type: string
                  example: USD
                  description: >-
                    Currency of the Withdrawal.must be a currency configured for
                    the Pot
                transaction_value:
                  type: string
                  example: '123.45'
                  description: Withdrawal Amount upto 2 decimal places
                sub_transaction_type:
                  type: string
                  example: Withdrawal
                  description: Withdrawal sub transaction type
                  enum:
                    - Withdrawal
                    - Income Withdrawal
                bank_account_id:
                  type: string
                  example: ba-example-bank-account
                  description: Bank Account ID
        required: true
      security:
        - ApiSecretKey: []
      tags:
        - Withdrawals
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                title: Root Type for Withdrawal response
                description: JSON for the Withdrawal response
                required:
                  - transaction_id
                  - investment_product_id
                  - transaction_value
                  - pot_id
                  - primary_transaction_type
                  - sub_transaction_type
                  - type
                  - sub_type
                  - currency
                  - direction
                  - created_at
                  - updated_at
                  - origin
                type: object
                properties:
                  transaction_id:
                    type: string
                    format: uuid
                    description: Unique ID of the withdrawal transaction
                  investment_product_id:
                    type: string
                    description: investment_product_id
                  transaction_value:
                    type: string
                    description: Withdrawal amount upto 2 decimal places
                  pot_id:
                    type: string
                    maxLength: 64
                    example: pot-SDQ5659730
                    description: Pot ID
                  primary_transaction_type:
                    type: string
                    readOnly: true
                    enum:
                      - Withdrawal
                  sub_transaction_type:
                    type: string
                    example: Withdrawal
                    description: Withdrawal sub transaction type
                    enum:
                      - Withdrawal
                      - Income Withdrawal
                  type:
                    type: string
                    description: State of the transaction
                    readOnly: true
                    enum:
                      - pending
                      - archived
                  sub_type:
                    type: string
                    description: >-
                      Sub state of the transaction. The sub-states "scheduled",
                      "instructed" and confirmed will be applicable under
                      "pending" state, while the sub-state "rejected",
                      "cancelled", "settled" under "archived" state
                    readOnly: true
                    enum:
                      - scheduled
                      - instructed
                      - confirmed
                      - rejected
                      - settled
                      - cancelled
                  currency:
                    type: string
                    description: Currency of the Withdrawal
                    readOnly: true
                  direction:
                    type: string
                    description: >-
                      in = cash payment or pending buy transaction, out= cash
                      out or pending sell transaction.
                    readOnly: true
                    enum:
                      - in
                      - out
                  external_transaction_reference:
                    type: string
                    description: External Transaction Reference
                    readOnly: true
                  created_at:
                    type: string
                    description: Will indicate the date where this record was created
                    readOnly: true
                  updated_at:
                    type: string
                    description: Will indicate the date where this record was last changed
                    readOnly: true
                  trade_date:
                    type: string
                    description: Date the transaction was effected
                    readOnly: true
                  settlement_date:
                    type: string
                    description: >-
                      Intended settlement date of the pending transaction or
                      actual the settled day of the transaction
                    readOnly: true
                  origin:
                    type: string
                    description: Origin of the transaction
                    readOnly: true
                    enum:
                      - api
                      - admin_ui
                      - file_upload
                      - system
                  tax_transaction_id:
                    type: string
                    format: uuid
                    description: >-
                      Unique ID of the tax transaction associated with the
                      withdrawal
                  net_transaction_value:
                    type: string
                    description: Withdrawal amount after tax upto 2 decimal places
                  tax_payable_on_transaction:
                    type: string
                    description: Tax payable for withdrawal upto 2 decimal places
                  total_withdrawals_ytd:
                    type: string
                    description: >-
                      Total withdrawal by investor made in the current tax year
                      upto 2 decimal places
                  tax_free_allowance_ytd:
                    type: string
                    description: >-
                      Total tax free allowance utilized by investor in the
                      current tax year upto 2 decimal places
                  additional_pay_ytd:
                    type: string
                    description: >-
                      Total additional pay added to by investor's withdrawal in
                      the current tax year upto 2 decimal places. (Applicable
                      for K Codes)
                  taxable_withdrawal_ytd:
                    type: string
                    description: >-
                      Taxable withdrawal amount for the current tax year.
                      (tax_free_allowance_ytd deducted from
                      total_withdrawals_ytd that was rounded to nearest pound.)
                  tax_payable_ytd:
                    type: string
                    description: Tax payable upto 2 decimal places
                  tax_paid_ytd:
                    type: string
                    description: Total tax paid in current tax year upto 2 decimal places
                  tax_unpaid_ytd:
                    type: string
                    description: Unpaid tax in the current tax year upto 2 decimal places
                  tax_overpaid_ytd:
                    type: string
                    description: Overpaid tax in the current tax year upto 2 decimal places
                  withdrawal_charge_applicable:
                    type: boolean
                    description: >-
                      Mandatory only if the financial product is LISA. Flag to
                      indicate if a withdrawal charge is applicable on the gross
                      withdrawal amount
                    readOnly: true
                    enum:
                      - true
                      - false
                  withdrawal_charge:
                    type: string
                    description: >-
                      Mandatory only if the withdrawal_charge_applicable = true.
                      Value of the withdrawal charge applicable for the
                      unauthorized withdrawal
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: createSingleWithdrawal
      summary: Create Single Withdrawal
      description: >-
        This endpoint supports the creation of a single withdrawal from an
        investor's pot. A sucessful withdrawal creation will result in the
        creation of a withdrawal transaction and updates to holdings.
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/withdrawals/v1/ \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","pot_id":"pot-SDQ5659730","currency":"USD","transaction_value":"123.45","sub_transaction_type":"Withdrawal","bank_account_id":"ba-example-bank-account"}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/withdrawals/v1/",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              pot_id: 'pot-SDQ5659730',
              currency: 'USD',
              transaction_value: '123.45',
              sub_transaction_type: 'Withdrawal',
              bank_account_id: 'ba-example-bank-account'
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/withdrawals/v1/")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"pot_id\":\"pot-SDQ5659730\",\"currency\":\"USD\",\"transaction_value\":\"123.45\",\"sub_transaction_type\":\"Withdrawal\",\"bank_account_id\":\"ba-example-bank-account\"}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/withdrawals/v1/\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"pot_id\\\":\\\"pot-SDQ5659730\\\",\\\"currency\\\":\\\"USD\\\",\\\"transaction_value\\\":\\\"123.45\\\",\\\"sub_transaction_type\\\":\\\"Withdrawal\\\",\\\"bank_account_id\\\":\\\"ba-example-bank-account\\\"}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/withdrawals/v1/{transaction_id}:
    patch:
      summary: Update existing LISA withdrawal transaction
      description: >-
        Update withdrawal payment date of a scheduled LISA withdrawal
        transaction. The system will update only the fields sent in the request.
        Field mentioned as Nullable can be deleted by updating those values with
        null. Sending empty values for fields will not update the fields.
      operationId: UpdateLisaWithdrawalTrx
      tags:
        - LISA Transactions
      requestBody:
        content:
          application/json:
            schema:
              title: Root Type for the LISA Withdrawal update request
              description: JSON for the LISA Withdrawal update request
              required:
                - request_id
                - reference_verison
                - trade_date
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: The system generated unique request id
                  example: 20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
                reference_verison:
                  type: integer
                  description: Reference version of the transaction
                  example: 1
                trade_date:
                  type: string
                  description: Trade Date of the withdrawal
                  example: '2020-09-01'
        required: true
      security:
        - ApiSecretKey: []
      responses:
        '201':
          content:
            application/json:
              schema:
                title: Root Type for LISA Withdrawal update response
                description: JSON for the LISA Withdrawal update response
                required:
                  - transaction_id
                  - investment_product_id
                  - transaction_value
                  - pot_id
                  - primary_transaction_type
                  - sub_transaction_type
                  - type
                  - sub_type
                  - currency
                  - direction
                  - created_at
                  - updated_at
                  - trade_date
                  - origin
                type: object
                properties:
                  transaction_id:
                    type: string
                    format: uuid
                    description: Unique ID of the withdrawal transaction
                  investment_product_id:
                    type: string
                    description: investment_product_id
                  transaction_value:
                    type: string
                    description: Withdrawal amount upto 2 decimal places
                  pot_id:
                    type: string
                    maxLength: 64
                    example: pot-SDQ5659730
                    description: Pot ID
                  primary_transaction_type:
                    type: string
                    readOnly: true
                    enum:
                      - Withdrawal
                  sub_transaction_type:
                    type: string
                    example: Withdrawal
                    description: Withdrawal sub transaction type
                    enum:
                      - Withdrawal
                  type:
                    type: string
                    description: State of the transaction
                    readOnly: true
                    enum:
                      - pending
                      - archived
                  sub_type:
                    type: string
                    description: >-
                      Sub state of the transaction. The sub-states "scheduled",
                      "instructed" and confirmed will be applicable under
                      "pending" state, while the sub-state "rejected",
                      "cancelled", "settled" under "archived" state
                    readOnly: true
                    enum:
                      - scheduled
                      - instructed
                      - confirmed
                      - rejected
                      - settled
                      - cancelled
                  currency:
                    type: string
                    description: Currency of the Withdrawal
                    readOnly: true
                  direction:
                    type: string
                    description: >-
                      in = cash payment or pending buy transaction, out= cash
                      out or pending sell transaction.
                    readOnly: true
                    enum:
                      - in
                      - out
                  external_transaction_reference:
                    type: string
                    description: External Transaction Reference
                    readOnly: true
                  created_at:
                    type: string
                    description: Will indicate the date where this record was created
                    readOnly: true
                  updated_at:
                    type: string
                    description: Will indicate the date where this record was last changed
                    readOnly: true
                  trade_date:
                    type: string
                    description: Date the transaction was effected
                    readOnly: true
                  settlement_date:
                    type: string
                    description: >-
                      Intended settlement date of the pending transaction or
                      actual the settled day of the transaction
                    readOnly: true
                  origin:
                    type: string
                    description: Origin of the transaction
                    readOnly: true
                    enum:
                      - api
                      - admin_ui
                      - file_upload
                      - system
                  withdrawal_charge_applicable:
                    type: boolean
                    description: >-
                      Mandatory only if the financial product is LISA. Flag to
                      indicate if a withdrawal charge is applicable on the gross
                      withdrawal amount
                    readOnly: true
                    enum:
                      - true
                      - false
                  withdrawal_charge:
                    type: string
                    description: >-
                      Mandatory only if the withdrawal_charge_applicable = true.
                      Value of the withdrawal charge applicable for the
                      unauthorized withdrawal
          description: success
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: path
          name: transaction_id
          schema:
            type: string
          required: true
          description: >-
            Transaction ID of the withdrawal transaction that needs to be
            updated
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request PATCH \
              --url https://web_host_name/tenant/withdrawals/v1/%7Btransaction_id%7D \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"20b904f7-8d05-4efd-bd36-4ec3b1ce8e03","reference_verison":1,"trade_date":"2020-09-01"}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "PATCH",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/withdrawals/v1/%7Btransaction_id%7D",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '20b904f7-8d05-4efd-bd36-4ec3b1ce8e03',
              reference_verison: 1,
              trade_date: '2020-09-01'
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/withdrawals/v1/%7Btransaction_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Patch.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"20b904f7-8d05-4efd-bd36-4ec3b1ce8e03\",\"reference_verison\":1,\"trade_date\":\"2020-09-01\"}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/withdrawals/v1/%7Btransaction_id%7D\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"20b904f7-8d05-4efd-bd36-4ec3b1ce8e03\\\",\\\"reference_verison\\\":1,\\\"trade_date\\\":\\\"2020-09-01\\\"}\")\n\n\treq, _ := http.NewRequest(\"PATCH\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/utility/v1/upload-a-file:
    post:
      tags:
        - Utility
      requestBody:
        content:
          application/json:
            schema:
              required:
                - file_paths
              properties:
                file_paths:
                  type: array
                  description: file path array for the file(s) from external data store.
                  items:
                    required:
                      - type
                      - path
                    properties:
                      type:
                        type: string
                        description: >-
                          type of the file specified in the path. Eg.- bk, dc,
                          sr, fx
                        example: bk
                      path:
                        type: string
                        description: >-
                          file path - "bucket_name/file_key". Eg.-
                          wos-custodian_data-bucket/dir1/dir2/sr210317.XYZ
                        example: >-
                          wos-dev13-reconciliation-files-us-east-2/custodian-files/bk-220908-2.FID
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - bucket
                  - keys
                properties:
                  bucket:
                    type: string
                    description: name of the bucket which the files were copied
                    example: wos-dev13-reconciliation-files-us-east-2
                  keys:
                    type: array
                    description: array of keys, one for each file stored during the request
                    items:
                      type: string
                      example: morganstanley/input_files/2023-01-27_bk_bk-220908-2.FID
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      operationId: copyFileToS3
      summary: Upload a file
      description: >-
        Copy a file from the Wealth Manager's data store (system must have read
        permission for this store) to an internal data store
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/utility/v1/upload-a-file \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"file_paths":[{"type":"bk","path":"wos-dev13-reconciliation-files-us-east-2/custodian-files/bk-220908-2.FID"}]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/utility/v1/upload-a-file",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              file_paths: [
                {
                  type: 'bk',
                  path: 'wos-dev13-reconciliation-files-us-east-2/custodian-files/bk-220908-2.FID'
                }
              ]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/utility/v1/upload-a-file")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"file_paths\":[{\"type\":\"bk\",\"path\":\"wos-dev13-reconciliation-files-us-east-2/custodian-files/bk-220908-2.FID\"}]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/utility/v1/upload-a-file\"\n\n\tpayload := strings.NewReader(\"{\\\"file_paths\\\":[{\\\"type\\\":\\\"bk\\\",\\\"path\\\":\\\"wos-dev13-reconciliation-files-us-east-2/custodian-files/bk-220908-2.FID\\\"}]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/bank-accounts/v1:
    post:
      summary: Create new bank account
      operationId: createBankAccount
      tags:
        - Bank Accounts
      security:
        - ApiSecretKey: []
      requestBody:
        content:
          application/json:
            schema:
              required:
                - account_name
                - bank_account_type
                - investor_id
                - default_account
                - bank_account_number
              properties:
                bank_account_id:
                  type: string
                  readOnly: true
                  maxLength: 100
                  description: system generated id
                  example: ba-20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
                investor_id:
                  type: string
                  example: inv-QXR38578
                contributing_party_id:
                  type: string
                  description: >-
                    This is contributing employer ID for contributing employer
                    bank accounts. Field is required for contributing employer
                    bank accounts.
                  example: cem-ZWV37971
                account_name:
                  type: string
                  maxLength: 100
                  example: David Brown
                bank_account_type:
                  type: string
                  enum:
                    - investor
                    - contributing_employer
                  description: >-
                    This is 'investor' for investor bank accounts and
                    'contributing_employer' for contributing employer bank
                    accounts.
                  example: investor
                default_account:
                  type: string
                  enum:
                    - 'yes'
                    - 'no'
                  description: Only one account should be the default
                  example: 'no'
                bank_account_number:
                  type: string
                  minLength: 6
                  maxLength: 8
                  description: Unique for the investor
                  example: '12345678'
                account_status:
                  type: string
                  enum:
                    - active
                    - inactive
                  description: If not populated, will be defaulted to inactive
                  example: active
                sort_code:
                  type: string
                  minLength: 6
                  maxLength: 8
                  description: Mandatory if region is UK
                  example: '123456'
                building_society_roll_number:
                  type: string
                  minLength: 1
                  maxLength: 18
                  example: '12345672'
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                required:
                  - bank_account_id
                  - account_status
                  - reference_version
                  - created_at
                  - updated_at
                properties:
                  bank_account_id:
                    type: string
                    readOnly: true
                    maxLength: 100
                    description: system generated id
                    example: ba-20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
                  investor_id:
                    type: string
                    example: inv-QXR38578
                  account_name:
                    type: string
                    maxLength: 100
                    example: David Brown
                  bank_account_type:
                    type: string
                    enum:
                      - investor
                      - contributing_employer
                    example: investor
                  default_account:
                    type: string
                    enum:
                      - 'yes'
                      - 'no'
                    description: Only one account should be the default
                    example: 'no'
                  bank_account_number:
                    type: string
                    minLength: 6
                    maxLength: 8
                    description: Unique for the investor
                    example: '****5678'
                  account_status:
                    type: string
                    enum:
                      - active
                      - inactive
                    description: If not populated, will be defaulted to inactive
                    example: active
                  sort_code:
                    type: string
                    minLength: 6
                    maxLength: 8
                    example: '****56'
                  building_society_roll_number:
                    type: string
                    minLength: 1
                    maxLength: 18
                    example: '******72'
                  reference_version:
                    type: integer
                    readOnly: true
                    example: 1
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/bank-accounts/v1 \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"investor_id":"inv-QXR38578","contributing_party_id":"cem-ZWV37971","account_name":"David Brown","bank_account_type":"investor","default_account":"no","bank_account_number":"12345678","account_status":"active","sort_code":"123456","building_society_roll_number":"12345672"}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/bank-accounts/v1",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              investor_id: 'inv-QXR38578',
              contributing_party_id: 'cem-ZWV37971',
              account_name: 'David Brown',
              bank_account_type: 'investor',
              default_account: 'no',
              bank_account_number: '12345678',
              account_status: 'active',
              sort_code: '123456',
              building_society_roll_number: '12345672'
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/bank-accounts/v1")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"investor_id\":\"inv-QXR38578\",\"contributing_party_id\":\"cem-ZWV37971\",\"account_name\":\"David
            Brown\",\"bank_account_type\":\"investor\",\"default_account\":\"no\",\"bank_account_number\":\"12345678\",\"account_status\":\"active\",\"sort_code\":\"123456\",\"building_society_roll_number\":\"12345672\"}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/bank-accounts/v1\"\n\n\tpayload := strings.NewReader(\"{\\\"investor_id\\\":\\\"inv-QXR38578\\\",\\\"contributing_party_id\\\":\\\"cem-ZWV37971\\\",\\\"account_name\\\":\\\"David Brown\\\",\\\"bank_account_type\\\":\\\"investor\\\",\\\"default_account\\\":\\\"no\\\",\\\"bank_account_number\\\":\\\"12345678\\\",\\\"account_status\\\":\\\"active\\\",\\\"sort_code\\\":\\\"123456\\\",\\\"building_society_roll_number\\\":\\\"12345672\\\"}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    get:
      summary: Retrieve all the bank accounts of a particular investor
      operationId: getAllBankAccounts
      tags:
        - Bank Accounts
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                description: Array of bank accounts
                type: object
                properties:
                  bankAccounts:
                    type: array
                    items:
                      required:
                        - bank_account_id
                        - account_status
                        - reference_version
                        - created_at
                        - updated_at
                      properties:
                        bank_account_id:
                          type: string
                          readOnly: true
                          maxLength: 100
                          description: system generated id
                          example: ba-20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
                        investor_id:
                          type: string
                          example: inv-QXR38578
                        account_name:
                          type: string
                          maxLength: 100
                          example: David Brown
                        bank_account_type:
                          type: string
                          enum:
                            - investor
                            - contributing_employer
                          example: investor
                        default_account:
                          type: string
                          enum:
                            - 'yes'
                            - 'no'
                          description: Only one account should be the default
                          example: 'no'
                        bank_account_number:
                          type: string
                          minLength: 6
                          maxLength: 8
                          description: Unique for the investor
                          example: '****5678'
                        account_status:
                          type: string
                          enum:
                            - active
                            - inactive
                          description: If not populated, will be defaulted to inactive
                          example: active
                        sort_code:
                          type: string
                          minLength: 6
                          maxLength: 8
                          example: '****56'
                        building_society_roll_number:
                          type: string
                          minLength: 1
                          maxLength: 18
                          example: '******72'
                        reference_version:
                          type: integer
                          readOnly: true
                          example: 1
                        created_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-08T07:36:05.884Z'
                        updated_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: investor_id
          description: Valid Investor Id
          schema:
            type: string
          required: true
          in: query
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/bank-accounts/v1?investor_id=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/bank-accounts/v1?investor_id=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/bank-accounts/v1?investor_id=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/bank-accounts/v1?investor_id=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/bank-accounts/v1/{bank_account_id}:
    get:
      summary: Retrieve existing bank account from bank account id
      operationId: getBankAccount
      tags:
        - Bank Accounts
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - bank_account_id
                  - account_status
                  - reference_version
                  - created_at
                  - updated_at
                properties:
                  bank_account_id:
                    type: string
                    readOnly: true
                    maxLength: 100
                    description: system generated id
                    example: ba-20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
                  investor_id:
                    type: string
                    example: inv-QXR38578
                  account_name:
                    type: string
                    maxLength: 100
                    example: David Brown
                  bank_account_type:
                    type: string
                    enum:
                      - investor
                      - contributing_employer
                    example: investor
                  default_account:
                    type: string
                    enum:
                      - 'yes'
                      - 'no'
                    description: Only one account should be the default
                    example: 'no'
                  bank_account_number:
                    type: string
                    minLength: 6
                    maxLength: 8
                    description: Unique for the investor
                    example: '****5678'
                  account_status:
                    type: string
                    enum:
                      - active
                      - inactive
                    description: If not populated, will be defaulted to inactive
                    example: active
                  sort_code:
                    type: string
                    minLength: 6
                    maxLength: 8
                    example: '****56'
                  building_society_roll_number:
                    type: string
                    minLength: 1
                    maxLength: 18
                    example: '******72'
                  reference_version:
                    type: integer
                    readOnly: true
                    example: 1
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: bank_account_id
          description: Bank Account Id
          schema:
            type: string
          in: path
          required: true
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/bank-accounts/v1/%7Bbank_account_id%7D \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/bank-accounts/v1/%7Bbank_account_id%7D",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/bank-accounts/v1/%7Bbank_account_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/bank-accounts/v1/%7Bbank_account_id%7D\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    patch:
      summary: Update existing bank account details
      description: >-
        Update an existing Bank Account. The system will update only the fields
        sent in the request. Field mentioned as Nullable can be deleted by
        updating those values with null. Sending empty values for fields will
        not update the fields.
      operationId: UpdateBankAccount
      tags:
        - Bank Accounts
      requestBody:
        content:
          application/json:
            schema:
              title: Update Request Body for bank account
              description: JSON for the Update bank account resource type
              required:
                - reference_version
              properties:
                account_name:
                  type: string
                  maxLength: 100
                  example: David Brown
                default_account:
                  type: string
                  enum:
                    - 'yes'
                    - 'no'
                  description: Only one account should be the default
                  example: 'no'
                account_status:
                  type: string
                  enum:
                    - active
                    - inactive
                  example: inactive
                reference_version:
                  type: integer
                  example: 2
        required: true
      security:
        - ApiSecretKey: []
      responses:
        '201':
          content:
            application/json:
              schema:
                required:
                  - bank_account_id
                  - account_status
                  - reference_version
                  - created_at
                  - updated_at
                properties:
                  bank_account_id:
                    type: string
                    readOnly: true
                    maxLength: 100
                    description: system generated id
                    example: ba-20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
                  investor_id:
                    type: string
                    example: inv-QXR38578
                  account_name:
                    type: string
                    maxLength: 100
                    example: David Brown
                  bank_account_type:
                    type: string
                    enum:
                      - investor
                      - contributing_employer
                    example: investor
                  default_account:
                    type: string
                    enum:
                      - 'yes'
                      - 'no'
                    description: Only one account should be the default
                    example: 'no'
                  bank_account_number:
                    type: string
                    minLength: 6
                    maxLength: 8
                    description: Unique for the investor
                    example: '****5678'
                  account_status:
                    type: string
                    enum:
                      - active
                      - inactive
                    description: If not populated, will be defaulted to inactive
                    example: active
                  sort_code:
                    type: string
                    minLength: 6
                    maxLength: 8
                    example: '****56'
                  building_society_roll_number:
                    type: string
                    minLength: 1
                    maxLength: 18
                    example: '******72'
                  reference_version:
                    type: integer
                    readOnly: true
                    example: 1
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2020-07-10T07:36:05.884Z'
          description: success
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: path
          name: bank_account_id
          schema:
            type: string
          required: true
          description: Bank Account Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request PATCH \
              --url https://web_host_name/tenant/bank-accounts/v1/%7Bbank_account_id%7D \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"account_name":"David Brown","default_account":"no","account_status":"inactive","reference_version":2}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "PATCH",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/bank-accounts/v1/%7Bbank_account_id%7D",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              account_name: 'David Brown',
              default_account: 'no',
              account_status: 'inactive',
              reference_version: 2
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/bank-accounts/v1/%7Bbank_account_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Patch.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{\"account_name\":\"David
            Brown\",\"default_account\":\"no\",\"account_status\":\"inactive\",\"reference_version\":2}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/bank-accounts/v1/%7Bbank_account_id%7D\"\n\n\tpayload := strings.NewReader(\"{\\\"account_name\\\":\\\"David Brown\\\",\\\"default_account\\\":\\\"no\\\",\\\"account_status\\\":\\\"inactive\\\",\\\"reference_version\\\":2}\")\n\n\treq, _ := http.NewRequest(\"PATCH\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/investor-accounts/v1:
    get:
      summary: Retrieve all the investor accounts
      operationId: getAllinvestorAccounts
      tags:
        - Investor Accounts
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                description: Array of investor accounts
                type: object
                required:
                  - investor_accounts
                  - next_page_available
                properties:
                  investor_accounts:
                    type: array
                    items:
                      required:
                        - account_id
                        - investor_id
                        - financial_product_id
                        - status
                        - pot_id
                        - created_at
                        - updated_at
                      properties:
                        account_id:
                          type: string
                          description: Investor account id
                          example: SIPPACC1674797806011
                        investor_id:
                          type: string
                          example: inv-QXR38578
                        financial_product_id:
                          type: string
                          example: sipp_accumulation
                        date_of_account_activation:
                          type: string
                          format: date-time
                          description: >-
                            The first date the account was opened by the
                            investor. For LISA accounts, this will be set with
                            the date of the initial subscription to the account
                          example: '2023-01-27T05:36:46.011Z'
                        status:
                          type: string
                          enum:
                            - active
                            - pending_cancellation
                            - cancelled
                            - closed
                          description: Account status
                          example: active
                        current_year_subscription:
                          type: boolean
                          description: >-
                            Does the Account have contributions for the current
                            tax year
                          example: 'true'
                        first_subscription_date_for_current_year:
                          type: string
                          nullable: true
                          format: date-time
                          description: >-
                            Date of the first subscription received for the
                            current tax year
                          example: '2023-01-27T05:41:15.651Z'
                        current_year_total_contribution:
                          type: string
                          description: >-
                            Total contribution by investor for account for the
                            current tax year
                          example: '22000'
                        current_year_total_withdrawals:
                          type: string
                          description: >-
                            Total withdrawal by investor for account for the
                            current tax year
                        current_year_RAS_claimed:
                          type: string
                          description: >-
                            Total relief at source claimed for the tax year.
                            This is only relevant for SIPP
                        current_year_gross_contribution:
                          type: string
                          description: >-
                            Total contributions made into pensions pots
                            including relief at source claims for the tax year
                            or total contribution made into LISA pots including
                            government bonus claimed. This is only relevant for
                            SIPP and LISA
                        current_year_RAS_claims_pending:
                          type: string
                          description: >-
                            Total relief at source amount to be claimed from
                            HMRC. This is only relevant for SIPP
                        current_year_MPAA_utilized:
                          type: string
                          description: >-
                            Total MPAA utilized by investor for account for the
                            current tax year
                        current_year_LISA_bonus_claimed:
                          type: string
                          description: >-
                            Government bonus claimed for current tax year for
                            LISA accounts
                        current_year_LISA_bonus_pending:
                          type: string
                          description: >-
                            Government bonus pending for current tax year for
                            LISA accounts
                        current_year_withdrawal_charges:
                          type: string
                          description: >-
                            Total withdrawal charges deducted for unauthorized
                            withdrawals from a LISA account for the current tax
                            year. Mandatory only if the financial product is
                            LISA
                        current_year_pending_withdrawals:
                          type: string
                          description: >-
                            Total withdrawals scheduled for the account to be
                            paid to investor for the current tax year
                        total_contribution:
                          type: string
                          description: >-
                            Total lifetime contribution by investor for the
                            account
                        total_gross_contribution:
                          type: string
                          description: >-
                            Total lifetime contribution by investor for a LISA
                            account including the government bonus claimed.
                            Mandatory only if the financial product is LISA
                        total_bonus_claimed:
                          type: string
                          description: >-
                            Total government bonus claimed for LISA account for
                            contributions made across years. Mandatory only if
                            the financial product is LISA
                        total_withdrawals:
                          type: string
                          description: >-
                            Total lifetime withdrawals by investor for the
                            account
                        total_withdrawal_charges:
                          type: string
                          description: >-
                            Total withdrawal charges deducted for unauthorized
                            withdrawals from a LISA account across years.
                            Mandatory only if the financial product is LISA
                        account_type:
                          type: string
                          enum:
                            - X
                            - Z
                            - B
                            - G
                          example: X
                        isa_allowance_remaining:
                          type: string
                          description: >-
                            Total subscription allowance remaining for investor
                            across all ISA product types for the current tax
                            year
                          example: '20000'
                        lisa_allowance_remaining:
                          type: string
                          description: >-
                            Mandatory only if the financial product is LISA. The
                            remaining total allowance available to the investor
                            for the LISA product within the current tax year
                          example: '4000'
                        custodian_account_reference:
                          type: string
                          nullable: true
                          maxLength: 64
                          example: CAR573838383
                        custodian_id:
                          type: string
                          nullable: true
                          maxLength: 64
                          example: CID594898ff
                        custodian_client_reference:
                          type: string
                          nullable: true
                          maxLength: 64
                          example: CCR578fh8
                        regulator_advisor_id:
                          type: string
                          nullable: true
                          maxLength: 64
                          example: RAI48483jd
                        life_events:
                          description: Life events of the investor
                          type: array
                          items:
                            required:
                              - event_id
                              - event_type
                              - status
                            properties:
                              event_id:
                                type: string
                                example: LISALETI-SCX540
                              event_type:
                                type: string
                                example: Terminal illness
                              status:
                                type: string
                                example: completed
                        reference_version:
                          type: integer
                          example: 1
                        created_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-08T07:36:05.884Z'
                        updated_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-10T07:36:05.884Z'
                        pot_id:
                          type: array
                          description: Array of pot IDs attached to Investor Account ID
                          items:
                            type: string
                          example:
                            - pot-MKQ5634576
                            - pot-DFT5033872
                        hmrc_data:
                          type: object
                          description: Mandatory only if the financial product is LISA
                          required:
                            - status
                          properties:
                            status:
                              type: string
                              description: >-
                                Indicate the status of the LISA investor and
                                investor account creation with HMRC
                              enum:
                                - hmrc_process_not_started
                                - hmrc_process_inprogress
                                - hmrc_investor_creation_failed
                                - hmrc_account_creation_successful
                                - hmrc_account_creation_failed
                                - hmrc_account_cancelled
                            lisa_investor_reference:
                              type: string
                              description: >-
                                Investor account reference created at HMRC for a
                                LISA account
                            reason:
                              description: Error reason received from HMRC
                              type: string
                              nullable: true
                  next_page_available:
                    type: boolean
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - name: page_size
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 1000 and 1. Max page size is 4000.
            Results are sorted decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: page_number
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 1000 and 1. Results are sorted
            decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: financial_product_id
          description: Multiple financial product ids as comma seperated string
          schema:
            type: string
          in: query
        - name: account_id
          description: Multiple account ids as comma seperated string
          schema:
            type: string
          in: query
        - name: status
          description: Multiple statuses as comma seperated string
          schema:
            type: string
          in: query
        - name: investor_id
          description: Multiple investor ids as comma seperated string
          schema:
            type: string
          in: query
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/investor-accounts/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&account_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investor-accounts/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&account_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investor-accounts/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&account_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investor-accounts/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&account_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/investor-accounts/v1/{account_id}:
    get:
      summary: Retrieve existing investor account from account id
      operationId: getinvestorAccount
      tags:
        - Investor Accounts
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - account_id
                  - investor_id
                  - financial_product_id
                  - status
                  - pot_id
                  - created_at
                  - updated_at
                properties:
                  account_id:
                    type: string
                    description: Investor account id
                    example: SSISA1663750577493
                  investor_id:
                    type: string
                    example: inv-QXR38578
                  financial_product_id:
                    type: string
                    example: stocks_isa
                  date_of_account_activation:
                    type: string
                    format: date-time
                    description: >-
                      The first date the account was opened by the investor. For
                      LISA accounts, this will be set with the date of the
                      initial subscription to the account
                    example: '2022-09-21T08:56:17.493Z'
                  status:
                    type: string
                    enum:
                      - active
                      - pending_cancellation
                      - cancelled
                      - closed
                    description: Account status
                    example: active
                  pot_id:
                    type: array
                    description: Array of pot IDs attached to Investor Account ID
                    items:
                      type: string
                    example:
                      - pot-MKQ5634576
                      - pot-DFT5033872
                  current_year_subscription:
                    type: boolean
                    description: >-
                      Does the Account have contributions for the current tax
                      year
                    example: 'false'
                  first_subscription_date_for_current_year:
                    type: string
                    nullable: true
                    format: date-time
                    description: >-
                      Date of the first subscription received for the current
                      tax year
                  current_year_total_contribution:
                    type: string
                    description: >-
                      Total contribution by investor for account for the current
                      tax year
                  current_year_total_withdrawals:
                    type: string
                    description: Total lifetime withdrawals by investor for the account
                  current_year_total_isa_contribution:
                    type: string
                    description: >-
                      Total contribution by investor for all ISA product types
                      for the current tax year
                  current_year_total_isa_withdrawals:
                    type: string
                    description: >-
                      Total subscription allowance remaining for investor across
                      all ISA product types for the current tax year
                  current_year_RAS_claimed:
                    type: string
                    description: >-
                      Total relief at source claimed for the tax year. This is
                      only relevant for SIPP
                  current_year_gross_contribution:
                    type: string
                    description: >-
                      Applicable only if the financial product is LISA or SIPP.
                      If LISA, the total contribution done by the investor for
                      the current tax year including the government bonus. If
                      SIPP, the total contributions made into pensions pots
                      including relief at source claims for the tax year
                  current_year_MPAA_utilized:
                    type: string
                    description: >-
                      Total MPAA utilized by investor for account for the
                      current tax year
                  current_year_RAS_claims_pending:
                    type: string
                    description: >-
                      Total relief at source amount to be claimed from HMRC.
                      This is only relevant for SIPP
                  current_year_LISA_bonus_claimed:
                    type: string
                    description: >-
                      Applicable only if the financial product is LISA. The
                      government bonus that has been claimed for the
                      contributions made to the Cash LISA within the current tax
                      year
                  current_year_LISA_bonus_pending:
                    type: string
                    description: >-
                      Applicable only if the financial product is LISA. The
                      government bonus that is pending for the contributions
                      made to the Cash LISA within the current tax year
                  current_year_withdrawal_charges:
                    type: string
                    description: >-
                      Total withdrawal charges deducted for unauthorized
                      withdrawals from a LISA account for the current tax year.
                      Mandatory only if the financial product is LISA
                  current_year_pending_withdrawals:
                    type: string
                    description: >-
                      Total withdrawals scheduled for the account to be paid to
                      investor for the current tax year
                  total_contribution:
                    type: string
                    description: Total lifetime contribution by investor for the account
                  total_gross_contribution:
                    type: string
                    description: >-
                      Total lifetime contribution by investor for a LISA account
                      including the government bonus claimed. Mandatory only if
                      the financial product is LISA
                  total_bonus_claimed:
                    type: string
                    description: >-
                      Total government bonus claimed for LISA account for
                      contributions made across years. Mandatory only if the
                      financial product is LISA
                  total_withdrawals:
                    type: string
                    description: Total LISA withdrawals by investor across years
                  total_withdrawal_charges:
                    type: string
                    description: >-
                      Total withdrawal charges deducted for unauthorized
                      withdrawals from a LISA account across years. Mandatory
                      only if the financial product is LISA
                  total_market_value:
                    type: string
                    description: >-
                      Value of holdings across all pots attached to the account
                      ID (including investment products and cash)
                    example: '0'
                  account_type:
                    type: string
                    enum:
                      - X
                      - Z
                      - B
                      - G
                    example: X
                  isa_allowance_remaining:
                    type: string
                    description: >-
                      Total subscription allowance remaining for investor across
                      all ISA product types for the current tax year
                    example: '20000'
                  lisa_allowance_remaining:
                    type: string
                    description: >-
                      Mandatory only if the financial product is LISA. The
                      remaining total allowance available to the investor for
                      the LISA product within the current tax year
                    example: '4000'
                  custodian_account_reference:
                    type: string
                    nullable: true
                    maxLength: 64
                    example: CAR573838383
                  custodian_id:
                    type: string
                    nullable: true
                    maxLength: 64
                    example: CID594898ff
                  custodian_client_reference:
                    type: string
                    nullable: true
                    maxLength: 64
                    example: CCR578fh8
                  regulator_advisor_id:
                    type: string
                    nullable: true
                    maxLength: 64
                    example: RAI48483jd
                  life_events:
                    description: Life events of the investor
                    type: array
                    items:
                      required:
                        - event_id
                        - event_type
                        - status
                      properties:
                        event_id:
                          type: string
                          example: LISALETI-SCX540
                        event_type:
                          type: string
                          example: Terminal illness
                        status:
                          type: string
                          example: completed
                  reference_version:
                    type: integer
                    example: 1
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2022-12-29T10:36:03.064Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2022-12-29T10:36:03.064Z'
                  hmrc_data:
                    type: object
                    description: Mandatory only if the financial product is LISA
                    required:
                      - status
                    properties:
                      status:
                        type: string
                        description: >-
                          Indicate the status of the LISA investor and investor
                          account creation with HMRC
                        enum:
                          - hmrc_process_not_started
                          - hmrc_process_inprogress
                          - hmrc_investor_creation_failed
                          - hmrc_account_creation_successful
                          - hmrc_account_creation_failed
                          - hmrc_account_cancelled
                      lisa_investor_reference:
                        type: string
                        description: >-
                          Investor account reference created at HMRC for a LISA
                          account
                      reason:
                        description: Error reason received from HMRC
                        type: string
                        nullable: true
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: path
          name: account_id
          schema:
            type: string
          required: true
          description: Unique identifier of the investor account
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/investor-accounts/v1/%7Baccount_id%7D \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investor-accounts/v1/%7Baccount_id%7D",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investor-accounts/v1/%7Baccount_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investor-accounts/v1/%7Baccount_id%7D\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    patch:
      tags:
        - Investor Accounts
      requestBody:
        content:
          application/json:
            schema:
              required:
                - reference_version
              properties:
                custodian_account_reference:
                  type: string
                  nullable: true
                  maxLength: 64
                  example: CAR573838383
                custodian_id:
                  type: string
                  nullable: true
                  maxLength: 64
                  example: CID594898ff
                custodian_client_reference:
                  type: string
                  nullable: true
                  maxLength: 64
                  example: CCR578fh8
                regulator_advisor_id:
                  type: string
                  nullable: true
                  maxLength: 64
                  example: RAI48483jd
                reference_version:
                  type: integer
                  example: 1
        required: true
      security:
        - ApiSecretKey: []
      responses:
        '200':
          content:
            application/json:
              schema:
                required:
                  - account_id
                  - investor_id
                  - financial_product_id
                  - status
                  - pot_id
                  - created_at
                  - updated_at
                properties:
                  account_id:
                    type: string
                    description: Investor account id
                    example: SSISA1663750577493
                  investor_id:
                    type: string
                    example: inv-QXR38578
                  financial_product_id:
                    type: string
                    example: stocks_isa
                  date_of_account_activation:
                    type: string
                    format: date-time
                    description: >-
                      The first date the account was opened by the investor. For
                      LISA accounts, this will be set with the date of the
                      initial subscription to the account
                    example: '2022-09-21T08:56:17.493Z'
                  status:
                    type: string
                    enum:
                      - active
                      - pending_cancellation
                      - cancelled
                      - closed
                    description: Account status
                    example: active
                  pot_id:
                    type: array
                    description: Array of pot IDs attached to Investor Account ID
                    items:
                      type: string
                    example:
                      - pot-MKQ5634576
                      - pot-DFT5033872
                  current_year_subscription:
                    type: boolean
                    description: >-
                      Does the Account have contributions for the current tax
                      year
                    example: 'false'
                  first_subscription_date_for_current_year:
                    type: string
                    nullable: true
                    format: date-time
                    description: >-
                      Date of the first subscription received for the current
                      tax year
                  current_year_total_contribution:
                    type: string
                    description: >-
                      Total contribution by investor for account for the current
                      tax year
                  current_year_total_withdrawals:
                    type: string
                    description: Total lifetime withdrawals by investor for the account
                  current_year_total_isa_contribution:
                    type: string
                    description: >-
                      Total contribution by investor for all ISA product types
                      for the current tax year
                  current_year_total_isa_withdrawals:
                    type: string
                    description: >-
                      Total subscription allowance remaining for investor across
                      all ISA product types for the current tax year
                  current_year_RAS_claimed:
                    type: string
                    description: >-
                      Total relief at source claimed for the tax year. This is
                      only relevant for SIPP
                  current_year_gross_contribution:
                    type: string
                    description: >-
                      Applicable only if the financial product is LISA or SIPP.
                      If LISA, the total contribution done by the investor for
                      the current tax year including the government bonus. If
                      SIPP, the total contributions made into pensions pots
                      including relief at source claims for the tax year
                  current_year_MPAA_utilized:
                    type: string
                    description: >-
                      Total MPAA utilized by investor for account for the
                      current tax year
                  current_year_RAS_claims_pending:
                    type: string
                    description: >-
                      Total relief at source amount to be claimed from HMRC.
                      This is only relevant for SIPP
                  current_year_LISA_bonus_claimed:
                    type: string
                    description: >-
                      Applicable only if the financial product is LISA. The
                      government bonus that has been claimed for the
                      contributions made to the Cash LISA within the current tax
                      year
                  current_year_LISA_bonus_pending:
                    type: string
                    description: >-
                      Applicable only if the financial product is LISA. The
                      government bonus that is pending for the contributions
                      made to the Cash LISA within the current tax year
                  current_year_withdrawal_charges:
                    type: string
                    description: >-
                      Total withdrawal charges deducted for unauthorized
                      withdrawals from a LISA account for the current tax year.
                      Mandatory only if the financial product is LISA
                  current_year_pending_withdrawals:
                    type: string
                    description: >-
                      Total withdrawals scheduled for the account to be paid to
                      investor for the current tax year
                  total_contribution:
                    type: string
                    description: Total lifetime contribution by investor for the account
                  total_gross_contribution:
                    type: string
                    description: >-
                      Total lifetime contribution by investor for a LISA account
                      including the government bonus claimed. Mandatory only if
                      the financial product is LISA
                  total_bonus_claimed:
                    type: string
                    description: >-
                      Total government bonus claimed for LISA account for
                      contributions made across years. Mandatory only if the
                      financial product is LISA
                  total_withdrawals:
                    type: string
                    description: Total LISA withdrawals by investor across years
                  total_withdrawal_charges:
                    type: string
                    description: >-
                      Total withdrawal charges deducted for unauthorized
                      withdrawals from a LISA account across years. Mandatory
                      only if the financial product is LISA
                  total_market_value:
                    type: string
                    description: >-
                      Value of holdings across all pots attached to the account
                      ID (including investment products and cash)
                    example: '0'
                  account_type:
                    type: string
                    enum:
                      - X
                      - Z
                      - B
                      - G
                    example: X
                  isa_allowance_remaining:
                    type: string
                    description: >-
                      Total subscription allowance remaining for investor across
                      all ISA product types for the current tax year
                    example: '20000'
                  lisa_allowance_remaining:
                    type: string
                    description: >-
                      Mandatory only if the financial product is LISA. The
                      remaining total allowance available to the investor for
                      the LISA product within the current tax year
                    example: '4000'
                  custodian_account_reference:
                    type: string
                    nullable: true
                    maxLength: 64
                    example: CAR573838383
                  custodian_id:
                    type: string
                    nullable: true
                    maxLength: 64
                    example: CID594898ff
                  custodian_client_reference:
                    type: string
                    nullable: true
                    maxLength: 64
                    example: CCR578fh8
                  regulator_advisor_id:
                    type: string
                    nullable: true
                    maxLength: 64
                    example: RAI48483jd
                  life_events:
                    description: Life events of the investor
                    type: array
                    items:
                      required:
                        - event_id
                        - event_type
                        - status
                      properties:
                        event_id:
                          type: string
                          example: LISALETI-SCX540
                        event_type:
                          type: string
                          example: Terminal illness
                        status:
                          type: string
                          example: completed
                  reference_version:
                    type: integer
                    example: 1
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2022-12-29T10:36:03.064Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2022-12-29T10:36:03.064Z'
                  hmrc_data:
                    type: object
                    description: Mandatory only if the financial product is LISA
                    required:
                      - status
                    properties:
                      status:
                        type: string
                        description: >-
                          Indicate the status of the LISA investor and investor
                          account creation with HMRC
                        enum:
                          - hmrc_process_not_started
                          - hmrc_process_inprogress
                          - hmrc_investor_creation_failed
                          - hmrc_account_creation_successful
                          - hmrc_account_creation_failed
                          - hmrc_account_cancelled
                      lisa_investor_reference:
                        type: string
                        description: >-
                          Investor account reference created at HMRC for a LISA
                          account
                      reason:
                        description: Error reason received from HMRC
                        type: string
                        nullable: true
          description: success
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: UpdateInvestorAccount
      summary: Update Investor Account Details
      description: >-
        Update an existing investor account. The system will update only the
        fields sent in the payload. Field mentioned as Nullable can be deleted
        by updating those values with null. Custodian details including the
        custodian_id, custodian_account_reference, custodian_client_ref and
        regulator_advisor_id can be updated for an account through this endpoint
        only.
      parameters:
        - in: path
          name: account_id
          schema:
            type: string
          required: true
          description: Unique identifier of the investor account
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request PATCH \
              --url https://web_host_name/tenant/investor-accounts/v1/%7Baccount_id%7D \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"custodian_account_reference":"CAR573838383","custodian_id":"CID594898ff","custodian_client_reference":"CCR578fh8","regulator_advisor_id":"RAI48483jd","reference_version":1}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "PATCH",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investor-accounts/v1/%7Baccount_id%7D",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              custodian_account_reference: 'CAR573838383',
              custodian_id: 'CID594898ff',
              custodian_client_reference: 'CCR578fh8',
              regulator_advisor_id: 'RAI48483jd',
              reference_version: 1
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investor-accounts/v1/%7Baccount_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Patch.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"custodian_account_reference\":\"CAR573838383\",\"custodian_id\":\"CID594898ff\",\"custodian_client_reference\":\"CCR578fh8\",\"regulator_advisor_id\":\"RAI48483jd\",\"reference_version\":1}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investor-accounts/v1/%7Baccount_id%7D\"\n\n\tpayload := strings.NewReader(\"{\\\"custodian_account_reference\\\":\\\"CAR573838383\\\",\\\"custodian_id\\\":\\\"CID594898ff\\\",\\\"custodian_client_reference\\\":\\\"CCR578fh8\\\",\\\"regulator_advisor_id\\\":\\\"RAI48483jd\\\",\\\"reference_version\\\":1}\")\n\n\treq, _ := http.NewRequest(\"PATCH\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/fees/v1/codes:
    get:
      operationId: GetFeeCode
      summary: Get Fee Codes (BETA)
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Returns the fee codes setup in the system for recurring fee
        computations. 
      security:
        - ApiSecretKey: []
      tags:
        - Fees
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                title: Get fee code response
                description: Definition of Get fee code response
                required:
                  - fee_codes
                properties:
                  fee_codes:
                    type: array
                    items:
                      title: Root Type for Fee Code
                      description: JSON for the Fee code resource type
                      required:
                        - fee_code
                        - fee_type
                        - fee_rate
                        - status
                        - created_at
                        - updated_at
                      type: object
                      properties:
                        fee_code:
                          type: string
                          maxLength: 10
                          example: FF_50
                        fee_type:
                          type: string
                          example: Flat_fee_percentage_based
                          enum:
                            - Flat_fee_percentage_based
                        fee_rate:
                          type: string
                          example: '50.00'
                          description: Fee rate in basis points. Numeric with 2 decimals
                        status:
                          type: string
                          example: Active
                          enum:
                            - Active
                            - Inactive
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - name: fee_codes
          description: >-
            Fee codes to be retrieved from the API. Can give multiple fee codes
            as comma separated values. (ex- FF_50,PF_75)
          schema:
            type: string
          in: query
          required: false
        - name: status
          description: >-
            Status of the fee code to be retrieved from the API (Active,
            Inactive)
          schema:
            type: string
          in: query
          required: false
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/fees/v1/codes?fee_codes=SOME_STRING_VALUE&status=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/fees/v1/codes?fee_codes=SOME_STRING_VALUE&status=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/fees/v1/codes?fee_codes=SOME_STRING_VALUE&status=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/fees/v1/codes?fee_codes=SOME_STRING_VALUE&status=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/fees/v1/setups:
    get:
      operationId: GetFeeSetups
      summary: Get Fee Setups (BETA)
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Returns the fee types in the system for recurring fee computations set
        up at Investor, Financial Product and Portfolio levels.  
      security:
        - ApiSecretKey: []
      tags:
        - Fees
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                title: Get fee setup response
                description: Definition of Get fee setup response
                required:
                  - fee_setups
                properties:
                  fee_setups:
                    type: array
                    items:
                      title: Root Type for Fee Setup
                      description: JSON for the Fee setup resource type
                      required:
                        - fee_setup_id
                        - fee_calculation_entity
                        - fee_calculation_method
                        - sub_transaction_type
                        - primary_transaction_type
                        - fee_code
                        - assigned_to
                        - start_date
                        - status
                        - created_at
                        - updated_at
                      properties:
                        fee_setup_id:
                          type: string
                          example: 6efa81d9-073f-4ac2-9e09-66d6934b57e3
                        fee_calculation_entity:
                          type: string
                          example: Investor
                          enum:
                            - Investor
                            - Financial Product
                            - Portfolio
                        fee_calculation_method:
                          type: string
                          example: Daily Accrual
                          enum:
                            - Daily Accrual
                        primary_transaction_type:
                          type: string
                          example: Fees
                        sub_transaction_type:
                          type: string
                          example: Advisor ongoing fee
                          enum:
                            - Management fee
                            - Advisor ongoing fee
                            - Service fees
                            - Product administration fees
                            - Portfolio management fees
                            - Platform fees
                        fee_code:
                          type: string
                          example: FF_50
                        assigned_to:
                          type: array
                          example: All
                        start_date:
                          type: string
                          format: date
                          example: '2022-10-31'
                        end_date:
                          type: string
                          format: date
                          example: '2023-10-31'
                        status:
                          type: string
                          example: Active
                          enum:
                            - Active
                            - Inactive
                        created_at:
                          type: string
                          format: date-time
                          example: '2022-10-26T13:24:00.459Z'
                        updated_at:
                          type: string
                          format: date-time
                          example: '2022-10-26T13:24:00.459Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - name: fee_calculation_entity
          description: >-
            Level at which the recurring fee sub transaction type is setup. Can
            give multiple fee calculation entities as comma separated values to
            be retrieved via the API.(Options - Investor, Financial Product,
            Portfolio)
          schema:
            type: string
          in: query
          required: false
        - name: fee_calculation_method
          description: >-
            Fee calculation method used for fee computation for this fee sub
            transaction type to be retrieved via the API.(Options - Daily
            Accrual)
          schema:
            type: string
          in: query
          required: false
        - name: sub_transaction_type
          description: >-
            Fee Sub transaction type set up for the entity. Can give multiple
            Sub transaction types as comma separated values.(ex- Service
            fees,Platform fees)
          schema:
            type: string
          in: query
          required: false
        - name: fee_codes
          description: >-
            Fee codes of the fee setup to be retrieved from the API. Can give
            multiple fee codes as comma separated values.(ex- FF_50,PF_75)
          schema:
            type: string
          in: query
          required: false
        - name: assigned_to
          description: >-
            Instances of the entity for which the fee sub transaction type is
            setup.(Options - All, a single instance, or an array of instances of
            the entity)
          schema:
            type: string
          in: query
          required: false
        - name: start_date
          description: >-
            Start date of the fee setup to be retrieved from the API. Should be
            on YYYY-MM-DD format.
          schema:
            type: string
            format: date
          in: query
          required: false
        - name: end_date
          description: >-
            End date of the fee setup to be retrieved from the API. Should be on
            YYYY-MM-DD format.
          schema:
            type: string
            format: date
          in: query
          required: false
        - name: status
          description: >-
            Status of the fee code to be retrieved from the API (Active,
            Inactive)
          schema:
            type: string
          in: query
          required: false
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/fees/v1/setups?fee_calculation_entity=SOME_STRING_VALUE&fee_calculation_method=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&fee_codes=SOME_STRING_VALUE&assigned_to=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&status=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/fees/v1/setups?fee_calculation_entity=SOME_STRING_VALUE&fee_calculation_method=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&fee_codes=SOME_STRING_VALUE&assigned_to=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&status=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/fees/v1/setups?fee_calculation_entity=SOME_STRING_VALUE&fee_calculation_method=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&fee_codes=SOME_STRING_VALUE&assigned_to=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&status=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/fees/v1/setups?fee_calculation_entity=SOME_STRING_VALUE&fee_calculation_method=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&fee_codes=SOME_STRING_VALUE&assigned_to=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&status=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/fees/v1/exemptions:
    get:
      operationId: GetFeeExemptions
      summary: Get Fee Exemptions (BETA)
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Returns the asset exclusions in the system for recurring fee
        computations set up at Investor, Financial Product and Portfolio
        levels. 
      security:
        - ApiSecretKey: []
      tags:
        - Fees
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                title: Get fee exemption response
                description: Definition of Get fee exemption response
                required:
                  - fee_exemptions
                properties:
                  fee_exemptions:
                    type: array
                    items:
                      title: Root Type for Fee Exemption
                      description: JSON for the Fee Exemption resource type
                      required:
                        - fee_exemption_id
                        - fee_exemption_entity
                        - sub_transaction_type
                        - primary_transaction_type
                        - assigned_to
                        - exempted_assets
                        - start_date
                        - status
                        - created_at
                        - updated_at
                      properties:
                        fee_exemption_id:
                          type: string
                          example: c4b7bca6-7020-42c2-b74b-2116fb23b124
                        fee_exemption_entity:
                          type: string
                          example: Investor
                          enum:
                            - Investor
                            - Financial Product
                            - Portfolio
                        primary_transaction_type:
                          type: string
                          example: Fees
                        sub_transaction_type:
                          type: string
                          example: Service fees
                          enum:
                            - Management fee
                            - Advisor ongoing fee
                            - Service fees
                            - Product administration fees
                            - Portfolio management fees
                            - Platform fees
                        assigned_to:
                          type: array
                          example: All
                        exempted_assets:
                          type: array
                          items:
                            type: string
                            example: cash
                        start_date:
                          type: string
                          format: date
                          example: '2023-01-26'
                        end_date:
                          type: string
                          format: date
                          example: '2023-02-26'
                        status:
                          type: string
                          example: Active
                          enum:
                            - Active
                            - Inactive
                        created_at:
                          type: string
                          format: date-time
                          example: '2023-01-26T16:01:49.002Z'
                        updated_at:
                          type: string
                          format: date-time
                          example: '2023-01-26T16:01:49.002Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - name: fee_exemption_entity
          description: >-
            Level at which the recurring fee sub transaction type is setup. Can
            give multiple fee exemption entities as comma separated values to be
            retrieved via the API.(Options - Investor,Financial
            Product,Portfolio)
          schema:
            type: string
          in: query
          required: false
        - name: sub_transaction_type
          description: >-
            Fee Sub transaction type set up for the entity. Can give multiple
            Sub transaction types as comma separated values.(ex- Service
            fees,Platform fees)
          schema:
            type: string
          in: query
          required: false
        - name: assigned_to
          description: >-
            Instances of the entity for which the fee sub transaction type is
            setup.(Options - All or a single instance )
          schema:
            type: string
          in: query
          required: false
        - name: start_date
          description: >-
            Start date of the fee setup to be retrieved from the API. Should be
            on YYYY-MM-DD format.
          schema:
            type: string
            format: date
          in: query
          required: false
        - name: end_date
          description: >-
            End date of the fee setup to be retrieved from the API. Should be on
            YYYY-MM-DD format.
          schema:
            type: string
            format: date
          in: query
          required: false
        - name: status
          description: >-
            Status of the fee code to be retrieved from the API (Active,
            Inactive)
          schema:
            type: string
          in: query
          required: false
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/fees/v1/exemptions?fee_exemption_entity=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&assigned_to=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&status=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/fees/v1/exemptions?fee_exemption_entity=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&assigned_to=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&status=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/fees/v1/exemptions?fee_exemption_entity=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&assigned_to=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&status=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/fees/v1/exemptions?fee_exemption_entity=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&assigned_to=SOME_STRING_VALUE&start_date=SOME_STRING_VALUE&end_date=SOME_STRING_VALUE&status=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/investors/v1/{investor_id}/fee-nominations:
    summary: Fee Nomination resource management
    post:
      tags:
        - Investors
      security:
        - ApiSecretKey: []
      requestBody:
        content:
          application/json:
            schema:
              title: Fee nomination creation request
              description: Definition of Fee nomination creation request
              required:
                - nominations
              properties:
                nominations:
                  description: Only one fee nominee pot can be given
                  type: array
                  items:
                    title: Fee nominee pots
                    description: Definition of an single fee nominee pot
                    required:
                      - nominee_pot_id
                    type: object
                    properties:
                      nominee_pot_id:
                        type: string
                        description: Pot id of the nominee pot
                  example:
                    - nominee_pot_id: pot-UKW3452800
        required: true
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                title: Fee nomination creation response
                description: Definition of Fee nomination creation response
                required:
                  - nominations
                  - reference_version
                  - investor_id
                  - created_at
                  - updated_at
                properties:
                  nominations:
                    type: array
                    items:
                      title: Fee nominee pots
                      description: Definition of an single fee nominee pot
                      required:
                        - nominee_pot_id
                      type: object
                      properties:
                        nominee_pot_id:
                          type: string
                          description: Pot id of the nominee pot
                    example:
                      - nominee_pot_id: pot-UKW3452800
                  reference_version:
                    type: integer
                    readOnly: true
                    example: 1
                  investor_id:
                    type: string
                    example: inv-XUT11265
                    description: Investor Id of the nominee pot
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2023-02-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2023-02-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: createFeeNomination
      summary: Create Fee Nomination for an Investor (BETA)
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        This endpoint supports the creation of a Fee Nomination for an investor.
        A pot can be nominated to deduct all types of fees from all pots of an
        investor.
      parameters:
        - in: path
          name: investor_id
          schema:
            type: string
          required: true
          description: Investor Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"nominations":[{"nominee_pot_id":"pot-UKW3452800"}]}'
        - lang: Node + Native
          source: >-
            var http = require("https");


            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };


            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });


            req.write(JSON.stringify({nominations: [{nominee_pot_id:
            'pot-UKW3452800'}]}));

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"nominations\":[{\"nominee_pot_id\":\"pot-UKW3452800\"}]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations\"\n\n\tpayload := strings.NewReader(\"{\\\"nominations\\\":[{\\\"nominee_pot_id\\\":\\\"pot-UKW3452800\\\"}]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    get:
      summary: Get Fee Nomination for an Investor (BETA)
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        This endpoint returns the nominee pot set up for the investor to deduct
        fees.
      operationId: GetFeeNomination
      tags:
        - Investors
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                title: Fee nomination creation response
                description: Definition of Fee nomination creation response
                required:
                  - nominations
                  - reference_version
                  - investor_id
                  - created_at
                  - updated_at
                properties:
                  nominations:
                    type: array
                    items:
                      title: Fee nominee pots
                      description: Definition of an single fee nominee pot
                      required:
                        - nominee_pot_id
                      type: object
                      properties:
                        nominee_pot_id:
                          type: string
                          description: Pot id of the nominee pot
                    example:
                      - nominee_pot_id: pot-UKW3452800
                  reference_version:
                    type: integer
                    readOnly: true
                    example: 1
                  investor_id:
                    type: string
                    example: inv-XUT11265
                    description: Investor Id of the nominee pot
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2023-02-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2023-02-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - in: path
          name: investor_id
          schema:
            type: string
          required: true
          description: Investor Id
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    patch:
      summary: Update Fee Nomination for an Investor (BETA)
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        This endpoint supports the update of a Fee Nomination of an investor.
      operationId: UpdateFeeNomination
      tags:
        - Investors
      requestBody:
        content:
          application/json:
            schema:
              title: Fee nomination update request
              description: Definition of Fee nomination update request
              required:
                - nominations
                - reference_version
              properties:
                nominations:
                  description: >-
                    Replaces the array in the server. Only one fee nominee pot
                    can be given
                  type: array
                  items:
                    title: Fee nominee pots
                    description: Definition of an single fee nominee pot
                    required:
                      - nominee_pot_id
                    type: object
                    properties:
                      nominee_pot_id:
                        type: string
                        description: Pot id of the nominee pot
                  example:
                    - nominee_pot_id: pot-UKW3452800
                reference_version:
                  type: integer
                  example: 1
                  description: Must match with the reference version in the server
        required: true
      security:
        - ApiSecretKey: []
      responses:
        '200':
          content:
            application/json:
              schema:
                title: Fee nomination creation response
                description: Definition of Fee nomination creation response
                required:
                  - nominations
                  - reference_version
                  - investor_id
                  - created_at
                  - updated_at
                properties:
                  nominations:
                    type: array
                    items:
                      title: Fee nominee pots
                      description: Definition of an single fee nominee pot
                      required:
                        - nominee_pot_id
                      type: object
                      properties:
                        nominee_pot_id:
                          type: string
                          description: Pot id of the nominee pot
                    example:
                      - nominee_pot_id: pot-UKW3452800
                  reference_version:
                    type: integer
                    readOnly: true
                    example: 1
                  investor_id:
                    type: string
                    example: inv-XUT11265
                    description: Investor Id of the nominee pot
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2023-02-08T07:36:05.884Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    example: '2023-02-10T07:36:05.884Z'
          description: success
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: path
          name: investor_id
          schema:
            type: string
          required: true
          description: Investor Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request PATCH \
              --url https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"nominations":[{"nominee_pot_id":"pot-UKW3452800"}],"reference_version":1}'
        - lang: Node + Native
          source: >-
            var http = require("https");


            var options = {
              "method": "PATCH",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };


            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });


            req.write(JSON.stringify({nominations: [{nominee_pot_id:
            'pot-UKW3452800'}], reference_version: 1}));

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Patch.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"nominations\":[{\"nominee_pot_id\":\"pot-UKW3452800\"}],\"reference_version\":1}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations\"\n\n\tpayload := strings.NewReader(\"{\\\"nominations\\\":[{\\\"nominee_pot_id\\\":\\\"pot-UKW3452800\\\"}],\\\"reference_version\\\":1}\")\n\n\treq, _ := http.NewRequest(\"PATCH\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    delete:
      summary: Delete Fee Nomination for an Investor (BETA)
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        This endpoint supports the deletion of a Fee Nomination.
      operationId: DeleteFeeNomination
      tags:
        - Investors
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                title: Fee nomination delete response
                description: Success message
                required:
                  - message
                properties:
                  message:
                    type: string
                    example: >-
                      Successfully deleted nominations for investor
                      [inv-XUT11265]
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: path
          name: investor_id
          schema:
            type: string
          required: true
          description: Investor Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request DELETE \
              --url https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "DELETE",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Delete.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investors/v1/%7Binvestor_id%7D/fee-nominations\"\n\n\treq, _ := http.NewRequest(\"DELETE\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/contributing-employers/v1:
    post:
      summary: Create new contributing employer
      operationId: createContributingEmployer
      tags:
        - Contributing Employers
      security:
        - ApiSecretKey: []
      requestBody:
        content:
          application/json:
            schema:
              required:
                - name
                - investor_id
                - registration_number
                - address
                - status
              properties:
                name:
                  type: string
                  description: Name of the contributing employer
                  maxLength: 100
                  example: Acme Ltd
                investor_id:
                  type: string
                  description: Id of the investor
                  example: inv-QXR38578
                registration_number:
                  type: string
                  description: Registration number of the contributing employer
                  example: '12345678'
                address:
                  type: object
                  properties:
                    postal_code:
                      type: string
                      example: S2 2DF
                    address_line:
                      type: string
                      nullable: true
                      example: '14'
                    street_name:
                      type: string
                      nullable: true
                      example: Tottenham Court Road
                    city:
                      type: string
                      nullable: true
                      example: London
                    state:
                      type: string
                      nullable: true
                      example: England
                    country:
                      type: string
                      description: 3 character country code inline with ISO 3166-1 alpha-3
                      minLength: 3
                      maxLength: 3
                      example: GBR
                  required:
                    - postal_code
                    - country
                status:
                  type: string
                  description: Status of the contributing employer
                  enum:
                    - active
                    - inactive
                  example: active
                bank_accounts:
                  type: array
                  description: >-
                    Allow to create only one bank account when creating a new
                    contributing employer.
                  items:
                    required:
                      - account_name
                      - default_account
                      - bank_account_number
                    properties:
                      account_name:
                        type: string
                        maxLength: 100
                        example: David Brown
                      default_account:
                        type: string
                        enum:
                          - 'yes'
                          - 'no'
                        description: For contributing employer, this will always be no
                        example: 'no'
                      bank_account_number:
                        type: string
                        minLength: 6
                        maxLength: 8
                        description: Unique for the investor and contributing employer
                        example: '99005678'
                      account_status:
                        type: string
                        enum:
                          - active
                          - inactive
                        example: active
                      sort_code:
                        type: string
                        minLength: 6
                        maxLength: 8
                        example: '778856'
                      building_society_roll_number:
                        type: string
                        minLength: 1
                        maxLength: 18
                        example: '11332272'
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                description: Contributing Employer
                type: object
                properties:
                  contributing_employer_id:
                    type: string
                    readOnly: true
                    maxLength: 100
                    description: system generated id
                    example: cem-ZWY58878
                  name:
                    type: string
                    description: Name of the contributing employer
                    maxLength: 100
                    example: Acme Ltd
                  investor_id:
                    type: string
                    description: Id of the investor
                    example: inv-QXR38578
                  registration_number:
                    type: string
                    description: Registration number of the contributing employer
                    example: '12345678'
                  address:
                    type: object
                    properties:
                      address_line:
                        type: string
                        description: Address line
                        example: '14'
                      city:
                        type: string
                        description: City
                        example: London
                      state:
                        type: string
                        description: State
                        example: England
                      country:
                        type: string
                        description: Country
                        example: GBR
                      postal_code:
                        type: string
                        description: Postal code
                        example: S2 2DF
                  status:
                    type: string
                    description: Status of the contributing employer
                    example: active
                  bank_accounts:
                    type: array
                    description: >-
                      Allowed to create only one bank account when creating a
                      new contributing employer.
                    items:
                      properties:
                        bank_account_id:
                          type: string
                          readOnly: true
                          maxLength: 100
                          description: system generated id
                          example: ba-20b904f7-8d05-4efd-bd36-4ec3b1ce8e03
                        investor_id:
                          type: string
                          description: Id of the investor
                          example: inv-QXR38578
                        contributing_party_id:
                          type: string
                          description: Id of the contributing party
                          example: cem-ZWY58878
                        account_name:
                          type: string
                          maxLength: 100
                          example: David Brown
                        bank_account_type:
                          type: string
                          enum:
                            - investor
                            - contributing_employer
                          example: contributing_employer
                        default_account:
                          type: string
                          enum:
                            - 'yes'
                            - 'no'
                          description: For contributing employer, this will always be no
                          example: 'no'
                        bank_account_number:
                          type: string
                          minLength: 6
                          maxLength: 8
                          description: Unique for the investor and contributing employer
                          example: '****5678'
                        account_status:
                          type: string
                          enum:
                            - active
                            - inactive
                          example: active
                        sort_code:
                          type: string
                          minLength: 6
                          maxLength: 8
                          example: '****56'
                        building_society_roll_number:
                          type: string
                          minLength: 1
                          maxLength: 18
                          example: '******72'
                        reference_version:
                          type: integer
                          readOnly: true
                          example: 1
                        created_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-08T07:36:05.884Z'
                        updated_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2020-07-10T07:36:05.884Z'
                  reference_version:
                    type: integer
                    example: 1
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    description: Date and time when the contributing employer was created
                    example: '2020-01-01T00:00:00.000Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    description: >-
                      Date and time when the contributing employer was last
                      updated
                    example: '2020-01-01T00:00:00.000Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/contributing-employers/v1 \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"name":"Acme Ltd","investor_id":"inv-QXR38578","registration_number":"12345678","address":{"postal_code":"S2 2DF","address_line":"14","street_name":"Tottenham Court Road","city":"London","state":"England","country":"GBR"},"status":"active","bank_accounts":[{"account_name":"David Brown","default_account":"no","bank_account_number":"99005678","account_status":"active","sort_code":"778856","building_society_roll_number":"11332272"}]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/contributing-employers/v1",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              name: 'Acme Ltd',
              investor_id: 'inv-QXR38578',
              registration_number: '12345678',
              address: {
                postal_code: 'S2 2DF',
                address_line: '14',
                street_name: 'Tottenham Court Road',
                city: 'London',
                state: 'England',
                country: 'GBR'
              },
              status: 'active',
              bank_accounts: [
                {
                  account_name: 'David Brown',
                  default_account: 'no',
                  bank_account_number: '99005678',
                  account_status: 'active',
                  sort_code: '778856',
                  building_society_roll_number: '11332272'
                }
              ]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/contributing-employers/v1")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{\"name\":\"Acme
            Ltd\",\"investor_id\":\"inv-QXR38578\",\"registration_number\":\"12345678\",\"address\":{\"postal_code\":\"S2
            2DF\",\"address_line\":\"14\",\"street_name\":\"Tottenham Court
            Road\",\"city\":\"London\",\"state\":\"England\",\"country\":\"GBR\"},\"status\":\"active\",\"bank_accounts\":[{\"account_name\":\"David
            Brown\",\"default_account\":\"no\",\"bank_account_number\":\"99005678\",\"account_status\":\"active\",\"sort_code\":\"778856\",\"building_society_roll_number\":\"11332272\"}]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/contributing-employers/v1\"\n\n\tpayload := strings.NewReader(\"{\\\"name\\\":\\\"Acme Ltd\\\",\\\"investor_id\\\":\\\"inv-QXR38578\\\",\\\"registration_number\\\":\\\"12345678\\\",\\\"address\\\":{\\\"postal_code\\\":\\\"S2 2DF\\\",\\\"address_line\\\":\\\"14\\\",\\\"street_name\\\":\\\"Tottenham Court Road\\\",\\\"city\\\":\\\"London\\\",\\\"state\\\":\\\"England\\\",\\\"country\\\":\\\"GBR\\\"},\\\"status\\\":\\\"active\\\",\\\"bank_accounts\\\":[{\\\"account_name\\\":\\\"David Brown\\\",\\\"default_account\\\":\\\"no\\\",\\\"bank_account_number\\\":\\\"99005678\\\",\\\"account_status\\\":\\\"active\\\",\\\"sort_code\\\":\\\"778856\\\",\\\"building_society_roll_number\\\":\\\"11332272\\\"}]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    get:
      summary: Retrieve all the contributing employers of a particular investor
      operationId: getAllContributingEmployers
      tags:
        - Contributing Employers
      security:
        - ApiSecretKey: []
      parameters:
        - name: investor_id
          description: Valid Investor Id
          schema:
            type: string
          in: query
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                description: Array of contributing employers
                type: object
                properties:
                  contributingEmployers:
                    type: array
                    items:
                      description: Contributing Employer
                      type: object
                      properties:
                        contributing_employer_id:
                          type: string
                          readOnly: true
                          maxLength: 100
                          description: system generated id
                          example: cem-ZWY58878
                        name:
                          type: string
                          description: Name of the contributing employer
                          maxLength: 100
                          example: Acme Ltd
                        investor_id:
                          type: string
                          description: Id of the investor
                          example: inv-QXR38578
                        registration_number:
                          type: string
                          description: Registration number of the contributing employer
                          example: '12345678'
                        address:
                          type: object
                          properties:
                            address_line_1:
                              type: string
                              description: Address line 1
                              example: 123 Main Street
                            address_line_2:
                              type: string
                              description: Address line 2
                              example: Suite 100
                            city:
                              type: string
                              description: City
                              example: San Francisco
                            state:
                              type: string
                              description: State
                              example: CA
                            country:
                              type: string
                              description: Country
                              example: US
                            postal_code:
                              type: string
                              description: Postal code
                              example: '94105'
                        status:
                          type: string
                          description: Status of the contributing employer
                          example: active
                        bank_accounts:
                          type: array
                          description: Array of bank account IDs
                          items:
                            type: string
                            example: ba-bc00c28f-b3fc-42b7
                        reference_version:
                          type: integer
                          example: 1
                          readOnly: true
                        created_at:
                          type: string
                          format: date-time
                          readOnly: true
                          description: >-
                            Date and time when the contributing employer was
                            created
                          example: '2020-01-01T00:00:00.000Z'
                        updated_at:
                          type: string
                          format: date-time
                          readOnly: true
                          description: >-
                            Date and time when the contributing employer was
                            last updated
                          example: '2020-01-01T00:00:00.000Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/contributing-employers/v1?investor_id=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/contributing-employers/v1?investor_id=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/contributing-employers/v1?investor_id=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/contributing-employers/v1?investor_id=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/contributing-employers/v1/{contributing_employer_id}:
    get:
      summary: Retrieve a particular contributing employer
      operationId: getContributingEmployer
      tags:
        - Contributing Employers
      security:
        - ApiSecretKey: []
      parameters:
        - in: path
          name: contributing_employer_id
          required: true
          schema:
            type: string
          description: Contributing Employer Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                description: Contributing Employer
                type: object
                properties:
                  contributing_employer_id:
                    type: string
                    readOnly: true
                    maxLength: 100
                    description: system generated id
                    example: cem-ZWY58878
                  name:
                    type: string
                    description: Name of the contributing employer
                    maxLength: 100
                    example: Acme Ltd
                  investor_id:
                    type: string
                    description: Id of the investor
                    example: inv-QXR38578
                  registration_number:
                    type: string
                    description: Registration number of the contributing employer
                    example: '12345678'
                  address:
                    type: object
                    properties:
                      address_line_1:
                        type: string
                        description: Address line 1
                        example: 123 Main Street
                      address_line_2:
                        type: string
                        description: Address line 2
                        example: Suite 100
                      city:
                        type: string
                        description: City
                        example: San Francisco
                      state:
                        type: string
                        description: State
                        example: CA
                      country:
                        type: string
                        description: Country
                        example: US
                      postal_code:
                        type: string
                        description: Postal code
                        example: '94105'
                  status:
                    type: string
                    description: Status of the contributing employer
                    example: active
                  bank_accounts:
                    type: array
                    description: Array of bank account IDs
                    items:
                      type: string
                      example: ba-bc00c28f-b3fc-42b7
                  reference_version:
                    type: integer
                    example: 1
                    readOnly: true
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    description: Date and time when the contributing employer was created
                    example: '2020-01-01T00:00:00.000Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    description: >-
                      Date and time when the contributing employer was last
                      updated
                    example: '2020-01-01T00:00:00.000Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/contributing-employers/v1/%7Bcontributing_employer_id%7D \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/contributing-employers/v1/%7Bcontributing_employer_id%7D",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/contributing-employers/v1/%7Bcontributing_employer_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/contributing-employers/v1/%7Bcontributing_employer_id%7D\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    patch:
      summary: Update a particular contributing employer
      operationId: updateContributingEmployer
      tags:
        - Contributing Employers
      security:
        - ApiSecretKey: []
      parameters:
        - in: path
          name: contributing_employer_id
          required: true
          schema:
            type: string
          description: Contributing Employer Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      requestBody:
        content:
          application/json:
            schema:
              title: Update Request Body for contributing employer
              description: JSON for the Update contributing employer resource type
              required:
                - reference_version
              properties:
                name:
                  type: string
                  description: Name of the contributing employer
                  maxLength: 100
                  example: Acme Ltd
                registration_number:
                  type: string
                  description: Registration number of the contributing employer
                  example: '12345678'
                address:
                  type: object
                  properties:
                    postal_code:
                      type: string
                      example: S2 2DF
                    address_line:
                      type: string
                      nullable: true
                      example: '14'
                    street_name:
                      type: string
                      nullable: true
                      example: Tottenham Court Road
                    city:
                      type: string
                      nullable: true
                      example: London
                    state:
                      type: string
                      nullable: true
                      example: England
                    country:
                      type: string
                      description: 3 character country code inline with ISO 3166-1 alpha-3
                      minLength: 3
                      maxLength: 3
                      example: GBR
                  required:
                    - postal_code
                    - country
                status:
                  type: string
                  description: Status of the contributing employer
                  enum:
                    - active
                    - inactive
                  example: active
                reference_version:
                  type: integer
                  example: 1
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                description: Contributing Employer
                type: object
                properties:
                  contributing_employer_id:
                    type: string
                    readOnly: true
                    maxLength: 100
                    description: system generated id
                    example: cem-ZWY58878
                  name:
                    type: string
                    description: Name of the contributing employer
                    maxLength: 100
                    example: Acme Ltd
                  investor_id:
                    type: string
                    description: Id of the investor
                    example: inv-QXR38578
                  registration_number:
                    type: string
                    description: Registration number of the contributing employer
                    example: '12345678'
                  address:
                    type: object
                    properties:
                      address_line_1:
                        type: string
                        description: Address line 1
                        example: 123 Main Street
                      address_line_2:
                        type: string
                        description: Address line 2
                        example: Suite 100
                      city:
                        type: string
                        description: City
                        example: San Francisco
                      state:
                        type: string
                        description: State
                        example: CA
                      country:
                        type: string
                        description: Country
                        example: US
                      postal_code:
                        type: string
                        description: Postal code
                        example: '94105'
                  status:
                    type: string
                    description: Status of the contributing employer
                    example: active
                  bank_accounts:
                    type: array
                    description: Array of bank account IDs
                    items:
                      type: string
                      example: ba-bc00c28f-b3fc-42b7
                  reference_version:
                    type: integer
                    example: 1
                    readOnly: true
                  created_at:
                    type: string
                    format: date-time
                    readOnly: true
                    description: Date and time when the contributing employer was created
                    example: '2020-01-01T00:00:00.000Z'
                  updated_at:
                    type: string
                    format: date-time
                    readOnly: true
                    description: >-
                      Date and time when the contributing employer was last
                      updated
                    example: '2020-01-01T00:00:00.000Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request PATCH \
              --url https://web_host_name/tenant/contributing-employers/v1/%7Bcontributing_employer_id%7D \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"name":"Acme Ltd","registration_number":"12345678","address":{"postal_code":"S2 2DF","address_line":"14","street_name":"Tottenham Court Road","city":"London","state":"England","country":"GBR"},"status":"active","reference_version":1}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "PATCH",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/contributing-employers/v1/%7Bcontributing_employer_id%7D",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              name: 'Acme Ltd',
              registration_number: '12345678',
              address: {
                postal_code: 'S2 2DF',
                address_line: '14',
                street_name: 'Tottenham Court Road',
                city: 'London',
                state: 'England',
                country: 'GBR'
              },
              status: 'active',
              reference_version: 1
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/contributing-employers/v1/%7Bcontributing_employer_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Patch.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{\"name\":\"Acme
            Ltd\",\"registration_number\":\"12345678\",\"address\":{\"postal_code\":\"S2
            2DF\",\"address_line\":\"14\",\"street_name\":\"Tottenham Court
            Road\",\"city\":\"London\",\"state\":\"England\",\"country\":\"GBR\"},\"status\":\"active\",\"reference_version\":1}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/contributing-employers/v1/%7Bcontributing_employer_id%7D\"\n\n\tpayload := strings.NewReader(\"{\\\"name\\\":\\\"Acme Ltd\\\",\\\"registration_number\\\":\\\"12345678\\\",\\\"address\\\":{\\\"postal_code\\\":\\\"S2 2DF\\\",\\\"address_line\\\":\\\"14\\\",\\\"street_name\\\":\\\"Tottenham Court Road\\\",\\\"city\\\":\\\"London\\\",\\\"state\\\":\\\"England\\\",\\\"country\\\":\\\"GBR\\\"},\\\"status\\\":\\\"active\\\",\\\"reference_version\\\":1}\")\n\n\treq, _ := http.NewRequest(\"PATCH\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/recurring-contributions/v1:
    get:
      tags:
        - Recurring Contributions
      responses:
        '200':
          content:
            application/json:
              schema:
                required:
                  - recurring_contributions
                  - next_page_available
                type: object
                properties:
                  recurring_contributions:
                    type: array
                    items:
                      required:
                        - contribution_id
                        - contribution_name
                        - pot_id
                        - financial_product_id
                        - investor_id
                        - amount
                        - sub_transaction_type
                        - currency
                        - payment_type
                        - service_provider
                        - purpose
                        - payment_schedule
                        - service_provider_params
                        - status
                        - created_at
                        - updated_at
                      properties:
                        contribution_id:
                          type: string
                          example: RCB-GC-AB24DE7
                          description: System generated unique id
                        contribution_name:
                          type: string
                          maxLength: 100
                          description: User given identifier for the contribution
                          example: Contributions to SIPP
                        pot_id:
                          type: string
                          description: Pot ID of investor to direct the payment
                          example: pot-UKW34528503
                        financial_product_id:
                          type: string
                          description: Financial Product Id
                          example: sipp_accumulation
                        investor_id:
                          type: string
                          description: >-
                            Investor ID of the investor making the contribution.
                            For a joint pot, Investor ID of the party making
                            contribution should be included.
                          example: inv-XUT11265
                        amount:
                          type: string
                          description: >-
                            Amount as a numeral string with two decimal points.
                            (ex: 1500.00). Should be greater than or equal to
                            the minimum investment for the financial product.
                          example: '100.00'
                        sub_transaction_type:
                          type: string
                          example: Regular contribution - Employer
                          enum:
                            - Regular contribution
                            - Regular contribution - non relievable
                            - Regular contribution - Employer
                          description: >-
                            Sub transaction type for recurring contribution.
                            Regular contribution - non relievable is only
                            allowed for pots linked to SIPP Accumulation product
                            type
                        currency:
                          type: string
                          description: Must be a currency configured for the Pot
                          example: GBP
                        payment_type:
                          type: string
                          example: direct_debit
                          description: Type of payment
                          enum:
                            - direct_debit
                        service_provider:
                          type: string
                          example: gocardless
                          description: >-
                            Service provider managing the recurring payment
                            subscription
                          enum:
                            - gocardless
                        purpose:
                          type: string
                          example: invest
                          description: >-
                            invest option is allowed only if
                            investment_instructions given or a portfolio is
                            attached, if not the purpose should be cash.
                          enum:
                            - cash
                            - invest
                        investment_instructions:
                          description: >-
                            Mandatory only if purpose:"invest" and pot does not
                            have a portfolio template attached (e.g. An
                            execution-only or direct-to-consumer wealth
                            manager).
                          type: array
                          items:
                            required:
                              - investment_product_id
                            properties:
                              investment_product_id:
                                type: string
                              quantity:
                                description: >-
                                  Require if `value` is not available. Must be
                                  in correct pattern (eg: 25, 332.34,
                                  1050.0025). For `funds`, upto 4 decimal
                                  places. For `equities`, `bonds` and `etf`, 0
                                  decimal places allowed.
                                type: string
                              value:
                                description: >-
                                  Require if `quantity` is not available. Must
                                  be in correct pattern (upto 2 decimal places,
                                  eg: 25, 332.3, 1050.25).
                                type: string
                          example:
                            - investment_product_id: isa_1223931892
                              quantity: '300'
                            - investment_product_id: isa_9913091898
                              quantity: '500'
                        source_id:
                          type: string
                          example: cem-ASP43560
                          description: >-
                            Only for payments intents for employer contributions
                            made towards SIPP Accumulation Products
                        payment_schedule:
                          type: object
                          description: Parameters based on payment schedule
                          required:
                            - interval_unit
                            - interval
                            - start_date
                          properties:
                            interval_unit:
                              type: string
                              description: Repeating interval unit of recurring payment
                              enum:
                                - monthly
                            interval:
                              type: integer
                              description: >-
                                Repeating interval of recurring payment. For
                                monthly, should be 1-12
                            date:
                              type: integer
                              description: >-
                                Date the payment is expected to be triggered if
                                frequency is monthly. 1-28 or -1 to indicate the
                                last day of the month
                            start_date:
                              type: string
                              format: date
                              description: >-
                                Date to initiate the recurring payments. If
                                approvals haven't been received by the given
                                start date, the start date will be moved to the
                                subscription activation date. Should be in
                                YYYY-MM-DD format
                            end_date:
                              type: string
                              format: date
                              description: >-
                                Date to conclude the recurring payments, if
                                count is not provided. Should be in YYYY-MM-DD
                                format
                            count:
                              type: integer
                              description: >-
                                No of recurring payments to trigger before
                                concluding the payments, if an end date is not
                                provided
                          example:
                            interval_unit: monthly
                            interval: 2
                            date: 1
                            start_date: '2023-04-02'
                            end_date: '2023-11-02'
                        service_provider_params:
                          type: object
                          required:
                            - status
                          properties:
                            status:
                              type: string
                              example: Subscription created
                              description: >-
                                Status transitions depend on the service
                                provider
                              enum:
                                - Pending service provider setup
                                - Customer data collection completed
                                - Customer data created
                                - Customer data creation failed
                                - Authorization received
                                - Authorization failed
                                - Subscription created
                                - Subscription creation failed
                                - Subscription paused
                                - Subscription resumed
                                - Subscription cancelled
                                - Subscription finished
                                - Mandate cancelled
                                - Mandate expired
                                - Mandate replaced
                                - Mandate transferred
                            authorization_reference:
                              type: string
                              example: MD000VDMMYGD0T
                              description: >-
                                Authorization reference ID provided by a service
                                provider maintained under payment authorizations
                                for an investor
                            contribution_reference:
                              type: string
                              example: SB000A6A5EVJHE
                              description: >-
                                Contribution reference ID provided by a service
                                provider maintained under payment authorizations
                                for an investor
                            customer_reference:
                              type: string
                              example: CU000Y5VVH7TDQ
                              description: >-
                                Customer reference ID provided by a service
                                provider maintained under payment authorizations
                                for an investor
                            request_id:
                              type: string
                              example: BRQ0004CZJA19GF
                              description: >-
                                Request ID used to create a contribution with
                                the service provider
                            reason:
                              type: string
                              example: Paid out
                              description: Reason for disabling/cancelling the contribution
                            authorization_url:
                              type: string
                              example: https://authexample.gocardless-sandbox.com
                              description: >-
                                Authorization URL sent by service provider to
                                setup customer reference data and bank account
                                information
                        status:
                          type: string
                          example: Active
                          enum:
                            - Pending
                            - Active
                            - Finished
                            - Rejected
                            - Paused
                            - Cancelled
                        next_payment_dates:
                          type: array
                          example:
                            - '2023-04-16'
                            - '2023-04-30'
                          items:
                            type: string
                            format: date
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
          description: A paged array of Recurring Contributions
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - in: query
          name: contribution_id
          schema:
            type: string
          required: false
          description: Contribution Id
        - in: query
          name: pot_id
          schema:
            type: string
          required: false
          description: Pot Id
        - in: query
          name: financial_product_id
          schema:
            type: string
          required: false
          description: Financial Product Id
        - in: query
          name: investor_id
          schema:
            type: string
          required: false
          description: Investor Id
        - name: payment_type
          description: Payment type of the payment to be retrieved from the API
          schema:
            type: string
            enum:
              - direct_debit
          in: query
          required: false
        - name: sub_transaction_type
          description: Sub Transaction Type of the recurring contribution
          schema:
            type: string
            enum:
              - Regular contribution
              - Regular contribution - non relievable
              - Regular contribution - Employer
          in: query
          required: false
        - name: status
          description: Status of the recurring contribution
          schema:
            type: string
            enum:
              - Pending
              - Active
              - Finished
              - Rejected
              - Paused
              - Cancelled
          in: query
          required: false
        - name: page_size
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 1000 and 1. Max page size is 8000.
            Results are sorted decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: page_number
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 1000 and 1. Results are sorted
            decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: sort
          description: Sorting order; results are sorted by creation time.
          schema:
            type: string
            default: desc
            enum:
              - asc
              - desc
          in: query
          required: false
      operationId: getAllPayments
      summary: Get All Recurring Contributions
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Returns all the recurring contributions set up for investors in an
        array. \

        Recurring Contributions can be requested using filters 
        `contribution_id`, `pot_id`, `investor_id`, `payment_type`,
        `sub_transaction_type`, `financial_product_id` and `status` or a
        combination of these filters.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/recurring-contributions/v1?contribution_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&payment_type=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/recurring-contributions/v1?contribution_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&payment_type=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/recurring-contributions/v1?contribution_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&payment_type=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/recurring-contributions/v1?contribution_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&payment_type=SOME_STRING_VALUE&sub_transaction_type=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    post:
      requestBody:
        content:
          application/json:
            schema:
              required:
                - request_id
                - contribution_name
                - pot_id
                - investor_id
                - amount
                - sub_transaction_type
                - currency
                - payment_type
                - service_provider
                - purpose
                - payment_schedule
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: 'Unique request id to ensure idempotency. (ex: UUID)'
                contribution_name:
                  type: string
                  maxLength: 100
                  description: User given identifier for the contribution
                  example: Contributions to SIPP
                pot_id:
                  type: string
                  description: Pot ID of investor to direct the payment
                  example: pot-UKW34528503
                investor_id:
                  type: string
                  description: >-
                    Investor ID of the investor making the contribution. For a
                    joint pot, Investor ID of the party making contribution
                    should be included.
                  example: inv-XUT11265
                amount:
                  type: string
                  description: >-
                    Amount as a numeral string with two decimal points. (ex:
                    1500.00) Should be greater than or equal to the minimum
                    investment for the financial product.
                  example: '100.00'
                sub_transaction_type:
                  type: string
                  example: Regular contribution - Employer
                  enum:
                    - Regular contribution
                    - Regular contribution - non relievable
                    - Regular contribution - Employer
                  description: >-
                    Sub transaction type for recurring contribution. Regular
                    contribution - non relievable is only allowed for pots
                    linked to SIPP Accumulation product type
                currency:
                  type: string
                  description: Must be a currency configured for the Pot
                  example: GBP
                payment_type:
                  type: string
                  description: Type of payment
                  example: direct_debit
                  enum:
                    - direct_debit
                service_provider:
                  type: string
                  description: Service provider managing the recurring payment subscription
                  example: gocardless
                  enum:
                    - gocardless
                purpose:
                  type: string
                  example: invest
                  description: >-
                    invest option is allowed only if investment_instructions
                    given or a portfolio is attached, if not the purpose should
                    be cash.
                  enum:
                    - cash
                    - invest
                investment_instructions:
                  description: >-
                    Mandatory only if purpose:"invest" and pot does not have a
                    portfolio template attached (e.g. An execution-only or
                    direct-to-consumer wealth manager).
                  type: array
                  items:
                    required:
                      - investment_product_id
                    properties:
                      investment_product_id:
                        type: string
                      quantity:
                        description: >-
                          Require if `value` is not available. Must be in
                          correct pattern (eg: 25, 332.34, 1050.0025). For
                          `funds`, upto 4 decimal places. For `equities`,
                          `bonds` and `etf`, 0 decimal places allowed.
                        type: string
                      value:
                        description: >-
                          Require if `quantity` is not available. Must be in
                          correct pattern (upto 2 decimal places, eg: 25, 332.3,
                          1050.25).
                        type: string
                  example:
                    - investment_product_id: isa_1223931892
                      quantity: '300'
                    - investment_product_id: isa_9913091898
                      quantity: '500'
                source_id:
                  type: string
                  example: cem-ASP43560
                  description: >-
                    Required only for payments intents for employer
                    contributions made towards SIPP Accumulation Products
                payment_schedule:
                  type: object
                  description: Parameters based on payment schedule
                  required:
                    - interval_unit
                    - interval
                    - start_date
                  properties:
                    interval_unit:
                      type: string
                      description: Repeating interval unit of recurring payment
                      enum:
                        - monthly
                    interval:
                      type: integer
                      description: >-
                        Repeating interval of recurring payment. For monthly,
                        should be 1-12
                    date:
                      type: integer
                      description: >-
                        Date the payment is expected to be triggered if
                        frequency is monthly. 1-28 or -1 to indicate the last
                        day of the month
                    start_date:
                      type: string
                      format: date
                      description: >-
                        Date to initiate the recurring payments. If approvals
                        haven't been received by the given start date, the start
                        date will be moved to the subscription activation date.
                        Should be in YYYY-MM-DD format
                    end_date:
                      type: string
                      format: date
                      description: >-
                        Date to conclude the recurring payments, if count is not
                        provided. Should be in YYYY-MM-DD format
                    count:
                      type: integer
                      description: >-
                        No of recurring payments to trigger before concluding
                        the payments, if an end date is not provided
                  example:
                    interval_unit: monthly
                    interval: 2
                    date: 1
                    start_date: '2023-04-02'
                    end_date: '2023-11-02'
        required: true
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      tags:
        - Recurring Contributions
      responses:
        '201':
          description: Resource created
          content:
            application/json:
              schema:
                required:
                  - contribution_id
                  - contribution_name
                  - pot_id
                  - investor_id
                  - amount
                  - sub_transaction_type
                  - currency
                  - payment_type
                  - service_provider
                  - purpose
                  - payment_schedule
                  - service_provider_params
                  - status
                properties:
                  contribution_id:
                    type: string
                    example: RCB-GC-AB24DE7
                    description: System generated unique id
                  contribution_name:
                    type: string
                    maxLength: 100
                    description: User given identifier for the contribution
                    example: Contributions to SIPP
                  pot_id:
                    type: string
                    description: Pot ID of investor to direct the payment
                    example: pot-UKW34528503
                  investor_id:
                    type: string
                    description: >-
                      Investor ID of the investor making the contribution. For a
                      joint pot, Investor ID of the party making contribution
                      should be included.
                    example: inv-XUT11265
                  amount:
                    type: string
                    description: >-
                      Amount as a numeral string with two decimal points. (ex:
                      1500.00). Should be greater than or equal to the minimum
                      investment for the financial product.
                    example: '100.00'
                  sub_transaction_type:
                    type: string
                    example: Regular contribution - Employer
                    enum:
                      - Regular contribution
                      - Regular contribution - non relievable
                      - Regular contribution - Employer
                    description: >-
                      Sub transaction type for recurring contribution. Regular
                      contribution - non relievable is only allowed for pots
                      linked to SIPP Accumulation product type
                  currency:
                    type: string
                    description: Must be a currency configured for the Pot
                    example: GBP
                  payment_type:
                    type: string
                    example: direct_debit
                    description: Type of payment
                    enum:
                      - direct_debit
                  service_provider:
                    type: string
                    example: gocardless
                    description: >-
                      Service provider managing the recurring payment
                      subscription
                    enum:
                      - gocardless
                  purpose:
                    type: string
                    example: invest
                    description: >-
                      invest option is allowed only if investment_instructions
                      given or a portfolio is attached, if not the purpose
                      should be cash.
                    enum:
                      - cash
                      - invest
                  investment_instructions:
                    description: >-
                      Mandatory only if purpose:"invest" and pot does not have a
                      portfolio template attached (e.g. An execution-only or
                      direct-to-consumer wealth manager).
                    type: array
                    items:
                      required:
                        - investment_product_id
                      properties:
                        investment_product_id:
                          type: string
                        quantity:
                          description: >-
                            Require if `value` is not available. Must be in
                            correct pattern (eg: 25, 332.34, 1050.0025). For
                            `funds`, upto 4 decimal places. For `equities`,
                            `bonds` and `etf`, 0 decimal places allowed.
                          type: string
                        value:
                          description: >-
                            Require if `quantity` is not available. Must be in
                            correct pattern (upto 2 decimal places, eg: 25,
                            332.3, 1050.25).
                          type: string
                    example:
                      - investment_product_id: isa_1223931892
                        quantity: '300'
                      - investment_product_id: isa_9913091898
                        quantity: '500'
                  source_id:
                    type: string
                    example: cem-ASP43560
                    description: >-
                      Only for payments intents for employer contributions made
                      towards SIPP Accumulation Products
                  payment_schedule:
                    type: object
                    description: Parameters based on payment schedule
                    required:
                      - interval_unit
                      - interval
                      - start_date
                    properties:
                      interval_unit:
                        type: string
                        description: Repeating interval unit of recurring payment
                        enum:
                          - monthly
                      interval:
                        type: integer
                        description: >-
                          Repeating interval of recurring payment. For monthly,
                          should be 1-12
                      date:
                        type: integer
                        description: >-
                          Date the payment is expected to be triggered if
                          frequency is monthly. 1-28 or -1 to indicate the last
                          day of the month
                      start_date:
                        type: string
                        format: date
                        description: >-
                          Date to initiate the recurring payments. If approvals
                          haven't been received by the given start date, the
                          start date will be moved to the subscription
                          activation date. Should be in YYYY-MM-DD format
                      end_date:
                        type: string
                        format: date
                        description: >-
                          Date to conclude the recurring payments, if count is
                          not provided. Should be in YYYY-MM-DD format
                      count:
                        type: integer
                        description: >-
                          No of recurring payments to trigger before concluding
                          the payments, if an end date is not provided
                    example:
                      interval_unit: monthly
                      interval: 2
                      date: 1
                      start_date: '2023-04-02'
                      end_date: '2023-11-02'
                  service_provider_params:
                    type: object
                    required:
                      - status
                    properties:
                      status:
                        type: string
                        example: Pending service provider setup
                        description: Status transitions depend on the service provider
                        enum:
                          - Pending service provider setup
                          - Customer data collection completed
                          - Customer data created
                          - Customer data creation failed
                          - Authorization received
                          - Authorization failed
                          - Subscription created
                          - Subscription creation failed
                          - Subscription paused
                          - Subscription resumed
                          - Subscription cancelled
                          - Subscription finished
                          - Mandate cancelled
                          - Mandate expired
                          - Mandate replaced
                          - Mandate transferred
                  status:
                    type: string
                    example: Pending
                    enum:
                      - Pending
                      - Active
                      - Finished
                      - Rejected
                      - Paused
                      - Cancelled
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: RecurringPayment
      summary: Create Recurring Payment
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Create a new recurring payment for an investors pot, which will be setup
        with the selected service provider to manage and trigger the payments on
        a pre-defined schedule.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/recurring-contributions/v1 \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","contribution_name":"Contributions to SIPP","pot_id":"pot-UKW34528503","investor_id":"inv-XUT11265","amount":"100.00","sub_transaction_type":"Regular contribution - Employer","currency":"GBP","payment_type":"direct_debit","service_provider":"gocardless","purpose":"invest","investment_instructions":[{"investment_product_id":"isa_1223931892","quantity":"300"},{"investment_product_id":"isa_9913091898","quantity":"500"}],"source_id":"cem-ASP43560","payment_schedule":{"interval_unit":"monthly","interval":2,"date":1,"start_date":"2023-04-02","end_date":"2023-11-02"}}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/recurring-contributions/v1",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              contribution_name: 'Contributions to SIPP',
              pot_id: 'pot-UKW34528503',
              investor_id: 'inv-XUT11265',
              amount: '100.00',
              sub_transaction_type: 'Regular contribution - Employer',
              currency: 'GBP',
              payment_type: 'direct_debit',
              service_provider: 'gocardless',
              purpose: 'invest',
              investment_instructions: [
                {investment_product_id: 'isa_1223931892', quantity: '300'},
                {investment_product_id: 'isa_9913091898', quantity: '500'}
              ],
              source_id: 'cem-ASP43560',
              payment_schedule: {
                interval_unit: 'monthly',
                interval: 2,
                date: 1,
                start_date: '2023-04-02',
                end_date: '2023-11-02'
              }
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/recurring-contributions/v1")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"contribution_name\":\"Contributions
            to
            SIPP\",\"pot_id\":\"pot-UKW34528503\",\"investor_id\":\"inv-XUT11265\",\"amount\":\"100.00\",\"sub_transaction_type\":\"Regular
            contribution -
            Employer\",\"currency\":\"GBP\",\"payment_type\":\"direct_debit\",\"service_provider\":\"gocardless\",\"purpose\":\"invest\",\"investment_instructions\":[{\"investment_product_id\":\"isa_1223931892\",\"quantity\":\"300\"},{\"investment_product_id\":\"isa_9913091898\",\"quantity\":\"500\"}],\"source_id\":\"cem-ASP43560\",\"payment_schedule\":{\"interval_unit\":\"monthly\",\"interval\":2,\"date\":1,\"start_date\":\"2023-04-02\",\"end_date\":\"2023-11-02\"}}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/recurring-contributions/v1\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"contribution_name\\\":\\\"Contributions to SIPP\\\",\\\"pot_id\\\":\\\"pot-UKW34528503\\\",\\\"investor_id\\\":\\\"inv-XUT11265\\\",\\\"amount\\\":\\\"100.00\\\",\\\"sub_transaction_type\\\":\\\"Regular contribution - Employer\\\",\\\"currency\\\":\\\"GBP\\\",\\\"payment_type\\\":\\\"direct_debit\\\",\\\"service_provider\\\":\\\"gocardless\\\",\\\"purpose\\\":\\\"invest\\\",\\\"investment_instructions\\\":[{\\\"investment_product_id\\\":\\\"isa_1223931892\\\",\\\"quantity\\\":\\\"300\\\"},{\\\"investment_product_id\\\":\\\"isa_9913091898\\\",\\\"quantity\\\":\\\"500\\\"}],\\\"source_id\\\":\\\"cem-ASP43560\\\",\\\"payment_schedule\\\":{\\\"interval_unit\\\":\\\"monthly\\\",\\\"interval\\\":2,\\\"date\\\":1,\\\"start_date\\\":\\\"2023-04-02\\\",\\\"end_date\\\":\\\"2023-11-02\\\"}}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/recurring-contributions/v1/{contribution_id}:
    patch:
      summary: Update Recurring Payment
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Update an active recurring payment that is set up in the system.
      operationId: UpdateRecurringPayment
      tags:
        - Recurring Contributions
      requestBody:
        content:
          application/json:
            schema:
              properties:
                amount:
                  type: string
                  description: >-
                    Amount as a numeral string with two decimal points. (ex:
                    1500.00) Should be greater than or equal to the minimum
                    investment for the financial product.
                  example: '1500.00'
                contribution_name:
                  type: string
                  maxLength: 100
                  description: User given identifier for the contribution
                  example: New contributions to SIPP
        required: true
      security:
        - ApiSecretKey: []
      responses:
        '200':
          content:
            application/json:
              schema:
                required:
                  - contribution_id
                  - contribution_name
                  - pot_id
                  - financial_product_id
                  - investor_id
                  - amount
                  - sub_transaction_type
                  - currency
                  - payment_type
                  - service_provider
                  - purpose
                  - payment_schedule
                  - service_provider_params
                  - status
                  - created_at
                  - updated_at
                properties:
                  contribution_id:
                    type: string
                    example: RCB-GC-AB24DE7
                    description: System generated unique id
                  contribution_name:
                    type: string
                    maxLength: 100
                    description: User given identifier for the contribution
                    example: Contributions to SIPP
                  pot_id:
                    type: string
                    description: Pot ID of investor to direct the payment
                    example: pot-UKW34528503
                  financial_product_id:
                    type: string
                    description: Financial Product Id
                    example: sipp_accumulation
                  investor_id:
                    type: string
                    description: >-
                      Investor ID of the investor making the contribution. For a
                      joint pot, Investor ID of the party making contribution
                      should be included.
                    example: inv-XUT11265
                  amount:
                    type: string
                    description: >-
                      Amount as a numeral string with two decimal points. (ex:
                      1500.00). Should be greater than or equal to the minimum
                      investment for the financial product.
                    example: '100.00'
                  sub_transaction_type:
                    type: string
                    example: Regular contribution - Employer
                    enum:
                      - Regular contribution
                      - Regular contribution - non relievable
                      - Regular contribution - Employer
                    description: >-
                      Sub transaction type for recurring contribution. Regular
                      contribution - non relievable is only allowed for pots
                      linked to SIPP Accumulation product type
                  currency:
                    type: string
                    description: Must be a currency configured for the Pot
                    example: GBP
                  payment_type:
                    type: string
                    example: direct_debit
                    description: Type of payment
                    enum:
                      - direct_debit
                  service_provider:
                    type: string
                    example: gocardless
                    description: >-
                      Service provider managing the recurring payment
                      subscription
                    enum:
                      - gocardless
                  purpose:
                    type: string
                    example: invest
                    description: >-
                      invest option is allowed only if investment_instructions
                      given or a portfolio is attached, if not the purpose
                      should be cash.
                    enum:
                      - cash
                      - invest
                  investment_instructions:
                    description: >-
                      Mandatory only if purpose:"invest" and pot does not have a
                      portfolio template attached (e.g. An execution-only or
                      direct-to-consumer wealth manager).
                    type: array
                    items:
                      required:
                        - investment_product_id
                      properties:
                        investment_product_id:
                          type: string
                        quantity:
                          description: >-
                            Require if `value` is not available. Must be in
                            correct pattern (eg: 25, 332.34, 1050.0025). For
                            `funds`, upto 4 decimal places. For `equities`,
                            `bonds` and `etf`, 0 decimal places allowed.
                          type: string
                        value:
                          description: >-
                            Require if `quantity` is not available. Must be in
                            correct pattern (upto 2 decimal places, eg: 25,
                            332.3, 1050.25).
                          type: string
                    example:
                      - investment_product_id: isa_1223931892
                        quantity: '300'
                      - investment_product_id: isa_9913091898
                        quantity: '500'
                  source_id:
                    type: string
                    example: cem-ASP43560
                    description: >-
                      Only for payments intents for employer contributions made
                      towards SIPP Accumulation Products
                  payment_schedule:
                    type: object
                    description: Parameters based on payment schedule
                    required:
                      - interval_unit
                      - interval
                      - start_date
                    properties:
                      interval_unit:
                        type: string
                        description: Repeating interval unit of recurring payment
                        enum:
                          - monthly
                      interval:
                        type: integer
                        description: >-
                          Repeating interval of recurring payment. For monthly,
                          should be 1-12
                      date:
                        type: integer
                        description: >-
                          Date the payment is expected to be triggered if
                          frequency is monthly. 1-28 or -1 to indicate the last
                          day of the month
                      start_date:
                        type: string
                        format: date
                        description: >-
                          Date to initiate the recurring payments. If approvals
                          haven't been received by the given start date, the
                          start date will be moved to the subscription
                          activation date. Should be in YYYY-MM-DD format
                      end_date:
                        type: string
                        format: date
                        description: >-
                          Date to conclude the recurring payments, if count is
                          not provided. Should be in YYYY-MM-DD format
                      count:
                        type: integer
                        description: >-
                          No of recurring payments to trigger before concluding
                          the payments, if an end date is not provided
                    example:
                      interval_unit: monthly
                      interval: 2
                      date: 1
                      start_date: '2023-04-02'
                      end_date: '2023-11-02'
                  service_provider_params:
                    type: object
                    required:
                      - status
                    properties:
                      status:
                        type: string
                        example: Subscription created
                        description: Status transitions depend on the service provider
                        enum:
                          - Pending service provider setup
                          - Customer data collection completed
                          - Customer data created
                          - Customer data creation failed
                          - Authorization received
                          - Authorization failed
                          - Subscription created
                          - Subscription creation failed
                          - Subscription paused
                          - Subscription resumed
                          - Subscription cancelled
                          - Subscription finished
                          - Mandate cancelled
                          - Mandate expired
                          - Mandate replaced
                          - Mandate transferred
                      authorization_reference:
                        type: string
                        example: MD000VDMMYGD0T
                        description: >-
                          Authorization reference ID provided by a service
                          provider maintained under payment authorizations for
                          an investor
                      contribution_reference:
                        type: string
                        example: SB000A6A5EVJHE
                        description: >-
                          Contribution reference ID provided by a service
                          provider maintained under payment authorizations for
                          an investor
                      customer_reference:
                        type: string
                        example: CU000Y5VVH7TDQ
                        description: >-
                          Customer reference ID provided by a service provider
                          maintained under payment authorizations for an
                          investor
                      request_id:
                        type: string
                        example: BRQ0004CZJA19GF
                        description: >-
                          Request ID used to create a contribution with the
                          service provider
                      reason:
                        type: string
                        example: Paid out
                        description: Reason for disabling/cancelling the contribution
                      authorization_url:
                        type: string
                        example: https://authexample.gocardless-sandbox.com
                        description: >-
                          Authorization URL sent by service provider to setup
                          customer reference data and bank account information
                  status:
                    type: string
                    example: Active
                    enum:
                      - Pending
                      - Active
                      - Finished
                      - Rejected
                      - Paused
                      - Cancelled
                  next_payment_dates:
                    type: array
                    example:
                      - '2023-04-16'
                      - '2023-04-30'
                    items:
                      type: string
                      format: date
                  created_at:
                    type: string
                    format: date-time
                  updated_at:
                    type: string
                    format: date-time
              example:
                status: Active
                service_provider_params:
                  status: Subscription created
                  authorization_reference: MD000VDMMYGD0T
                  contribution_reference: SB000A6A5EVJHE
                  customer_reference: CU000Y5VVH7TDQ
                  request_id: BRQ0004CZJA19GF
                  reason: Paid out
                  authorization_url: https://authexample.gocardless-sandbox.com
                next_payment_dates:
                  - '2023-09-01'
                  - '2023-10-01'
                contribution_name: New contributions to SIPP
                amount: '1500.00'
                contribution_id: RCB-GC-AB24DE7
                pot_id: pot-UKW34528503
                financial_product_id: sipp_accumulation
                investor_id: inv-XUT11265
                sub_transaction_type: Regular contribution - Employer
                currency: GBP
                payment_type: direct_debit
                service_provider: gocardless
                purpose: cash
                source_id: cem-ASP43560
                payment_schedule:
                  interval_unit: monthly
                  interval: 2
                  date: 1
                  start_date: '2023-04-02'
                  end_date: '2023-11-02'
          description: success
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: path
          name: contribution_id
          schema:
            type: string
          required: true
          description: Contribution Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request PATCH \
              --url https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"amount":"1500.00","contribution_name":"New contributions to SIPP"}'
        - lang: Node + Native
          source: >-
            var http = require("https");


            var options = {
              "method": "PATCH",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/recurring-contributions/v1/%7Bcontribution_id%7D",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };


            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });


            req.write(JSON.stringify({amount: '1500.00', contribution_name: 'New
            contributions to SIPP'}));

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Patch.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{\"amount\":\"1500.00\",\"contribution_name\":\"New
            contributions to SIPP\"}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D\"\n\n\tpayload := strings.NewReader(\"{\\\"amount\\\":\\\"1500.00\\\",\\\"contribution_name\\\":\\\"New contributions to SIPP\\\"}\")\n\n\treq, _ := http.NewRequest(\"PATCH\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/recurring-contributions/v1/{contribution_id}/pause:
    post:
      requestBody:
        content:
          application/json:
            schema:
              properties:
                pause_cycles:
                  type: integer
                  description: >-
                    The number of cycles to pause a subscription for. A cycle is
                    one duration of interval and interval_unit. This should be a
                    non zero positive value.
                  example: 1
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - in: path
          name: contribution_id
          schema:
            type: string
          required: true
          description: Contribution Id
      tags:
        - Recurring Contributions
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                required:
                  - contribution_id
                  - contribution_name
                  - pot_id
                  - financial_product_id
                  - investor_id
                  - amount
                  - sub_transaction_type
                  - currency
                  - payment_type
                  - service_provider
                  - purpose
                  - payment_schedule
                  - service_provider_params
                  - status
                  - created_at
                  - updated_at
                properties:
                  contribution_id:
                    type: string
                    example: RCB-GC-AB24DE7
                    description: System generated unique id
                  contribution_name:
                    type: string
                    maxLength: 100
                    description: User given identifier for the contribution
                    example: Contributions to SIPP
                  pot_id:
                    type: string
                    description: Pot ID of investor to direct the payment
                    example: pot-UKW34528503
                  financial_product_id:
                    type: string
                    description: Financial Product Id
                    example: sipp_accumulation
                  investor_id:
                    type: string
                    description: >-
                      Investor ID of the investor making the contribution. For a
                      joint pot, Investor ID of the party making contribution
                      should be included.
                    example: inv-XUT11265
                  amount:
                    type: string
                    description: >-
                      Amount as a numeral string with two decimal points. (ex:
                      1500.00). Should be greater than or equal to the minimum
                      investment for the financial product.
                    example: '100.00'
                  sub_transaction_type:
                    type: string
                    example: Regular contribution - Employer
                    enum:
                      - Regular contribution
                      - Regular contribution - non relievable
                      - Regular contribution - Employer
                    description: >-
                      Sub transaction type for recurring contribution. Regular
                      contribution - non relievable is only allowed for pots
                      linked to SIPP Accumulation product type
                  currency:
                    type: string
                    description: Must be a currency configured for the Pot
                    example: GBP
                  payment_type:
                    type: string
                    example: direct_debit
                    description: Type of payment
                    enum:
                      - direct_debit
                  service_provider:
                    type: string
                    example: gocardless
                    description: >-
                      Service provider managing the recurring payment
                      subscription
                    enum:
                      - gocardless
                  purpose:
                    type: string
                    example: invest
                    description: >-
                      invest option is allowed only if investment_instructions
                      given or a portfolio is attached, if not the purpose
                      should be cash.
                    enum:
                      - cash
                      - invest
                  investment_instructions:
                    description: >-
                      Mandatory only if purpose:"invest" and pot does not have a
                      portfolio template attached (e.g. An execution-only or
                      direct-to-consumer wealth manager).
                    type: array
                    items:
                      required:
                        - investment_product_id
                      properties:
                        investment_product_id:
                          type: string
                        quantity:
                          description: >-
                            Require if `value` is not available. Must be in
                            correct pattern (eg: 25, 332.34, 1050.0025). For
                            `funds`, upto 4 decimal places. For `equities`,
                            `bonds` and `etf`, 0 decimal places allowed.
                          type: string
                        value:
                          description: >-
                            Require if `quantity` is not available. Must be in
                            correct pattern (upto 2 decimal places, eg: 25,
                            332.3, 1050.25).
                          type: string
                    example:
                      - investment_product_id: isa_1223931892
                        quantity: '300'
                      - investment_product_id: isa_9913091898
                        quantity: '500'
                  source_id:
                    type: string
                    example: cem-ASP43560
                    description: >-
                      Only for payments intents for employer contributions made
                      towards SIPP Accumulation Products
                  payment_schedule:
                    type: object
                    description: Parameters based on payment schedule
                    required:
                      - interval_unit
                      - interval
                      - start_date
                    properties:
                      interval_unit:
                        type: string
                        description: Repeating interval unit of recurring payment
                        enum:
                          - monthly
                      interval:
                        type: integer
                        description: >-
                          Repeating interval of recurring payment. For monthly,
                          should be 1-12
                      date:
                        type: integer
                        description: >-
                          Date the payment is expected to be triggered if
                          frequency is monthly. 1-28 or -1 to indicate the last
                          day of the month
                      start_date:
                        type: string
                        format: date
                        description: >-
                          Date to initiate the recurring payments. If approvals
                          haven't been received by the given start date, the
                          start date will be moved to the subscription
                          activation date. Should be in YYYY-MM-DD format
                      end_date:
                        type: string
                        format: date
                        description: >-
                          Date to conclude the recurring payments, if count is
                          not provided. Should be in YYYY-MM-DD format
                      count:
                        type: integer
                        description: >-
                          No of recurring payments to trigger before concluding
                          the payments, if an end date is not provided
                    example:
                      interval_unit: monthly
                      interval: 2
                      date: 1
                      start_date: '2023-04-02'
                      end_date: '2023-11-02'
                  service_provider_params:
                    type: object
                    required:
                      - status
                    properties:
                      status:
                        type: string
                        example: Subscription created
                        description: Status transitions depend on the service provider
                        enum:
                          - Pending service provider setup
                          - Customer data collection completed
                          - Customer data created
                          - Customer data creation failed
                          - Authorization received
                          - Authorization failed
                          - Subscription created
                          - Subscription creation failed
                          - Subscription paused
                          - Subscription resumed
                          - Subscription cancelled
                          - Subscription finished
                          - Mandate cancelled
                          - Mandate expired
                          - Mandate replaced
                          - Mandate transferred
                      authorization_reference:
                        type: string
                        example: MD000VDMMYGD0T
                        description: >-
                          Authorization reference ID provided by a service
                          provider maintained under payment authorizations for
                          an investor
                      contribution_reference:
                        type: string
                        example: SB000A6A5EVJHE
                        description: >-
                          Contribution reference ID provided by a service
                          provider maintained under payment authorizations for
                          an investor
                      customer_reference:
                        type: string
                        example: CU000Y5VVH7TDQ
                        description: >-
                          Customer reference ID provided by a service provider
                          maintained under payment authorizations for an
                          investor
                      request_id:
                        type: string
                        example: BRQ0004CZJA19GF
                        description: >-
                          Request ID used to create a contribution with the
                          service provider
                      reason:
                        type: string
                        example: Paid out
                        description: Reason for disabling/cancelling the contribution
                      authorization_url:
                        type: string
                        example: https://authexample.gocardless-sandbox.com
                        description: >-
                          Authorization URL sent by service provider to setup
                          customer reference data and bank account information
                  status:
                    type: string
                    example: Active
                    enum:
                      - Pending
                      - Active
                      - Finished
                      - Rejected
                      - Paused
                      - Cancelled
                  next_payment_dates:
                    type: array
                    example:
                      - '2023-04-16'
                      - '2023-04-30'
                    items:
                      type: string
                      format: date
                  created_at:
                    type: string
                    format: date-time
                  updated_at:
                    type: string
                    format: date-time
              example:
                status: Paused
                service_provider_params:
                  status: Subscription paused
                  authorization_reference: MD000VDMMYGD0T
                  contribution_reference: SB000A6A5EVJHE
                  customer_reference: CU000Y5VVH7TDQ
                  request_id: BRQ0004CZJA19GF
                  reason: Paid out
                  authorization_url: https://authexample.gocardless-sandbox.com
                next_payment_dates:
                  - '2023-10-01'
                  - '2023-11-01'
                contribution_id: RCB-GC-AB24DE7
                contribution_name: Contributions to SIPP
                pot_id: pot-UKW34528503
                financial_product_id: sipp_accumulation
                investor_id: inv-XUT11265
                amount: '100.00'
                sub_transaction_type: Regular contribution - Employer
                currency: GBP
                payment_type: direct_debit
                service_provider: gocardless
                purpose: cash
                source_id: cem-ASP43560
                payment_schedule:
                  interval_unit: monthly
                  interval: 2
                  date: 1
                  start_date: '2023-04-02'
                  end_date: '2023-11-02'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: PauseRecurringPayment
      summary: Pause Recurring Payment
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Pause a recurring payment setup in the system. Recurring payments with
        the status ‘Active' can be paused through this endpoint.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/pause \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"pause_cycles":1}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/pause",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({pause_cycles: 1}));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/pause")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{\"pause_cycles\":1}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/pause\"\n\n\tpayload := strings.NewReader(\"{\\\"pause_cycles\\\":1}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/recurring-contributions/v1/{contribution_id}/resume:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - in: path
          name: contribution_id
          schema:
            type: string
          required: true
          description: Contribution Id
      tags:
        - Recurring Contributions
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                required:
                  - contribution_id
                  - contribution_name
                  - pot_id
                  - financial_product_id
                  - investor_id
                  - amount
                  - sub_transaction_type
                  - currency
                  - payment_type
                  - service_provider
                  - purpose
                  - payment_schedule
                  - service_provider_params
                  - status
                  - created_at
                  - updated_at
                properties:
                  contribution_id:
                    type: string
                    example: RCB-GC-AB24DE7
                    description: System generated unique id
                  contribution_name:
                    type: string
                    maxLength: 100
                    description: User given identifier for the contribution
                    example: Contributions to SIPP
                  pot_id:
                    type: string
                    description: Pot ID of investor to direct the payment
                    example: pot-UKW34528503
                  financial_product_id:
                    type: string
                    description: Financial Product Id
                    example: sipp_accumulation
                  investor_id:
                    type: string
                    description: >-
                      Investor ID of the investor making the contribution. For a
                      joint pot, Investor ID of the party making contribution
                      should be included.
                    example: inv-XUT11265
                  amount:
                    type: string
                    description: >-
                      Amount as a numeral string with two decimal points. (ex:
                      1500.00). Should be greater than or equal to the minimum
                      investment for the financial product.
                    example: '100.00'
                  sub_transaction_type:
                    type: string
                    example: Regular contribution - Employer
                    enum:
                      - Regular contribution
                      - Regular contribution - non relievable
                      - Regular contribution - Employer
                    description: >-
                      Sub transaction type for recurring contribution. Regular
                      contribution - non relievable is only allowed for pots
                      linked to SIPP Accumulation product type
                  currency:
                    type: string
                    description: Must be a currency configured for the Pot
                    example: GBP
                  payment_type:
                    type: string
                    example: direct_debit
                    description: Type of payment
                    enum:
                      - direct_debit
                  service_provider:
                    type: string
                    example: gocardless
                    description: >-
                      Service provider managing the recurring payment
                      subscription
                    enum:
                      - gocardless
                  purpose:
                    type: string
                    example: invest
                    description: >-
                      invest option is allowed only if investment_instructions
                      given or a portfolio is attached, if not the purpose
                      should be cash.
                    enum:
                      - cash
                      - invest
                  investment_instructions:
                    description: >-
                      Mandatory only if purpose:"invest" and pot does not have a
                      portfolio template attached (e.g. An execution-only or
                      direct-to-consumer wealth manager).
                    type: array
                    items:
                      required:
                        - investment_product_id
                      properties:
                        investment_product_id:
                          type: string
                        quantity:
                          description: >-
                            Require if `value` is not available. Must be in
                            correct pattern (eg: 25, 332.34, 1050.0025). For
                            `funds`, upto 4 decimal places. For `equities`,
                            `bonds` and `etf`, 0 decimal places allowed.
                          type: string
                        value:
                          description: >-
                            Require if `quantity` is not available. Must be in
                            correct pattern (upto 2 decimal places, eg: 25,
                            332.3, 1050.25).
                          type: string
                    example:
                      - investment_product_id: isa_1223931892
                        quantity: '300'
                      - investment_product_id: isa_9913091898
                        quantity: '500'
                  source_id:
                    type: string
                    example: cem-ASP43560
                    description: >-
                      Only for payments intents for employer contributions made
                      towards SIPP Accumulation Products
                  payment_schedule:
                    type: object
                    description: Parameters based on payment schedule
                    required:
                      - interval_unit
                      - interval
                      - start_date
                    properties:
                      interval_unit:
                        type: string
                        description: Repeating interval unit of recurring payment
                        enum:
                          - monthly
                      interval:
                        type: integer
                        description: >-
                          Repeating interval of recurring payment. For monthly,
                          should be 1-12
                      date:
                        type: integer
                        description: >-
                          Date the payment is expected to be triggered if
                          frequency is monthly. 1-28 or -1 to indicate the last
                          day of the month
                      start_date:
                        type: string
                        format: date
                        description: >-
                          Date to initiate the recurring payments. If approvals
                          haven't been received by the given start date, the
                          start date will be moved to the subscription
                          activation date. Should be in YYYY-MM-DD format
                      end_date:
                        type: string
                        format: date
                        description: >-
                          Date to conclude the recurring payments, if count is
                          not provided. Should be in YYYY-MM-DD format
                      count:
                        type: integer
                        description: >-
                          No of recurring payments to trigger before concluding
                          the payments, if an end date is not provided
                    example:
                      interval_unit: monthly
                      interval: 2
                      date: 1
                      start_date: '2023-04-02'
                      end_date: '2023-11-02'
                  service_provider_params:
                    type: object
                    required:
                      - status
                    properties:
                      status:
                        type: string
                        example: Subscription created
                        description: Status transitions depend on the service provider
                        enum:
                          - Pending service provider setup
                          - Customer data collection completed
                          - Customer data created
                          - Customer data creation failed
                          - Authorization received
                          - Authorization failed
                          - Subscription created
                          - Subscription creation failed
                          - Subscription paused
                          - Subscription resumed
                          - Subscription cancelled
                          - Subscription finished
                          - Mandate cancelled
                          - Mandate expired
                          - Mandate replaced
                          - Mandate transferred
                      authorization_reference:
                        type: string
                        example: MD000VDMMYGD0T
                        description: >-
                          Authorization reference ID provided by a service
                          provider maintained under payment authorizations for
                          an investor
                      contribution_reference:
                        type: string
                        example: SB000A6A5EVJHE
                        description: >-
                          Contribution reference ID provided by a service
                          provider maintained under payment authorizations for
                          an investor
                      customer_reference:
                        type: string
                        example: CU000Y5VVH7TDQ
                        description: >-
                          Customer reference ID provided by a service provider
                          maintained under payment authorizations for an
                          investor
                      request_id:
                        type: string
                        example: BRQ0004CZJA19GF
                        description: >-
                          Request ID used to create a contribution with the
                          service provider
                      reason:
                        type: string
                        example: Paid out
                        description: Reason for disabling/cancelling the contribution
                      authorization_url:
                        type: string
                        example: https://authexample.gocardless-sandbox.com
                        description: >-
                          Authorization URL sent by service provider to setup
                          customer reference data and bank account information
                  status:
                    type: string
                    example: Active
                    enum:
                      - Pending
                      - Active
                      - Finished
                      - Rejected
                      - Paused
                      - Cancelled
                  next_payment_dates:
                    type: array
                    example:
                      - '2023-04-16'
                      - '2023-04-30'
                    items:
                      type: string
                      format: date
                  created_at:
                    type: string
                    format: date-time
                  updated_at:
                    type: string
                    format: date-time
              example:
                status: Active
                service_provider_params:
                  status: Subscription resumed
                  authorization_reference: MD000VDMMYGD0T
                  contribution_reference: SB000A6A5EVJHE
                  customer_reference: CU000Y5VVH7TDQ
                  request_id: BRQ0004CZJA19GF
                  reason: Paid out
                  authorization_url: https://authexample.gocardless-sandbox.com
                next_payment_dates:
                  - '2023-09-01'
                  - '2023-10-01'
                contribution_id: RCB-GC-AB24DE7
                contribution_name: Contributions to SIPP
                pot_id: pot-UKW34528503
                financial_product_id: sipp_accumulation
                investor_id: inv-XUT11265
                amount: '100.00'
                sub_transaction_type: Regular contribution - Employer
                currency: GBP
                payment_type: direct_debit
                service_provider: gocardless
                purpose: cash
                source_id: cem-ASP43560
                payment_schedule:
                  interval_unit: monthly
                  interval: 2
                  date: 1
                  start_date: '2023-04-02'
                  end_date: '2023-11-02'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: ResumeRecurringPayment
      summary: Resume Recurring Payment
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Resume a paused recurring payment that is set up in the system.
        Recurring payments with the status ‘Paused' can be resumed through this
        endpoint. 
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/resume \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/resume",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({}));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/resume")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/resume\"\n\n\tpayload := strings.NewReader(\"{}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/recurring-contributions/v1/{contribution_id}/cancel:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - in: path
          name: contribution_id
          schema:
            type: string
          required: true
          description: Contribution Id
      tags:
        - Recurring Contributions
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                required:
                  - contribution_id
                  - contribution_name
                  - pot_id
                  - financial_product_id
                  - investor_id
                  - amount
                  - sub_transaction_type
                  - currency
                  - payment_type
                  - service_provider
                  - purpose
                  - payment_schedule
                  - service_provider_params
                  - status
                  - created_at
                  - updated_at
                properties:
                  contribution_id:
                    type: string
                    example: RCB-GC-AB24DE7
                    description: System generated unique id
                  contribution_name:
                    type: string
                    maxLength: 100
                    description: User given identifier for the contribution
                    example: Contributions to SIPP
                  pot_id:
                    type: string
                    description: Pot ID of investor to direct the payment
                    example: pot-UKW34528503
                  financial_product_id:
                    type: string
                    description: Financial Product Id
                    example: sipp_accumulation
                  investor_id:
                    type: string
                    description: >-
                      Investor ID of the investor making the contribution. For a
                      joint pot, Investor ID of the party making contribution
                      should be included.
                    example: inv-XUT11265
                  amount:
                    type: string
                    description: >-
                      Amount as a numeral string with two decimal points. (ex:
                      1500.00). Should be greater than or equal to the minimum
                      investment for the financial product.
                    example: '100.00'
                  sub_transaction_type:
                    type: string
                    example: Regular contribution - Employer
                    enum:
                      - Regular contribution
                      - Regular contribution - non relievable
                      - Regular contribution - Employer
                    description: >-
                      Sub transaction type for recurring contribution. Regular
                      contribution - non relievable is only allowed for pots
                      linked to SIPP Accumulation product type
                  currency:
                    type: string
                    description: Must be a currency configured for the Pot
                    example: GBP
                  payment_type:
                    type: string
                    example: direct_debit
                    description: Type of payment
                    enum:
                      - direct_debit
                  service_provider:
                    type: string
                    example: gocardless
                    description: >-
                      Service provider managing the recurring payment
                      subscription
                    enum:
                      - gocardless
                  purpose:
                    type: string
                    example: invest
                    description: >-
                      invest option is allowed only if investment_instructions
                      given or a portfolio is attached, if not the purpose
                      should be cash.
                    enum:
                      - cash
                      - invest
                  investment_instructions:
                    description: >-
                      Mandatory only if purpose:"invest" and pot does not have a
                      portfolio template attached (e.g. An execution-only or
                      direct-to-consumer wealth manager).
                    type: array
                    items:
                      required:
                        - investment_product_id
                      properties:
                        investment_product_id:
                          type: string
                        quantity:
                          description: >-
                            Require if `value` is not available. Must be in
                            correct pattern (eg: 25, 332.34, 1050.0025). For
                            `funds`, upto 4 decimal places. For `equities`,
                            `bonds` and `etf`, 0 decimal places allowed.
                          type: string
                        value:
                          description: >-
                            Require if `quantity` is not available. Must be in
                            correct pattern (upto 2 decimal places, eg: 25,
                            332.3, 1050.25).
                          type: string
                    example:
                      - investment_product_id: isa_1223931892
                        quantity: '300'
                      - investment_product_id: isa_9913091898
                        quantity: '500'
                  source_id:
                    type: string
                    example: cem-ASP43560
                    description: >-
                      Only for payments intents for employer contributions made
                      towards SIPP Accumulation Products
                  payment_schedule:
                    type: object
                    description: Parameters based on payment schedule
                    required:
                      - interval_unit
                      - interval
                      - start_date
                    properties:
                      interval_unit:
                        type: string
                        description: Repeating interval unit of recurring payment
                        enum:
                          - monthly
                      interval:
                        type: integer
                        description: >-
                          Repeating interval of recurring payment. For monthly,
                          should be 1-12
                      date:
                        type: integer
                        description: >-
                          Date the payment is expected to be triggered if
                          frequency is monthly. 1-28 or -1 to indicate the last
                          day of the month
                      start_date:
                        type: string
                        format: date
                        description: >-
                          Date to initiate the recurring payments. If approvals
                          haven't been received by the given start date, the
                          start date will be moved to the subscription
                          activation date. Should be in YYYY-MM-DD format
                      end_date:
                        type: string
                        format: date
                        description: >-
                          Date to conclude the recurring payments, if count is
                          not provided. Should be in YYYY-MM-DD format
                      count:
                        type: integer
                        description: >-
                          No of recurring payments to trigger before concluding
                          the payments, if an end date is not provided
                    example:
                      interval_unit: monthly
                      interval: 2
                      date: 1
                      start_date: '2023-04-02'
                      end_date: '2023-11-02'
                  service_provider_params:
                    type: object
                    required:
                      - status
                    properties:
                      status:
                        type: string
                        example: Subscription created
                        description: Status transitions depend on the service provider
                        enum:
                          - Pending service provider setup
                          - Customer data collection completed
                          - Customer data created
                          - Customer data creation failed
                          - Authorization received
                          - Authorization failed
                          - Subscription created
                          - Subscription creation failed
                          - Subscription paused
                          - Subscription resumed
                          - Subscription cancelled
                          - Subscription finished
                          - Mandate cancelled
                          - Mandate expired
                          - Mandate replaced
                          - Mandate transferred
                      authorization_reference:
                        type: string
                        example: MD000VDMMYGD0T
                        description: >-
                          Authorization reference ID provided by a service
                          provider maintained under payment authorizations for
                          an investor
                      contribution_reference:
                        type: string
                        example: SB000A6A5EVJHE
                        description: >-
                          Contribution reference ID provided by a service
                          provider maintained under payment authorizations for
                          an investor
                      customer_reference:
                        type: string
                        example: CU000Y5VVH7TDQ
                        description: >-
                          Customer reference ID provided by a service provider
                          maintained under payment authorizations for an
                          investor
                      request_id:
                        type: string
                        example: BRQ0004CZJA19GF
                        description: >-
                          Request ID used to create a contribution with the
                          service provider
                      reason:
                        type: string
                        example: Paid out
                        description: Reason for disabling/cancelling the contribution
                      authorization_url:
                        type: string
                        example: https://authexample.gocardless-sandbox.com
                        description: >-
                          Authorization URL sent by service provider to setup
                          customer reference data and bank account information
                  status:
                    type: string
                    example: Active
                    enum:
                      - Pending
                      - Active
                      - Finished
                      - Rejected
                      - Paused
                      - Cancelled
                  next_payment_dates:
                    type: array
                    example:
                      - '2023-04-16'
                      - '2023-04-30'
                    items:
                      type: string
                      format: date
                  created_at:
                    type: string
                    format: date-time
                  updated_at:
                    type: string
                    format: date-time
              example:
                status: Cancelled
                service_provider_params:
                  status: Subscription cancelled
                  authorization_reference: MD000VDMMYGD0T
                  contribution_reference: SB000A6A5EVJHE
                  customer_reference: CU000Y5VVH7TDQ
                  request_id: BRQ0004CZJA19GF
                  reason: Paid out
                  authorization_url: https://authexample.gocardless-sandbox.com
                next_payment_dates: []
                contribution_id: RCB-GC-AB24DE7
                contribution_name: Contributions to SIPP
                pot_id: pot-UKW34528503
                financial_product_id: sipp_accumulation
                investor_id: inv-XUT11265
                amount: '100.00'
                sub_transaction_type: Regular contribution - Employer
                currency: GBP
                payment_type: direct_debit
                service_provider: gocardless
                purpose: cash
                source_id: cem-ASP43560
                payment_schedule:
                  interval_unit: monthly
                  interval: 2
                  date: 1
                  start_date: '2023-04-02'
                  end_date: '2023-11-02'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: CancelRecurringPayment
      summary: Cancel Recurring Payment
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Cancel a recurring payment setup in the system. Recurring payments with
        the status ‘Active', ‘Resumed’ or 'Paused’ can be cancelled through this
        endpoint. Cancelled payments cannot be active again.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/cancel \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/cancel",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({}));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/cancel")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/recurring-contributions/v1/%7Bcontribution_id%7D/cancel\"\n\n\tpayload := strings.NewReader(\"{}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/projections/v1/accumulate:
    post:
      summary: Projection Accumulation (BETA)
      operationId: accumulation
      tags:
        - Projections
      security:
        - ApiSecretKey: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - date_of_birth
                - intended_retirement_age
                - current_pension_value
                - growth_rate
              properties:
                name:
                  type: string
                  maxLength: 100
                  description: Name of the investor
                  example: David Brown
                date_of_birth:
                  type: string
                  format: date
                  description: Should be today or an earlier date
                  example: '1963-07-19'
                intended_retirement_age:
                  type: integer
                  description: At most should be 100. Should be greater than current age
                  example: 60
                current_pension_value:
                  type: number
                  description: >-
                    Current value of the pension pot. Can contain up to 2
                    decimal points
                  example: 1000
                growth_rate:
                  type: number
                  description: >-
                    Annual growth rate of the pot. Can contain up to 2 decimal
                    points
                  example: 2.5
                recurring_contributions:
                  type: array
                  items:
                    required:
                      - frequency
                      - amount
                    properties:
                      frequency:
                        type: string
                        description: frequency can have values `Monthly`
                        enum:
                          - Monthly
                      amount:
                        type: number
                        description: The amount can have upto 2 decimal points
                    example:
                      frequency: Monthly
                      amount: 600
                one_off_payment:
                  type: number
                  description: >-
                    One-off payments are added to the initial value as tax
                    relievable.  Can contain up to 2 decimal points
                  example: 500
                transfer_in:
                  type: number
                  description: >-
                    Transfer-ins are added to the initial value as tax
                    relievable.  Can contain up to 2 decimal points
                  example: 500
                fees:
                  type: array
                  items:
                    required:
                      - fee_type
                      - frequency
                      - amount
                    properties:
                      fee_type:
                        type: string
                        description: Type of the fee
                      frequency:
                        type: string
                        description: frequency can have values `Monthly`
                        enum:
                          - Monthly
                      amount:
                        type: number
                        description: The amount can have upto 2 decimal points
                    example:
                      fee_type: Management fee
                      frequency: Monthly
                      amount: 600
                projection_coverage_years:
                  type: array
                  description: >-
                    Projection is given for the requested coverage years and the
                    retirement year. If not given, projection is given for 1st,
                    3rd, 5th and retirement year. Can contains positive integers
                    less than 100
                  example:
                    - 5
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - name
                      - date_of_birth
                      - intended_retirement_age
                      - current_pension_value
                      - growth_rate
                    properties:
                      name:
                        type: string
                        maxLength: 100
                        description: Name of the investor
                        example: David Brown
                      date_of_birth:
                        type: string
                        format: date
                        description: Should be today or an earlier date
                        example: '1963-07-19'
                      intended_retirement_age:
                        type: integer
                        description: >-
                          At most should be 100. Should be greater than current
                          age
                        example: 60
                      current_pension_value:
                        type: number
                        description: >-
                          Current value of the pension pot. Can contain up to 2
                          decimal points
                        example: 1000
                      growth_rate:
                        type: number
                        description: >-
                          Annual growth rate of the pot. Can contain up to 2
                          decimal points
                        example: 2.5
                      recurring_contributions:
                        type: array
                        items:
                          required:
                            - frequency
                            - amount
                          properties:
                            frequency:
                              type: string
                              description: frequency can have values `Monthly`
                              enum:
                                - Monthly
                            amount:
                              type: number
                              description: The amount can have upto 2 decimal points
                          example:
                            frequency: Monthly
                            amount: 600
                      one_off_payment:
                        type: number
                        description: >-
                          One-off payments are added to the initial value as tax
                          relievable.  Can contain up to 2 decimal points
                        example: 500
                      transfer_in:
                        type: number
                        description: >-
                          Transfer-ins are added to the initial value as tax
                          relievable.  Can contain up to 2 decimal points
                        example: 500
                      fees:
                        type: array
                        items:
                          required:
                            - fee_type
                            - frequency
                            - amount
                          properties:
                            fee_type:
                              type: string
                              description: Type of the fee
                            frequency:
                              type: string
                              description: frequency can have values `Monthly`
                              enum:
                                - Monthly
                            amount:
                              type: number
                              description: The amount can have upto 2 decimal points
                          example:
                            fee_type: Management fee
                            frequency: Monthly
                            amount: 600
                      projection_coverage_years:
                        type: array
                        description: >-
                          Projection is given for the requested coverage years
                          and the retirement year. If not given, projection is
                          given for 1st, 3rd, 5th and retirement year. Can
                          contains positive integers less than 100
                        example:
                          - 5
                  - type: object
                    required:
                      - pension_projections
                      - inflation_rate
                    properties:
                      pension_projections:
                        type: array
                        description: Projection of the pension coverage years
                        readOnly: true
                        items:
                          required:
                            - coverage_year
                            - date
                            - value
                          properties:
                            coverage_year:
                              type: integer
                              description: Given coverage year
                            date:
                              type: string
                              description: Date that indicate last date of coverage year
                            value:
                              type: number
                              description: Value of the pot
                          example:
                            coverage_year: 5
                            date: '2028-05-09'
                            value: 1167.682
                      inflation_rate:
                        type: number
                        description: Inflation rate considered for calculations
                        example: 2
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      description: >
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        This endpoint supports to project accumulation of a pension account.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/projections/v1/accumulate \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"name":"David Brown","date_of_birth":"1963-07-19","intended_retirement_age":60,"current_pension_value":1000,"growth_rate":2.5,"recurring_contributions":[{"frequency":"Monthly","amount":600}],"one_off_payment":500,"transfer_in":500,"fees":[{"fee_type":"Management fee","frequency":"Monthly","amount":600}],"projection_coverage_years":[5]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/projections/v1/accumulate",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              name: 'David Brown',
              date_of_birth: '1963-07-19',
              intended_retirement_age: 60,
              current_pension_value: 1000,
              growth_rate: 2.5,
              recurring_contributions: [{frequency: 'Monthly', amount: 600}],
              one_off_payment: 500,
              transfer_in: 500,
              fees: [{fee_type: 'Management fee', frequency: 'Monthly', amount: 600}],
              projection_coverage_years: [5]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/projections/v1/accumulate")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{\"name\":\"David
            Brown\",\"date_of_birth\":\"1963-07-19\",\"intended_retirement_age\":60,\"current_pension_value\":1000,\"growth_rate\":2.5,\"recurring_contributions\":[{\"frequency\":\"Monthly\",\"amount\":600}],\"one_off_payment\":500,\"transfer_in\":500,\"fees\":[{\"fee_type\":\"Management
            fee\",\"frequency\":\"Monthly\",\"amount\":600}],\"projection_coverage_years\":[5]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/projections/v1/accumulate\"\n\n\tpayload := strings.NewReader(\"{\\\"name\\\":\\\"David Brown\\\",\\\"date_of_birth\\\":\\\"1963-07-19\\\",\\\"intended_retirement_age\\\":60,\\\"current_pension_value\\\":1000,\\\"growth_rate\\\":2.5,\\\"recurring_contributions\\\":[{\\\"frequency\\\":\\\"Monthly\\\",\\\"amount\\\":600}],\\\"one_off_payment\\\":500,\\\"transfer_in\\\":500,\\\"fees\\\":[{\\\"fee_type\\\":\\\"Management fee\\\",\\\"frequency\\\":\\\"Monthly\\\",\\\"amount\\\":600}],\\\"projection_coverage_years\\\":[5]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/pots/v1/crystallisation:
    get:
      tags:
        - SIPP Crystallisation
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Returns a paged array of crystallisation requests.
      responses:
        '200':
          content:
            application/json:
              schema:
                required:
                  - crystallisations
                  - next_page_available
                type: object
                properties:
                  crystallisations:
                    type: array
                    items:
                      required:
                        - crystallisation_id
                        - investor_id
                        - bank_account_id
                        - crystallisation_instructions
                        - drawdown_instructions
                        - status
                        - created_at
                        - updated_at
                      properties:
                        crystallisation_id:
                          type: string
                          example: SIPPCR-AB24DE7
                          description: System generated unique id
                        investor_id:
                          type: string
                          description: >-
                            Investor ID of the investor making the
                            crystallisation
                          example: inv-XUT11265
                        bank_account_id:
                          type: string
                          description: Bank account ID of Investor
                          example: ba-bc00c28f-b3fc-42b7
                        crystallisation_instructions:
                          description: Crystallisation instructions
                          type: array
                          items:
                            required:
                              - pot_id
                            properties:
                              pot_id:
                                type: string
                                description: >-
                                  SIPP Accumulation pot from which funds should
                                  be crystalised
                              percentage:
                                description: >-
                                  Require if `value` is not available. Must be
                                  in correct pattern (eg: 25, 15.34).
                                type: string
                              value:
                                description: >-
                                  Require if `percentage` is not available. Must
                                  be in correct pattern (upto 2 decimal places,
                                  eg: 25, 332.3, 1050.25).
                                type: string
                          example:
                            - pot_id: pot-GYQ5423100
                              value: '1000'
                        drawdown_instructions:
                          description: Drawdown instructions
                          type: array
                          items:
                            required:
                              - pot_id
                              - purpose
                              - percentage
                            properties:
                              pot_id:
                                type: string
                                description: >-
                                  SIPP Flexi Access Drawdown pot to which funds
                                  should be allocated after PCLS withdrawals
                              purpose:
                                type: string
                                description: >-
                                  invest option is allowed only if
                                  investment_instructions given or a portfolio
                                  is attached, if not the purpose should be
                                  cash.
                                enum:
                                  - cash
                                  - invest
                              value:
                                description: >-
                                  Percentage of funds remaining after PCLS
                                  withdrawal from each accumulation pot, to be
                                  allocated to this pot ID
                                type: string
                          example:
                            - pot_id: pot-XWL3855774
                              purpose: cash
                              percentage: '30'
                            - pot_id: pot-SDQ5009730
                              purpose: invest
                              percentage: '70'
                        reason:
                          description: Reason if the request was not completed successfully
                          type: string
                          example: Free cash not available
                        status:
                          description: Status of crystallisation request
                          type: string
                          enum:
                            - Accepted
                            - Partially completed
                            - Completed
                            - Rejected
                            - Failed
                        allocation_details:
                          description: Allocation Details
                          type: array
                          items:
                            required:
                              - accumulation_pot_id
                              - crystallisation_amount
                              - pcls_amount
                              - drawdown_amount
                              - drawdown_allocation
                            properties:
                              accumulation_pot_id:
                                type: string
                                description: >-
                                  SIPP Accumulation pot from which funds are
                                  crystalised
                                example: pot-GYQ5423100
                              crystallisation_amount:
                                type: string
                                example: '1000'
                              pcls_amount:
                                description: >-
                                  Tax free amount paid to the investors bank
                                  account
                                type: string
                                example: '250'
                              drawdown_amount:
                                description: >-
                                  Amount that will be distributed among the
                                  drawdown pots
                                type: string
                                example: '750'
                              drawdown_allocation:
                                description: Drawdown allocation
                                type: array
                                items:
                                  required:
                                    - pot_id
                                    - amount
                                  properties:
                                    pot_id:
                                      type: string
                                      description: >-
                                        SIPP Flexi Access Drawdown pot to which
                                        funds should be allocated after PCLS
                                        withdrawals from the crystallisation pot
                                    amount:
                                      description: >-
                                        Amount transferred from the
                                        crystallisation pot
                                      type: string
                                example:
                                  - pot_id: pot-XWL3855774
                                    amount: '225'
                                  - pot_id: pot-SDQ5009730
                                    amount: '525'
                        investor_drawdown_statistics:
                          type: object
                          description: Investor Drawdown Statistics
                          required:
                            - total_crystallisation_amount
                            - total_drawdown_amount
                            - pcls_allowance_utilized
                            - pcls_allowance_remaining
                          properties:
                            total_crystallisation_amount:
                              type: string
                              description: >-
                                Total amount crystalized from the investors
                                accumulation pots across years
                            total_drawdown_amount:
                              type: string
                              description: >-
                                Total amount transferred to investors drawdown
                                pots across years
                            pcls_allowance_utilized:
                              type: string
                              description: >-
                                Total PCLS allowance utilized by investor across
                                years
                            pcls_allowance_remaining:
                              type: string
                              description: >-
                                Total PCLS allowance remaining for investor
                                across years
                          example:
                            total_crystallisation_amount: '7000'
                            total_drawdown_amount: '5250'
                            pcls_allowance_utilized: '1750'
                            pcls_allowance_remaining: '266525'
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
          description: A paged array of crystallisation requests
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - in: query
          name: crystallisation_id
          schema:
            type: string
          required: false
          description: Crystallisation Id
        - in: query
          name: investor_id
          schema:
            type: string
          required: false
          description: Investor Id
        - name: status
          description: Status of crystallisation request
          schema:
            type: string
            enum:
              - Accepted
              - Partially completed
              - Completed
              - Rejected
              - Failed
          in: query
          required: false
        - name: page_size
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 1000 and 1. Max page size is 8000.
            Results are sorted decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: page_number
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 1000 and 1. Results are sorted
            decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: sort
          description: Sorting order; results are sorted by creation time.
          schema:
            type: string
            default: desc
            enum:
              - asc
              - desc
          in: query
          required: false
      operationId: getAllCrystallisations
      summary: Get All Crystallisation Requests
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/pots/v1/crystallisation?crystallisation_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/crystallisation?crystallisation_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/pots/v1/crystallisation?crystallisation_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/crystallisation?crystallisation_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    post:
      summary: Create a crystallisation request
      operationId: createCrystallisation
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Returns a response of crystallisation request.
      tags:
        - SIPP Crystallisation
      security:
        - ApiSecretKey: []
      requestBody:
        content:
          application/json:
            schema:
              required:
                - request_id
                - investor_id
                - bank_account_id
                - crystallisation_instructions
                - drawdown_instructions
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: 'Unique request id to ensure idempotency. (ex: UUID)'
                investor_id:
                  type: string
                  description: Investor ID of the investor making the crystallisation
                  example: inv-XUT11265
                bank_account_id:
                  type: string
                  description: Bank account ID of Investor
                  example: ba-bc00c28f-b3fc-42b7
                crystallisation_instructions:
                  description: Crystallisation instructions
                  type: array
                  items:
                    required:
                      - pot_id
                    properties:
                      pot_id:
                        type: string
                        description: >-
                          SIPP Accumulation pot from which funds should be
                          crystalised
                      percentage:
                        description: >-
                          Require if `value` is not available. Must be in
                          correct pattern (eg: 25, 15.34).
                        type: string
                      value:
                        description: >-
                          Require if `percentage` is not available. Must be in
                          correct pattern (upto 2 decimal places, eg: 25, 332.3,
                          1050.25).
                        type: string
                  example:
                    - pot_id: pot-GYQ5423100
                      value: '1000'
                drawdown_instructions:
                  description: Drawdown instructions
                  type: array
                  items:
                    required:
                      - pot_id
                      - purpose
                      - percentage
                    properties:
                      pot_id:
                        type: string
                        description: >-
                          SIPP Flexi Access Drawdown pot to which funds should
                          be allocated after PCLS withdrawals
                      purpose:
                        type: string
                        description: >-
                          invest option is allowed only if
                          investment_instructions given or a portfolio is
                          attached, if not the purpose should be cash.
                        enum:
                          - cash
                          - invest
                      value:
                        description: >-
                          Percentage of funds remaining after PCLS withdrawal
                          from each accumulation pot, to be allocated to this
                          pot ID
                        type: string
                  example:
                    - pot_id: pot-XWL3855774
                      purpose: cash
                      percentage: '30'
                    - pot_id: pot-SDQ5009730
                      purpose: invest
                      percentage: '70'
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                properties:
                  crystallisation_id:
                    type: string
                    example: SIPPCR-AB24DE7
                    description: System generated unique id
                  investor_id:
                    type: string
                    description: Investor ID of the investor making the crystallisation
                    example: inv-XUT11265
                  bank_account_id:
                    type: string
                    description: Bank account ID of Investor
                    example: ba-bc00c28f-b3fc-42b7
                  crystallisation_instructions:
                    description: Crystallisation instructions
                    type: array
                    items:
                      required:
                        - pot_id
                      properties:
                        pot_id:
                          type: string
                          description: >-
                            SIPP Accumulation pot from which funds should be
                            crystalised
                        percentage:
                          description: >-
                            Require if `value` is not available. Must be in
                            correct pattern (eg: 25, 15.34).
                          type: string
                        value:
                          description: >-
                            Require if `percentage` is not available. Must be in
                            correct pattern (upto 2 decimal places, eg: 25,
                            332.3, 1050.25).
                          type: string
                    example:
                      - pot_id: pot-GYQ5423100
                        value: '1000'
                  drawdown_instructions:
                    description: Drawdown instructions
                    type: array
                    items:
                      required:
                        - pot_id
                        - purpose
                        - percentage
                      properties:
                        pot_id:
                          type: string
                          description: >-
                            SIPP Flexi Access Drawdown pot to which funds should
                            be allocated after PCLS withdrawals
                        purpose:
                          type: string
                          description: >-
                            invest option is allowed only if
                            investment_instructions given or a portfolio is
                            attached, if not the purpose should be cash.
                          enum:
                            - cash
                            - invest
                        value:
                          description: >-
                            Percentage of funds remaining after PCLS withdrawal
                            from each accumulation pot, to be allocated to this
                            pot ID
                          type: string
                    example:
                      - pot_id: pot-XWL3855774
                        purpose: cash
                        percentage: '30'
                      - pot_id: pot-SDQ5009730
                        purpose: invest
                        percentage: '70'
                  status:
                    description: Status of crystallisation request
                    type: string
                    enum:
                      - Accepted
                      - Partially completed
                      - Completed
                      - Rejected
                      - Failed
                    example:
                      - Accepted
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/pots/v1/crystallisation \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","investor_id":"inv-XUT11265","bank_account_id":"ba-bc00c28f-b3fc-42b7","crystallisation_instructions":[{"pot_id":"pot-GYQ5423100","value":"1000"}],"drawdown_instructions":[{"pot_id":"pot-XWL3855774","purpose":"cash","percentage":"30"},{"pot_id":"pot-SDQ5009730","purpose":"invest","percentage":"70"}]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/pots/v1/crystallisation",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              investor_id: 'inv-XUT11265',
              bank_account_id: 'ba-bc00c28f-b3fc-42b7',
              crystallisation_instructions: [{pot_id: 'pot-GYQ5423100', value: '1000'}],
              drawdown_instructions: [
                {pot_id: 'pot-XWL3855774', purpose: 'cash', percentage: '30'},
                {pot_id: 'pot-SDQ5009730', purpose: 'invest', percentage: '70'}
              ]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/pots/v1/crystallisation")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"investor_id\":\"inv-XUT11265\",\"bank_account_id\":\"ba-bc00c28f-b3fc-42b7\",\"crystallisation_instructions\":[{\"pot_id\":\"pot-GYQ5423100\",\"value\":\"1000\"}],\"drawdown_instructions\":[{\"pot_id\":\"pot-XWL3855774\",\"purpose\":\"cash\",\"percentage\":\"30\"},{\"pot_id\":\"pot-SDQ5009730\",\"purpose\":\"invest\",\"percentage\":\"70\"}]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/pots/v1/crystallisation\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"investor_id\\\":\\\"inv-XUT11265\\\",\\\"bank_account_id\\\":\\\"ba-bc00c28f-b3fc-42b7\\\",\\\"crystallisation_instructions\\\":[{\\\"pot_id\\\":\\\"pot-GYQ5423100\\\",\\\"value\\\":\\\"1000\\\"}],\\\"drawdown_instructions\\\":[{\\\"pot_id\\\":\\\"pot-XWL3855774\\\",\\\"purpose\\\":\\\"cash\\\",\\\"percentage\\\":\\\"30\\\"},{\\\"pot_id\\\":\\\"pot-SDQ5009730\\\",\\\"purpose\\\":\\\"invest\\\",\\\"percentage\\\":\\\"70\\\"}]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/projections/v1/drawdown:
    post:
      summary: Projection Drawdown (BETA)
      operationId: drawdown
      tags:
        - Projections
      security:
        - ApiSecretKey: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - date_of_birth
                - current_pension_value
                - growth_rate
              properties:
                name:
                  type: string
                  maxLength: 100
                  description: Name of the investor
                  example: David Brown
                date_of_birth:
                  type: string
                  format: date
                  description: Should be today or an earlier date
                  example: '1963-07-19'
                current_pension_value:
                  type: number
                  description: >-
                    Current value of the pension pot. Can contain up to 2
                    decimal points
                  example: 1000
                growth_rate:
                  type: number
                  description: >-
                    Annual growth rate of the pot. Can contain up to 2 decimal
                    points
                  example: 2.5
                recurring_contributions:
                  type: array
                  items:
                    required:
                      - frequency
                      - amount
                    properties:
                      frequency:
                        type: string
                        description: frequency can have values `Monthly`
                        enum:
                          - Monthly
                      amount:
                        type: number
                        description: The amount can have upto 2 decimal points
                    example:
                      frequency: Monthly
                      amount: 600
                one_off_payment:
                  type: number
                  description: >-
                    One-off payments are added to the initial value as tax
                    relievable.  Can contain up to 2 decimal points
                  example: 500
                transfer_in:
                  type: number
                  description: >-
                    Transfer-ins are added to the initial value as tax
                    relievable.  Can contain up to 2 decimal points
                  example: 500
                fees:
                  type: array
                  items:
                    required:
                      - fee_type
                      - frequency
                      - amount
                    properties:
                      fee_type:
                        type: string
                        description: Type of the fee
                      frequency:
                        type: string
                        description: frequency can have values `Monthly`
                        enum:
                          - Monthly
                      amount:
                        type: number
                        description: The amount can have upto 2 decimal points
                    example:
                      fee_type: Management fee
                      frequency: Monthly
                      amount: 600
                one_off_withdrawal:
                  type: number
                  description: >-
                    One-off withdrawals are deducted from the initial value. 
                    Can contain up to 2 decimal points
                  example: 500
                recurring_withdrawals:
                  type: array
                  items:
                    required:
                      - frequency
                      - amount
                    properties:
                      frequency:
                        type: string
                        description: frequency can have values `Monthly`
                        enum:
                          - Monthly
                      amount:
                        type: number
                        description: The amount can have upto 2 decimal points
                    example:
                      frequency: Monthly
                      amount: 600
                projection_coverage_years:
                  type: array
                  description: >-
                    Projection is given for the requested coverage years. If not
                    given, projection is given for 5th and 10th years. Can
                    contain positive integers less than 100
                  example:
                    - 5
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - name
                      - date_of_birth
                      - current_pension_value
                      - growth_rate
                    properties:
                      name:
                        type: string
                        maxLength: 100
                        description: Name of the investor
                        example: David Brown
                      date_of_birth:
                        type: string
                        format: date
                        description: Should be today or an earlier date
                        example: '1963-07-19'
                      current_pension_value:
                        type: number
                        description: >-
                          Current value of the pension pot. Can contain up to 2
                          decimal points
                        example: 1000
                      growth_rate:
                        type: number
                        description: >-
                          Annual growth rate of the pot. Can contain up to 2
                          decimal points
                        example: 2.5
                      recurring_contributions:
                        type: array
                        items:
                          required:
                            - frequency
                            - amount
                          properties:
                            frequency:
                              type: string
                              description: frequency can have values `Monthly`
                              enum:
                                - Monthly
                            amount:
                              type: number
                              description: The amount can have upto 2 decimal points
                          example:
                            frequency: Monthly
                            amount: 600
                      one_off_payment:
                        type: number
                        description: >-
                          One-off payments are added to the initial value as tax
                          relievable.  Can contain up to 2 decimal points
                        example: 500
                      transfer_in:
                        type: number
                        description: >-
                          Transfer-ins are added to the initial value as tax
                          relievable.  Can contain up to 2 decimal points
                        example: 500
                      fees:
                        type: array
                        items:
                          required:
                            - fee_type
                            - frequency
                            - amount
                          properties:
                            fee_type:
                              type: string
                              description: Type of the fee
                            frequency:
                              type: string
                              description: frequency can have values `Monthly`
                              enum:
                                - Monthly
                            amount:
                              type: number
                              description: The amount can have upto 2 decimal points
                          example:
                            fee_type: Management fee
                            frequency: Monthly
                            amount: 600
                      one_off_withdrawal:
                        type: number
                        description: >-
                          One-off withdrawals are deducted from the initial
                          value.  Can contain up to 2 decimal points
                        example: 500
                      recurring_withdrawals:
                        type: array
                        items:
                          required:
                            - frequency
                            - amount
                          properties:
                            frequency:
                              type: string
                              description: frequency can have values `Monthly`
                              enum:
                                - Monthly
                            amount:
                              type: number
                              description: The amount can have upto 2 decimal points
                          example:
                            frequency: Monthly
                            amount: 600
                      projection_coverage_years:
                        type: array
                        description: >-
                          Projection is given for the requested coverage years.
                          If not given, projection is given for 5th and 10th
                          years. Can contain positive integers less than 100
                        example:
                          - 5
                  - type: object
                    required:
                      - pension_projections
                      - age_pension_runout
                      - inflation_rate
                    properties:
                      age_pension_runout:
                        type: number
                        description: >-
                          Investor age where the pension fund goes to zero. The
                          response will be a string (The pension will last
                          beyond the 100th year) if not going to zero before 100
                          years of age
                        example: 60
                      pension_projections:
                        type: array
                        description: Projection of the pension coverage years
                        readOnly: true
                        items:
                          required:
                            - coverage_year
                            - date
                            - value
                          properties:
                            coverage_year:
                              type: integer
                              description: Given coverage year
                            date:
                              type: string
                              description: Date that indicate last date of coverage year
                            value:
                              type: number
                              description: Value of the pot
                          example:
                            coverage_year: 5
                            date: '2028-05-09'
                            value: 1167.682
                      inflation_rate:
                        type: number
                        description: Inflation rate considered for calculations
                        example: 2
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        This endpoint supports to project drawdown of a pension account. 
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/projections/v1/drawdown \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"name":"David Brown","date_of_birth":"1963-07-19","current_pension_value":1000,"growth_rate":2.5,"recurring_contributions":[{"frequency":"Monthly","amount":600}],"one_off_payment":500,"transfer_in":500,"fees":[{"fee_type":"Management fee","frequency":"Monthly","amount":600}],"one_off_withdrawal":500,"recurring_withdrawals":[{"frequency":"Monthly","amount":600}],"projection_coverage_years":[5]}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/projections/v1/drawdown",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              name: 'David Brown',
              date_of_birth: '1963-07-19',
              current_pension_value: 1000,
              growth_rate: 2.5,
              recurring_contributions: [{frequency: 'Monthly', amount: 600}],
              one_off_payment: 500,
              transfer_in: 500,
              fees: [{fee_type: 'Management fee', frequency: 'Monthly', amount: 600}],
              one_off_withdrawal: 500,
              recurring_withdrawals: [{frequency: 'Monthly', amount: 600}],
              projection_coverage_years: [5]
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/projections/v1/drawdown")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{\"name\":\"David
            Brown\",\"date_of_birth\":\"1963-07-19\",\"current_pension_value\":1000,\"growth_rate\":2.5,\"recurring_contributions\":[{\"frequency\":\"Monthly\",\"amount\":600}],\"one_off_payment\":500,\"transfer_in\":500,\"fees\":[{\"fee_type\":\"Management
            fee\",\"frequency\":\"Monthly\",\"amount\":600}],\"one_off_withdrawal\":500,\"recurring_withdrawals\":[{\"frequency\":\"Monthly\",\"amount\":600}],\"projection_coverage_years\":[5]}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/projections/v1/drawdown\"\n\n\tpayload := strings.NewReader(\"{\\\"name\\\":\\\"David Brown\\\",\\\"date_of_birth\\\":\\\"1963-07-19\\\",\\\"current_pension_value\\\":1000,\\\"growth_rate\\\":2.5,\\\"recurring_contributions\\\":[{\\\"frequency\\\":\\\"Monthly\\\",\\\"amount\\\":600}],\\\"one_off_payment\\\":500,\\\"transfer_in\\\":500,\\\"fees\\\":[{\\\"fee_type\\\":\\\"Management fee\\\",\\\"frequency\\\":\\\"Monthly\\\",\\\"amount\\\":600}],\\\"one_off_withdrawal\\\":500,\\\"recurring_withdrawals\\\":[{\\\"frequency\\\":\\\"Monthly\\\",\\\"amount\\\":600}],\\\"projection_coverage_years\\\":[5]}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/investors/v1/tax-codes:
    summary: Investor Tax Codes resource management
    get:
      tags:
        - Investors
      security:
        - ApiSecretKey: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Array of tax codes
                required:
                  - tax_codes
                  - next_page_available
                type: object
                properties:
                  tax_codes:
                    type: array
                    items:
                      title: Root Type for Tax code
                      description: JSON for the Tax code resource type
                      required:
                        - investor_id
                        - tax_code
                        - effective_date
                        - origin
                        - created_at
                        - updated_at
                      properties:
                        investor_id:
                          type: string
                          example: inv-XUT11265
                          description: Investor Id of the tax code
                        tax_code:
                          type: string
                          example: 1080L
                          description: Tax code of the Investor
                        effective_date:
                          type: string
                          format: date-time
                          example: '2023-04-06'
                          description: Effective day of the tax code
                        end_date:
                          type: string
                          format: date-time
                          example: '2024-04-05'
                          description: End date of the tax code
                        origin:
                          type: string
                          enum:
                            - External API
                          description: Origin of the tax code
                        created_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2023-02-08T07:36:05.884Z'
                        updated_at:
                          type: string
                          format: date-time
                          readOnly: true
                          example: '2023-02-10T07:36:05.884Z'
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
          description: success
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: getAllInvestorTaxCodes
      summary: Get All Tax Codes
      description: Returns all the tax codes in an array
      parameters:
        - in: query
          name: investor_id
          schema:
            type: string
          required: false
          description: Investor Id
        - name: page_size
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 1000 and 1. Max page size is 4000.
            Results are sorted decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: page_number
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 1000 and 1. Results are sorted
            decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: sort
          description: Sorting order; results are sorted by creation time.
          schema:
            type: string
            default: desc
            enum:
              - asc
              - desc
          in: query
          required: false
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/investors/v1/tax-codes?investor_id=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/investors/v1/tax-codes?investor_id=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/investors/v1/tax-codes?investor_id=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/investors/v1/tax-codes?investor_id=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/recurring-withdrawals/v1:
    post:
      requestBody:
        content:
          application/json:
            schema:
              required:
                - request_id
                - withdrawal_name
                - pot_id
                - investor_id
                - bank_account_id
                - amount
                - currency
                - withdrawal_schedule
              properties:
                request_id:
                  type: string
                  format: uuid
                  description: 'Unique request id to ensure idempotency. (ex: UUID)'
                withdrawal_name:
                  type: string
                  maxLength: 100
                  description: User given identifier for the withdrawal
                  example: Withdrawals to SIPP
                investor_id:
                  type: string
                  description: >-
                    Investor ID of the investor making the withdrawal. For a
                    joint pot, Investor ID of the party making withdrawal should
                    be included.
                  example: inv-XUT11265
                pot_id:
                  type: string
                  description: Pot ID of investor to direct the withdrawal
                  example: pot-GYQ5423100
                bank_account_id:
                  type: string
                  description: >-
                    Bank account ID of the investor where the withdrawn cash
                    will go to
                  example: ba-92yu982d-at6u-4242-9856-83
                amount:
                  type: string
                  description: >-
                    Amount as a numeral string with two decimal points. (ex:
                    1500.00) Should be greater than or equal to the minimum
                    investment for the financial product.
                  example: '100.00'
                currency:
                  type: string
                  description: Must be a currency configured for the Pot
                  example: GBP
                withdrawal_schedule:
                  type: object
                  description: Parameters based on withdrawal schedule
                  required:
                    - interval_unit
                    - interval
                    - start_date
                  properties:
                    interval_unit:
                      type: string
                      description: Repeating interval unit of recurring withdrawal
                      enum:
                        - monthly
                    interval:
                      type: integer
                      description: >-
                        Repeating interval of recurring withdrawal. For monthly,
                        should be 1-12
                    date:
                      type: integer
                      description: >-
                        Date the withdrawal is expected to be triggered if
                        frequency is monthly. 1-28 or -1 to indicate the last
                        day of the month
                    start_date:
                      type: string
                      format: date
                      description: >-
                        Date to initiate the recurring withdrawal. If approvals
                        haven't been received by the given start date, the start
                        date will be moved to the subscription activation date.
                        Should be in YYYY-MM-DD format
                    end_date:
                      type: string
                      format: date
                      description: >-
                        Date to conclude the recurring withdrawal. Should be in
                        YYYY-MM-DD format
                  example:
                    interval_unit: monthly
                    interval: 2
                    date: 1
                    start_date: '2023-04-02'
                    end_date: '2023-11-02'
        required: true
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      tags:
        - Recurring Withdrawals
      responses:
        '201':
          description: Resource created
          content:
            application/json:
              schema:
                required:
                  - withdrawal_id
                  - withdrawal_name
                  - pot_id
                  - investor_id
                  - bank_account_id
                  - amount
                  - currency
                  - withdrawal_schedule
                  - status
                  - created_at
                  - updated_at
                  - reference_version
                properties:
                  withdrawal_id:
                    type: string
                    example: RCW-AB24DE7
                    description: System generated unique id
                  withdrawal_name:
                    type: string
                    maxLength: 100
                    description: User given identifier for the withdrawal
                    example: Withdrawals to SIPP
                  investor_id:
                    type: string
                    description: >-
                      Investor ID of the investor making the withdrawal. For a
                      joint pot, Investor ID of the party requesting the
                      withdrawal should be included.
                    example: inv-AUX11265
                  pot_id:
                    type: string
                    description: Pot ID of investor
                    example: pot-GYQ5423100
                  bank_account_id:
                    type: string
                    description: >-
                      Bank account ID of the investor where the withdrawn cash
                      will go to
                    example: ba-92yu982d-at6u-4242-9856-83
                  amount:
                    type: string
                    description: Withdrawal amount.
                    example: '100.00'
                  currency:
                    type: string
                    description: Must be a currency configured for the Pot
                    example: GBP
                  withdrawal_schedule:
                    type: object
                    description: Parameters based on withdrawal schedule
                    required:
                      - interval_unit
                      - interval
                      - start_date
                    properties:
                      interval_unit:
                        type: string
                        description: Repeating interval unit of recurring withdrawal
                        enum:
                          - monthly
                      interval:
                        type: integer
                        description: >-
                          Repeating interval of recurring withdrawal. For
                          monthly, should be 1-12
                      date:
                        type: integer
                        description: >-
                          Date the withdrawal is expected to be triggered if
                          frequency is monthly. 1-28 or -1 to indicate the last
                          day of the month is accepted.
                      start_date:
                        type: string
                        format: date-time
                        description: >-
                          Date to initiate the recurring withdrawals. Should be
                          in YYYY-MM-DD format.
                      end_date:
                        type: string
                        format: date-time
                        description: >-
                          Date to conclude the recurring withdrawals. Should be
                          in YYYY-MM-DD format.
                    example:
                      interval_unit: monthly
                      interval: 2
                      date: 1
                      start_date: '2023-04-02'
                      end_date: '2023-11-02'
                  status:
                    type: string
                    example: active
                    enum:
                      - active
                      - cancelled
                  next_withdrawal_date:
                    type: string
                    format: date-time
                    example: '2023-05-01T00:00:00.000Z'
                  created_at:
                    type: string
                    format: date-time
                    example: '2023-04-04T15:12:30.000Z'
                  updated_at:
                    type: string
                    format: date-time
                    example: '2023-04-04T15:12:30.000Z'
                  reference_version:
                    type: number
                    example: 1
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: RecurringWithdrawal
      summary: Create Recurring Withdrawal
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Create a new recurring withdrawal for an investor pot which will be run
        by the scheduler setup in the system.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/recurring-withdrawals/v1 \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"request_id":"266ea41d-adf5-480b-af50-15b940c2b846","withdrawal_name":"Withdrawals to SIPP","investor_id":"inv-XUT11265","pot_id":"pot-GYQ5423100","bank_account_id":"ba-92yu982d-at6u-4242-9856-83","amount":"100.00","currency":"GBP","withdrawal_schedule":{"interval_unit":"monthly","interval":2,"date":1,"start_date":"2023-04-02","end_date":"2023-11-02"}}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/recurring-withdrawals/v1",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              request_id: '266ea41d-adf5-480b-af50-15b940c2b846',
              withdrawal_name: 'Withdrawals to SIPP',
              investor_id: 'inv-XUT11265',
              pot_id: 'pot-GYQ5423100',
              bank_account_id: 'ba-92yu982d-at6u-4242-9856-83',
              amount: '100.00',
              currency: 'GBP',
              withdrawal_schedule: {
                interval_unit: 'monthly',
                interval: 2,
                date: 1,
                start_date: '2023-04-02',
                end_date: '2023-11-02'
              }
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/recurring-withdrawals/v1")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body =
            "{\"request_id\":\"266ea41d-adf5-480b-af50-15b940c2b846\",\"withdrawal_name\":\"Withdrawals
            to
            SIPP\",\"investor_id\":\"inv-XUT11265\",\"pot_id\":\"pot-GYQ5423100\",\"bank_account_id\":\"ba-92yu982d-at6u-4242-9856-83\",\"amount\":\"100.00\",\"currency\":\"GBP\",\"withdrawal_schedule\":{\"interval_unit\":\"monthly\",\"interval\":2,\"date\":1,\"start_date\":\"2023-04-02\",\"end_date\":\"2023-11-02\"}}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/recurring-withdrawals/v1\"\n\n\tpayload := strings.NewReader(\"{\\\"request_id\\\":\\\"266ea41d-adf5-480b-af50-15b940c2b846\\\",\\\"withdrawal_name\\\":\\\"Withdrawals to SIPP\\\",\\\"investor_id\\\":\\\"inv-XUT11265\\\",\\\"pot_id\\\":\\\"pot-GYQ5423100\\\",\\\"bank_account_id\\\":\\\"ba-92yu982d-at6u-4242-9856-83\\\",\\\"amount\\\":\\\"100.00\\\",\\\"currency\\\":\\\"GBP\\\",\\\"withdrawal_schedule\\\":{\\\"interval_unit\\\":\\\"monthly\\\",\\\"interval\\\":2,\\\"date\\\":1,\\\"start_date\\\":\\\"2023-04-02\\\",\\\"end_date\\\":\\\"2023-11-02\\\"}}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    get:
      tags:
        - Recurring Withdrawals
      responses:
        '200':
          content:
            application/json:
              schema:
                required:
                  - recurring_withdrawals
                  - next_page_available
                type: object
                properties:
                  recurring_withdrawals:
                    type: array
                    items:
                      required:
                        - withdrawal_id
                        - withdrawal_name
                        - pot_id
                        - investor_id
                        - bank_account_id
                        - amount
                        - currency
                        - withdrawal_schedule
                        - status
                        - created_at
                        - updated_at
                        - reference_version
                      properties:
                        withdrawal_id:
                          type: string
                          example: RCW-AB24DE7
                          description: System generated unique id
                        withdrawal_name:
                          type: string
                          maxLength: 100
                          description: User given identifier for the withdrawal
                          example: Withdrawals to SIPP
                        investor_id:
                          type: string
                          description: >-
                            Investor ID of the investor making the withdrawal.
                            For a joint pot, Investor ID of the party requesting
                            the withdrawal should be included.
                          example: inv-AUX11265
                        pot_id:
                          type: string
                          description: Pot ID of investor
                          example: pot-GYQ5423100
                        bank_account_id:
                          type: string
                          description: >-
                            Bank account ID of the investor where the withdrawn
                            cash will go to
                          example: ba-92yu982d-at6u-4242-9856-83
                        amount:
                          type: string
                          description: Withdrawal amount.
                          example: '100.00'
                        currency:
                          type: string
                          description: Must be a currency configured for the Pot
                          example: GBP
                        withdrawal_schedule:
                          type: object
                          description: Parameters based on withdrawal schedule
                          required:
                            - interval_unit
                            - interval
                            - start_date
                          properties:
                            interval_unit:
                              type: string
                              description: Repeating interval unit of recurring withdrawal
                              enum:
                                - monthly
                            interval:
                              type: integer
                              description: >-
                                Repeating interval of recurring withdrawal. For
                                monthly, should be 1-12
                            date:
                              type: integer
                              description: >-
                                Date the withdrawal is expected to be triggered
                                if frequency is monthly. 1-28 or -1 to indicate
                                the last day of the month is accepted.
                            start_date:
                              type: string
                              format: date-time
                              description: >-
                                Date to initiate the recurring withdrawals.
                                Should be in YYYY-MM-DD format.
                            end_date:
                              type: string
                              format: date-time
                              description: >-
                                Date to conclude the recurring withdrawals.
                                Should be in YYYY-MM-DD format.
                          example:
                            interval_unit: monthly
                            interval: 2
                            date: 1
                            start_date: '2023-04-02'
                            end_date: '2023-11-02'
                        status:
                          type: string
                          example: active
                          enum:
                            - active
                            - cancelled
                        next_withdrawal_date:
                          type: string
                          format: date-time
                          example: '2023-05-01T00:00:00.000Z'
                        created_at:
                          type: string
                          format: date-time
                          example: '2023-04-04T15:12:30.000Z'
                        updated_at:
                          type: string
                          format: date-time
                          example: '2023-04-04T15:12:30.000Z'
                        reference_version:
                          type: number
                          example: 1
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
          description: A paged array of Recurring Withdrawals
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - in: query
          name: withdrawal_id
          schema:
            type: string
          required: false
          description: Withdrawal Id
        - in: query
          name: pot_id
          schema:
            type: string
          required: false
          description: Pot Id
        - in: query
          name: financial_product_id
          schema:
            type: string
          required: false
          description: Financial Product Id
        - in: query
          name: investor_id
          schema:
            type: string
          required: false
          description: Investor Id
        - name: status
          description: Status of the recurring withdrawal
          schema:
            type: string
            enum:
              - active
              - cancelled
          in: query
          required: false
        - name: page_size
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 1000 and 1. Max page size is 8000.
            Results are sorted decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: page_number
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 1000 and 1. Results are sorted
            decending order of the created date & time.
          schema:
            type: string
          in: query
          required: false
        - name: sort
          description: Sorting order; results are sorted by creation time.
          schema:
            type: string
            default: desc
            enum:
              - asc
              - desc
          in: query
          required: false
      operationId: getAllWithdrawals
      summary: Get All Recurring Withdrawals
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Returns all the recurring withdrawals set up for investors in an array.
        \

        Recurring Withdrawals can be requested using filters  `withdrawal_id`,
        `pot_id`, `investor_id`, `financial_product_id` and `status` or a
        combination of these filters.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/recurring-withdrawals/v1?withdrawal_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/recurring-withdrawals/v1?withdrawal_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/recurring-withdrawals/v1?withdrawal_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/recurring-withdrawals/v1?withdrawal_id=SOME_STRING_VALUE&pot_id=SOME_STRING_VALUE&financial_product_id=SOME_STRING_VALUE&investor_id=SOME_STRING_VALUE&status=SOME_STRING_VALUE&page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/recurring-withdrawals/v1/{withdrawal_id}:
    patch:
      summary: Update Recurring Withdrawal
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Update an active recurring withdrawal that is set up in the system.
      operationId: UpdateRecurringWithdrawal
      tags:
        - Recurring Withdrawals
      requestBody:
        content:
          application/json:
            schema:
              required:
                - reference_version
              properties:
                amount:
                  type: string
                  description: >-
                    Amount as a numeral string with two decimal points. (ex:
                    1500.00) Should be greater than or equal to the minimum
                    investment for the financial product.
                  example: '1500.00'
                withdrawal_name:
                  type: string
                  maxLength: 100
                  description: User given identifier for the withdrawal
                  example: New withdrawals to SIPP
                end_date:
                  type: string
                  format: date
                  description: >-
                    Date to conclude the recurring withdrawal. Should be in
                    YYYY-MM-DD format
                  example: '2024-10-30'
                reference_version:
                  type: number
                  example: 1
        required: true
      security:
        - ApiSecretKey: []
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - withdrawal_id
                  - withdrawal_name
                  - pot_id
                  - investor_id
                  - bank_account_id
                  - amount
                  - currency
                  - withdrawal_schedule
                  - status
                  - created_at
                  - updated_at
                  - reference_version
                properties:
                  withdrawal_id:
                    type: string
                    example: RCW-AB24DE7
                    description: System generated unique id
                  withdrawal_name:
                    type: string
                    maxLength: 100
                    description: User given identifier for the withdrawal
                    example: Withdrawals to SIPP
                  investor_id:
                    type: string
                    description: >-
                      Investor ID of the investor making the withdrawal. For a
                      joint pot, Investor ID of the party requesting the
                      withdrawal should be included.
                    example: inv-AUX11265
                  pot_id:
                    type: string
                    description: Pot ID of investor
                    example: pot-GYQ5423100
                  bank_account_id:
                    type: string
                    description: >-
                      Bank account ID of the investor where the withdrawn cash
                      will go to
                    example: ba-92yu982d-at6u-4242-9856-83
                  amount:
                    type: string
                    description: Withdrawal amount.
                    example: '100.00'
                  currency:
                    type: string
                    description: Must be a currency configured for the Pot
                    example: GBP
                  withdrawal_schedule:
                    type: object
                    description: Parameters based on withdrawal schedule
                    required:
                      - interval_unit
                      - interval
                      - start_date
                    properties:
                      interval_unit:
                        type: string
                        description: Repeating interval unit of recurring withdrawal
                        enum:
                          - monthly
                      interval:
                        type: integer
                        description: >-
                          Repeating interval of recurring withdrawal. For
                          monthly, should be 1-12
                      date:
                        type: integer
                        description: >-
                          Date the withdrawal is expected to be triggered if
                          frequency is monthly. 1-28 or -1 to indicate the last
                          day of the month is accepted.
                      start_date:
                        type: string
                        format: date-time
                        description: >-
                          Date to initiate the recurring withdrawals. Should be
                          in YYYY-MM-DD format.
                      end_date:
                        type: string
                        format: date-time
                        description: >-
                          Date to conclude the recurring withdrawals. Should be
                          in YYYY-MM-DD format.
                    example:
                      interval_unit: monthly
                      interval: 2
                      date: 1
                      start_date: '2023-04-02'
                      end_date: '2023-11-02'
                  status:
                    type: string
                    example: active
                    enum:
                      - active
                      - cancelled
                  next_withdrawal_date:
                    type: string
                    format: date-time
                    example: '2023-05-01T00:00:00.000Z'
                  created_at:
                    type: string
                    format: date-time
                    example: '2023-04-04T15:12:30.000Z'
                  updated_at:
                    type: string
                    format: date-time
                    example: '2023-04-04T15:12:30.000Z'
                  reference_version:
                    type: number
                    example: 1
              example:
                status: active
                withdrawal_name: New withdrawals to SIPP
                amount: '1500.00'
                withdrawal_id: RCW-AB2AE86
                pot_id: pot-GYQ5423100
                financial_product_id: stocks_isa
                investor_id: inv-XUT11265
                currency: GBP
                withdrawal_schedule:
                  interval_unit: monthly
                  interval: 2
                  date: 1
                  start_date: '2023-04-02'
                  end_date: '2023-11-02'
                next_withdrawal_date: '2023-05-01T00:00:00.000Z'
                created_at: '2023-04-04T15:12:30.000Z'
                updated_at: '2023-04-04T15:12:30.000Z'
                reference_version: 1
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      parameters:
        - in: path
          name: withdrawal_id
          schema:
            type: string
          required: true
          description: Withdrawal Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request PATCH \
              --url https://web_host_name/tenant/recurring-withdrawals/v1/%7Bwithdrawal_id%7D \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"amount":"1500.00","withdrawal_name":"New withdrawals to SIPP","end_date":"2024-10-30","reference_version":1}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "PATCH",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/recurring-withdrawals/v1/%7Bwithdrawal_id%7D",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              amount: '1500.00',
              withdrawal_name: 'New withdrawals to SIPP',
              end_date: '2024-10-30',
              reference_version: 1
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/recurring-withdrawals/v1/%7Bwithdrawal_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Patch.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{\"amount\":\"1500.00\",\"withdrawal_name\":\"New
            withdrawals to
            SIPP\",\"end_date\":\"2024-10-30\",\"reference_version\":1}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/recurring-withdrawals/v1/%7Bwithdrawal_id%7D\"\n\n\tpayload := strings.NewReader(\"{\\\"amount\\\":\\\"1500.00\\\",\\\"withdrawal_name\\\":\\\"New withdrawals to SIPP\\\",\\\"end_date\\\":\\\"2024-10-30\\\",\\\"reference_version\\\":1}\")\n\n\treq, _ := http.NewRequest(\"PATCH\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/recurring-withdrawals/v1/{withdrawal_id}/cancel:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - in: path
          name: withdrawal_id
          schema:
            type: string
          required: true
          description: Withdrawal Id
      tags:
        - Recurring Withdrawals
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                required:
                  - withdrawal_id
                  - withdrawal_name
                  - pot_id
                  - investor_id
                  - bank_account_id
                  - amount
                  - currency
                  - withdrawal_schedule
                  - status
                  - created_at
                  - updated_at
                  - reference_version
                properties:
                  withdrawal_id:
                    type: string
                    example: RCW-AB24DE7
                    description: System generated unique id
                  withdrawal_name:
                    type: string
                    maxLength: 100
                    description: User given identifier for the withdrawal
                    example: Withdrawals to SIPP
                  investor_id:
                    type: string
                    description: >-
                      Investor ID of the investor making the withdrawal. For a
                      joint pot, Investor ID of the party requesting the
                      withdrawal should be included.
                    example: inv-AUX11265
                  pot_id:
                    type: string
                    description: Pot ID of investor
                    example: pot-GYQ5423100
                  bank_account_id:
                    type: string
                    description: >-
                      Bank account ID of the investor where the withdrawn cash
                      will go to
                    example: ba-92yu982d-at6u-4242-9856-83
                  amount:
                    type: string
                    description: Withdrawal amount.
                    example: '100.00'
                  currency:
                    type: string
                    description: Must be a currency configured for the Pot
                    example: GBP
                  withdrawal_schedule:
                    type: object
                    description: Parameters based on withdrawal schedule
                    required:
                      - interval_unit
                      - interval
                      - start_date
                    properties:
                      interval_unit:
                        type: string
                        description: Repeating interval unit of recurring withdrawal
                        enum:
                          - monthly
                      interval:
                        type: integer
                        description: >-
                          Repeating interval of recurring withdrawal. For
                          monthly, should be 1-12
                      date:
                        type: integer
                        description: >-
                          Date the withdrawal is expected to be triggered if
                          frequency is monthly. 1-28 or -1 to indicate the last
                          day of the month is accepted.
                      start_date:
                        type: string
                        format: date-time
                        description: >-
                          Date to initiate the recurring withdrawals. Should be
                          in YYYY-MM-DD format.
                      end_date:
                        type: string
                        format: date-time
                        description: >-
                          Date to conclude the recurring withdrawals. Should be
                          in YYYY-MM-DD format.
                    example:
                      interval_unit: monthly
                      interval: 2
                      date: 1
                      start_date: '2023-04-02'
                      end_date: '2023-11-02'
                  status:
                    type: string
                    example: active
                    enum:
                      - active
                      - cancelled
                  next_withdrawal_date:
                    type: string
                    format: date-time
                    example: '2023-05-01T00:00:00.000Z'
                  created_at:
                    type: string
                    format: date-time
                    example: '2023-04-04T15:12:30.000Z'
                  updated_at:
                    type: string
                    format: date-time
                    example: '2023-04-04T15:12:30.000Z'
                  reference_version:
                    type: number
                    example: 1
              example:
                status: Cancelled
                withdrawal_id: RCW-AB2AE86
                withdrawal_name: Withdrawals to SIPP
                pot_id: pot-GYQ5423100
                financial_product_id: stocks_isa
                investor_id: inv-XUT11265
                amount: '100.00'
                currency: GBP
                withdrawal_schedule:
                  interval_unit: monthly
                  interval: 2
                  date: 1
                  start_date: '2023-04-02'
                  end_date: '2023-11-02'
                next_withdrawal_date: '2023-05-01T00:00:00.000Z'
                created_at: '2023-04-04T15:12:30.000Z'
                updated_at: '2023-04-04T15:12:30.000Z'
                reference_version: 1
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      operationId: CancelRecurringWithdrawal
      summary: Cancel Recurring Withdrawal
      description: >-
        <div class="warning" style='padding:0.1em; background-color:#FEEFB3;
        color:#9F6000;'>
            <span>
                <p style='margin-top:0.9em;margin-bottom:0.9em;margin-left:1em; text-align:left'>
                    <b>ⓘ</b> This feature is currently in BETA mode
                </p>
            </span>
        </div>


        Cancel a recurring withdrawal setup in the system. Recurring withdrawals
        with the status ‘Active' can be cancelled through this endpoint.
        Cancelled withdrawals cannot be active again.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/recurring-withdrawals/v1/%7Bwithdrawal_id%7D/cancel \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/recurring-withdrawals/v1/%7Bwithdrawal_id%7D/cancel",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({}));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/recurring-withdrawals/v1/%7Bwithdrawal_id%7D/cancel")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/recurring-withdrawals/v1/%7Bwithdrawal_id%7D/cancel\"\n\n\tpayload := strings.NewReader(\"{}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/workplace-employers/v1:
    post:
      summary: Create workplace employer (BETA)
      description: >-
        This endpoint will create a workplace contributing employer in the
        system.
      operationId: createWorkplaceEmployer
      tags:
        - Workplace Employers
      security:
        - ApiSecretKey: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - registration_number
                - registered_address
                - correspondence_address
                - status
              properties:
                name:
                  type: string
                  description: Name of the workplace employer
                  maxLength: 100
                  example: Romayo Ltd
                registration_number:
                  type: string
                  description: >-
                    Registration number of the workplace employer, this should
                    be unique for employers.
                  example: '12345678'
                registered_address:
                  type: object
                  description: Registered address of the workplace employer
                  properties:
                    postal_code:
                      type: string
                      example: S2 2DF
                    address_line:
                      type: string
                      example: '14'
                    street_name:
                      type: string
                      example: Tottenham Court Road
                    city:
                      type: string
                      example: London
                    state:
                      type: string
                      example: England
                    country:
                      type: string
                      description: 3 character country code inline with ISO 3166-1 alpha-3
                      minLength: 3
                      maxLength: 3
                      example: GBR
                  required:
                    - postal_code
                    - country
                correspondence_address:
                  type: object
                  description: >-
                    Address of designated location for receiving official
                    communications
                  properties:
                    postal_code:
                      type: string
                      example: A3 2CF
                    address_line:
                      type: string
                      example: '17'
                    street_name:
                      type: string
                      example: Flower Road
                    city:
                      type: string
                      example: London
                    state:
                      type: string
                      example: England
                    country:
                      type: string
                      description: 3 character country code inline with ISO 3166-1 alpha-3
                      minLength: 3
                      maxLength: 3
                      example: GBR
                  required:
                    - postal_code
                    - country
                company_structure:
                  type: string
                  description: Structure of the company.
                  enum:
                    - LLC
                  example: LLC
                contact_details:
                  type: object
                  description: Contact details of an individual of the company.
                  properties:
                    name:
                      type: string
                      maxLength: 100
                      example: Adam Clark
                    email:
                      type: string
                      maxLength: 100
                      example: adamclark@gmail.com
                    phone_number:
                      type: string
                      maxLength: 16
                      example: '+441234567890'
                kyb_aml_status:
                  type: string
                  description: Know Your Business status of the company
                  enum:
                    - submitted
                    - kyb_failed_error
                    - pending
                    - clear
                    - not_started
                  default: not_started
                  example: clear
                status:
                  type: string
                  description: >-
                    Status of the workplace employer. Only the employers with
                    the kyb_aml_status as clear can be set to active.
                  enum:
                    - active
                    - inactive
                  example: active
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '201':
          description: success
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - name
                      - registration_number
                      - registered_address
                      - correspondence_address
                      - status
                    properties:
                      name:
                        type: string
                        description: Name of the workplace employer
                        maxLength: 100
                        example: Romayo Ltd
                      registration_number:
                        type: string
                        description: >-
                          Registration number of the workplace employer, this
                          should be unique for employers.
                        example: '12345678'
                      registered_address:
                        type: object
                        description: Registered address of the workplace employer
                        properties:
                          postal_code:
                            type: string
                            example: S2 2DF
                          address_line:
                            type: string
                            example: '14'
                          street_name:
                            type: string
                            example: Tottenham Court Road
                          city:
                            type: string
                            example: London
                          state:
                            type: string
                            example: England
                          country:
                            type: string
                            description: >-
                              3 character country code inline with ISO 3166-1
                              alpha-3
                            minLength: 3
                            maxLength: 3
                            example: GBR
                        required:
                          - postal_code
                          - country
                      correspondence_address:
                        type: object
                        description: >-
                          Address of designated location for receiving official
                          communications
                        properties:
                          postal_code:
                            type: string
                            example: A3 2CF
                          address_line:
                            type: string
                            example: '17'
                          street_name:
                            type: string
                            example: Flower Road
                          city:
                            type: string
                            example: London
                          state:
                            type: string
                            example: England
                          country:
                            type: string
                            description: >-
                              3 character country code inline with ISO 3166-1
                              alpha-3
                            minLength: 3
                            maxLength: 3
                            example: GBR
                        required:
                          - postal_code
                          - country
                      company_structure:
                        type: string
                        description: Structure of the company.
                        enum:
                          - LLC
                        example: LLC
                      contact_details:
                        type: object
                        description: Contact details of an individual of the company.
                        properties:
                          name:
                            type: string
                            maxLength: 100
                            example: Adam Clark
                          email:
                            type: string
                            maxLength: 100
                            example: adamclark@gmail.com
                          phone_number:
                            type: string
                            maxLength: 16
                            example: '+441234567890'
                      kyb_aml_status:
                        type: string
                        description: Know Your Business status of the company
                        enum:
                          - submitted
                          - kyb_failed_error
                          - pending
                          - clear
                          - not_started
                        default: not_started
                        example: clear
                      status:
                        type: string
                        description: >-
                          Status of the workplace employer. Only the employers
                          with the kyb_aml_status as clear can be set to active.
                        enum:
                          - active
                          - inactive
                        example: active
                  - type: object
                    required:
                      - kyb_aml_status
                      - workplace_employer_id
                      - reference_version
                      - created_at
                      - updated_at
                    properties:
                      workplace_employer_id:
                        type: string
                        readOnly: true
                        maxLength: 20
                        description: Unique ID of a workplace employer
                        example: wem-AHY58878
                      reference_version:
                        type: number
                        example: 1
                      created_at:
                        type: string
                        format: date-time
                        readOnly: true
                        example: '2023-07-08T07:36:05.884Z'
                      updated_at:
                        type: string
                        format: date-time
                        readOnly: true
                        example: '2023-07-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request POST \
              --url https://web_host_name/tenant/workplace-employers/v1 \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"name":"Romayo Ltd","registration_number":"12345678","registered_address":{"postal_code":"S2 2DF","address_line":"14","street_name":"Tottenham Court Road","city":"London","state":"England","country":"GBR"},"correspondence_address":{"postal_code":"A3 2CF","address_line":"17","street_name":"Flower Road","city":"London","state":"England","country":"GBR"},"company_structure":"LLC","contact_details":{"name":"Adam Clark","email":"adamclark@gmail.com","phone_number":"+441234567890"},"kyb_aml_status":"clear","status":"active"}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "POST",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/workplace-employers/v1",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              name: 'Romayo Ltd',
              registration_number: '12345678',
              registered_address: {
                postal_code: 'S2 2DF',
                address_line: '14',
                street_name: 'Tottenham Court Road',
                city: 'London',
                state: 'England',
                country: 'GBR'
              },
              correspondence_address: {
                postal_code: 'A3 2CF',
                address_line: '17',
                street_name: 'Flower Road',
                city: 'London',
                state: 'England',
                country: 'GBR'
              },
              company_structure: 'LLC',
              contact_details: {
                name: 'Adam Clark',
                email: 'adamclark@gmail.com',
                phone_number: '+441234567890'
              },
              kyb_aml_status: 'clear',
              status: 'active'
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url = URI("https://web_host_name/tenant/workplace-employers/v1")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Post.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{\"name\":\"Romayo
            Ltd\",\"registration_number\":\"12345678\",\"registered_address\":{\"postal_code\":\"S2
            2DF\",\"address_line\":\"14\",\"street_name\":\"Tottenham Court
            Road\",\"city\":\"London\",\"state\":\"England\",\"country\":\"GBR\"},\"correspondence_address\":{\"postal_code\":\"A3
            2CF\",\"address_line\":\"17\",\"street_name\":\"Flower
            Road\",\"city\":\"London\",\"state\":\"England\",\"country\":\"GBR\"},\"company_structure\":\"LLC\",\"contact_details\":{\"name\":\"Adam
            Clark\",\"email\":\"adamclark@gmail.com\",\"phone_number\":\"+441234567890\"},\"kyb_aml_status\":\"clear\",\"status\":\"active\"}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/workplace-employers/v1\"\n\n\tpayload := strings.NewReader(\"{\\\"name\\\":\\\"Romayo Ltd\\\",\\\"registration_number\\\":\\\"12345678\\\",\\\"registered_address\\\":{\\\"postal_code\\\":\\\"S2 2DF\\\",\\\"address_line\\\":\\\"14\\\",\\\"street_name\\\":\\\"Tottenham Court Road\\\",\\\"city\\\":\\\"London\\\",\\\"state\\\":\\\"England\\\",\\\"country\\\":\\\"GBR\\\"},\\\"correspondence_address\\\":{\\\"postal_code\\\":\\\"A3 2CF\\\",\\\"address_line\\\":\\\"17\\\",\\\"street_name\\\":\\\"Flower Road\\\",\\\"city\\\":\\\"London\\\",\\\"state\\\":\\\"England\\\",\\\"country\\\":\\\"GBR\\\"},\\\"company_structure\\\":\\\"LLC\\\",\\\"contact_details\\\":{\\\"name\\\":\\\"Adam Clark\\\",\\\"email\\\":\\\"adamclark@gmail.com\\\",\\\"phone_number\\\":\\\"+441234567890\\\"},\\\"kyb_aml_status\\\":\\\"clear\\\",\\\"status\\\":\\\"active\\\"}\")\n\n\treq, _ := http.NewRequest(\"POST\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    get:
      tags:
        - Workplace Employers
      responses:
        '200':
          content:
            application/json:
              schema:
                required:
                  - workplace_employers
                  - next_page_available
                type: object
                properties:
                  workplace_employers:
                    type: array
                    items:
                      allOf:
                        - type: object
                          required:
                            - name
                            - registration_number
                            - registered_address
                            - correspondence_address
                            - status
                          properties:
                            name:
                              type: string
                              description: Name of the workplace employer
                              maxLength: 100
                              example: Romayo Ltd
                            registration_number:
                              type: string
                              description: >-
                                Registration number of the workplace employer,
                                this should be unique for employers.
                              example: '12345678'
                            registered_address:
                              type: object
                              description: Registered address of the workplace employer
                              properties:
                                postal_code:
                                  type: string
                                  example: S2 2DF
                                address_line:
                                  type: string
                                  example: '14'
                                street_name:
                                  type: string
                                  example: Tottenham Court Road
                                city:
                                  type: string
                                  example: London
                                state:
                                  type: string
                                  example: England
                                country:
                                  type: string
                                  description: >-
                                    3 character country code inline with ISO
                                    3166-1 alpha-3
                                  minLength: 3
                                  maxLength: 3
                                  example: GBR
                              required:
                                - postal_code
                                - country
                            correspondence_address:
                              type: object
                              description: >-
                                Address of designated location for receiving
                                official communications
                              properties:
                                postal_code:
                                  type: string
                                  example: A3 2CF
                                address_line:
                                  type: string
                                  example: '17'
                                street_name:
                                  type: string
                                  example: Flower Road
                                city:
                                  type: string
                                  example: London
                                state:
                                  type: string
                                  example: England
                                country:
                                  type: string
                                  description: >-
                                    3 character country code inline with ISO
                                    3166-1 alpha-3
                                  minLength: 3
                                  maxLength: 3
                                  example: GBR
                              required:
                                - postal_code
                                - country
                            company_structure:
                              type: string
                              description: Structure of the company.
                              enum:
                                - LLC
                              example: LLC
                            contact_details:
                              type: object
                              description: Contact details of an individual of the company.
                              properties:
                                name:
                                  type: string
                                  maxLength: 100
                                  example: Adam Clark
                                email:
                                  type: string
                                  maxLength: 100
                                  example: adamclark@gmail.com
                                phone_number:
                                  type: string
                                  maxLength: 16
                                  example: '+441234567890'
                            kyb_aml_status:
                              type: string
                              description: Know Your Business status of the company
                              enum:
                                - submitted
                                - kyb_failed_error
                                - pending
                                - clear
                                - not_started
                              default: not_started
                              example: clear
                            status:
                              type: string
                              description: >-
                                Status of the workplace employer. Only the
                                employers with the kyb_aml_status as clear can
                                be set to active.
                              enum:
                                - active
                                - inactive
                              example: active
                        - type: object
                          required:
                            - kyb_aml_status
                            - workplace_employer_id
                            - reference_version
                            - created_at
                            - updated_at
                          properties:
                            workplace_employer_id:
                              type: string
                              readOnly: true
                              maxLength: 20
                              description: Unique ID of a workplace employer
                              example: wem-AHY58878
                            reference_version:
                              type: number
                              example: 1
                            created_at:
                              type: string
                              format: date-time
                              readOnly: true
                              example: '2023-07-08T07:36:05.884Z'
                            updated_at:
                              type: string
                              format: date-time
                              readOnly: true
                              example: '2023-07-10T07:36:05.884Z'
                  next_page_available:
                    type: boolean
                    readOnly: true
                    description: This indicates the availability of the next page
          description: A paged array of Workplace Employers
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      security:
        - ApiSecretKey: []
      parameters:
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
        - name: page_size
          description: >-
            Page size for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_number, both page_size and
            page_number will be defaulted to 1000 and 1. Max page size is 8000.
          schema:
            type: string
          in: query
          required: false
        - name: page_number
          description: >-
            Page number for the query. This end-point has paginations
            capabilities. This value should be a positive integer value. If this
            is not provided or provided without page_size, both page_size and
            page_number will be defaulted to 1000 and 1.
          schema:
            type: string
          in: query
          required: false
        - name: sort
          description: Sorting order; results are sorted by creation time.
          schema:
            type: string
            default: desc
            enum:
              - asc
              - desc
          in: query
          required: false
      operationId: GetAllWorkplaceEmployers
      summary: Get all workplace employers (BETA)
      description: >-
        This endpoint will retrieve all workplace contributing employers in the
        system.
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url 'https://web_host_name/tenant/workplace-employers/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE' \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/workplace-employers/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/workplace-employers/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/workplace-employers/v1?page_size=SOME_STRING_VALUE&page_number=SOME_STRING_VALUE&sort=SOME_STRING_VALUE\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/workplace-employers/v1/{workplace_employer_id}:
    get:
      summary: Get existing workplace employer (BETA)
      description: >-
        This endpoint will retrieve details of a particular workplace employer
        in the system.
      operationId: getWorkplaceEmployer
      tags:
        - Workplace Employers
      security:
        - ApiSecretKey: []
      parameters:
        - in: path
          name: workplace_employer_id
          required: true
          schema:
            type: string
          description: Workplace Employer Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - name
                      - registration_number
                      - registered_address
                      - correspondence_address
                      - status
                    properties:
                      name:
                        type: string
                        description: Name of the workplace employer
                        maxLength: 100
                        example: Romayo Ltd
                      registration_number:
                        type: string
                        description: >-
                          Registration number of the workplace employer, this
                          should be unique for employers.
                        example: '12345678'
                      registered_address:
                        type: object
                        description: Registered address of the workplace employer
                        properties:
                          postal_code:
                            type: string
                            example: S2 2DF
                          address_line:
                            type: string
                            example: '14'
                          street_name:
                            type: string
                            example: Tottenham Court Road
                          city:
                            type: string
                            example: London
                          state:
                            type: string
                            example: England
                          country:
                            type: string
                            description: >-
                              3 character country code inline with ISO 3166-1
                              alpha-3
                            minLength: 3
                            maxLength: 3
                            example: GBR
                        required:
                          - postal_code
                          - country
                      correspondence_address:
                        type: object
                        description: >-
                          Address of designated location for receiving official
                          communications
                        properties:
                          postal_code:
                            type: string
                            example: A3 2CF
                          address_line:
                            type: string
                            example: '17'
                          street_name:
                            type: string
                            example: Flower Road
                          city:
                            type: string
                            example: London
                          state:
                            type: string
                            example: England
                          country:
                            type: string
                            description: >-
                              3 character country code inline with ISO 3166-1
                              alpha-3
                            minLength: 3
                            maxLength: 3
                            example: GBR
                        required:
                          - postal_code
                          - country
                      company_structure:
                        type: string
                        description: Structure of the company.
                        enum:
                          - LLC
                        example: LLC
                      contact_details:
                        type: object
                        description: Contact details of an individual of the company.
                        properties:
                          name:
                            type: string
                            maxLength: 100
                            example: Adam Clark
                          email:
                            type: string
                            maxLength: 100
                            example: adamclark@gmail.com
                          phone_number:
                            type: string
                            maxLength: 16
                            example: '+441234567890'
                      kyb_aml_status:
                        type: string
                        description: Know Your Business status of the company
                        enum:
                          - submitted
                          - kyb_failed_error
                          - pending
                          - clear
                          - not_started
                        default: not_started
                        example: clear
                      status:
                        type: string
                        description: >-
                          Status of the workplace employer. Only the employers
                          with the kyb_aml_status as clear can be set to active.
                        enum:
                          - active
                          - inactive
                        example: active
                  - type: object
                    required:
                      - kyb_aml_status
                      - workplace_employer_id
                      - reference_version
                      - created_at
                      - updated_at
                    properties:
                      workplace_employer_id:
                        type: string
                        readOnly: true
                        maxLength: 20
                        description: Unique ID of a workplace employer
                        example: wem-AHY58878
                      reference_version:
                        type: number
                        example: 1
                      created_at:
                        type: string
                        format: date-time
                        readOnly: true
                        example: '2023-07-08T07:36:05.884Z'
                      updated_at:
                        type: string
                        format: date-time
                        readOnly: true
                        example: '2023-07-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
    patch:
      summary: Update workplace employer (BETA)
      description: >-
        This endpoint will update certain fields of a workplace employer in the
        system.
      operationId: updateWorkplaceEmployer
      tags:
        - Workplace Employers
      security:
        - ApiSecretKey: []
      parameters:
        - in: path
          name: workplace_employer_id
          required: true
          schema:
            type: string
          description: Workplace Employer Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - reference_version
              properties:
                name:
                  type: string
                  description: Name of the workplace employer
                  maxLength: 100
                  example: Romayo Ltd
                registration_number:
                  type: string
                  description: >-
                    Registration number of the workplace employer, this should
                    be unique for employers.
                  example: '12345678'
                registered_address:
                  type: object
                  description: Registered address of the workplace employer
                  properties:
                    postal_code:
                      type: string
                      example: D2 2DF
                    address_line:
                      type: string
                      nullable: true
                      example: '14'
                    street_name:
                      type: string
                      nullable: true
                      example: Court Road
                    city:
                      type: string
                      nullable: true
                      example: London
                    state:
                      type: string
                      nullable: true
                      example: England
                    country:
                      type: string
                      description: 3 character country code inline with ISO 3166-1 alpha-3
                      minLength: 3
                      maxLength: 3
                      example: GBR
                correspondence_address:
                  type: object
                  description: >-
                    Address of designated location for receiving official
                    communications
                  properties:
                    postal_code:
                      type: string
                      example: B3 2CF
                    address_line:
                      type: string
                      nullable: true
                      example: '17'
                    street_name:
                      type: string
                      nullable: true
                      example: Church Road
                    city:
                      type: string
                      nullable: true
                      example: London
                    state:
                      type: string
                      nullable: true
                      example: England
                    country:
                      type: string
                      description: 3 character country code inline with ISO 3166-1 alpha-3
                      minLength: 3
                      maxLength: 3
                      example: GBR
                company_structure:
                  type: string
                  description: Structure of the company.
                  enum:
                    - LLC
                  example: LLC
                contact_details:
                  type: object
                  description: Contact details of an individual of the company.
                  properties:
                    name:
                      type: string
                      nullable: true
                      example: Clark Kent
                    email:
                      type: string
                      nullable: true
                      example: clarkkent@gmail.com
                    phone_number:
                      type: string
                      nullable: true
                      example: '+441234567890'
                kyb_aml_status:
                  type: string
                  description: Know Your Business status of the company
                  enum:
                    - submitted
                    - kyb_failed_error
                    - pending
                    - clear
                    - not_started
                  default: not_started
                  example: clear
                status:
                  type: string
                  description: >-
                    Status of the workplace employer. Only the employers with
                    the kyb_aml_status as clear can be set to active.
                  enum:
                    - active
                    - inactive
                  example: active
                reference_version:
                  type: number
                  example: 1
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                allOf:
                  - type: object
                    required:
                      - name
                      - registration_number
                      - registered_address
                      - correspondence_address
                      - status
                    properties:
                      name:
                        type: string
                        description: Name of the workplace employer
                        maxLength: 100
                        example: Romayo Ltd
                      registration_number:
                        type: string
                        description: >-
                          Registration number of the workplace employer, this
                          should be unique for employers.
                        example: '12345678'
                      registered_address:
                        type: object
                        description: Registered address of the workplace employer
                        properties:
                          postal_code:
                            type: string
                            example: S2 2DF
                          address_line:
                            type: string
                            example: '14'
                          street_name:
                            type: string
                            example: Tottenham Court Road
                          city:
                            type: string
                            example: London
                          state:
                            type: string
                            example: England
                          country:
                            type: string
                            description: >-
                              3 character country code inline with ISO 3166-1
                              alpha-3
                            minLength: 3
                            maxLength: 3
                            example: GBR
                        required:
                          - postal_code
                          - country
                      correspondence_address:
                        type: object
                        description: >-
                          Address of designated location for receiving official
                          communications
                        properties:
                          postal_code:
                            type: string
                            example: A3 2CF
                          address_line:
                            type: string
                            example: '17'
                          street_name:
                            type: string
                            example: Flower Road
                          city:
                            type: string
                            example: London
                          state:
                            type: string
                            example: England
                          country:
                            type: string
                            description: >-
                              3 character country code inline with ISO 3166-1
                              alpha-3
                            minLength: 3
                            maxLength: 3
                            example: GBR
                        required:
                          - postal_code
                          - country
                      company_structure:
                        type: string
                        description: Structure of the company.
                        enum:
                          - LLC
                        example: LLC
                      contact_details:
                        type: object
                        description: Contact details of an individual of the company.
                        properties:
                          name:
                            type: string
                            maxLength: 100
                            example: Adam Clark
                          email:
                            type: string
                            maxLength: 100
                            example: adamclark@gmail.com
                          phone_number:
                            type: string
                            maxLength: 16
                            example: '+441234567890'
                      kyb_aml_status:
                        type: string
                        description: Know Your Business status of the company
                        enum:
                          - submitted
                          - kyb_failed_error
                          - pending
                          - clear
                          - not_started
                        default: not_started
                        example: clear
                      status:
                        type: string
                        description: >-
                          Status of the workplace employer. Only the employers
                          with the kyb_aml_status as clear can be set to active.
                        enum:
                          - active
                          - inactive
                        example: active
                  - type: object
                    required:
                      - kyb_aml_status
                      - workplace_employer_id
                      - reference_version
                      - created_at
                      - updated_at
                    properties:
                      workplace_employer_id:
                        type: string
                        readOnly: true
                        maxLength: 20
                        description: Unique ID of a workplace employer
                        example: wem-AHY58878
                      reference_version:
                        type: number
                        example: 1
                      created_at:
                        type: string
                        format: date-time
                        readOnly: true
                        example: '2023-07-08T07:36:05.884Z'
                      updated_at:
                        type: string
                        format: date-time
                        readOnly: true
                        example: '2023-07-10T07:36:05.884Z'
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request PATCH \
              --url https://web_host_name/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D \
              --header 'content-type: application/json' \
              --header 'x-api-key: REPLACE_KEY_VALUE' \
              --data '{"name":"Romayo Ltd","registration_number":"12345678","registered_address":{"postal_code":"D2 2DF","address_line":"14","street_name":"Court Road","city":"London","state":"England","country":"GBR"},"correspondence_address":{"postal_code":"B3 2CF","address_line":"17","street_name":"Church Road","city":"London","state":"England","country":"GBR"},"company_structure":"LLC","contact_details":{"name":"Clark Kent","email":"clarkkent@gmail.com","phone_number":"+441234567890"},"kyb_aml_status":"clear","status":"active","reference_version":1}'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "PATCH",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D",
              "headers": {
                "content-type": "application/json",
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.write(JSON.stringify({
              name: 'Romayo Ltd',
              registration_number: '12345678',
              registered_address: {
                postal_code: 'D2 2DF',
                address_line: '14',
                street_name: 'Court Road',
                city: 'London',
                state: 'England',
                country: 'GBR'
              },
              correspondence_address: {
                postal_code: 'B3 2CF',
                address_line: '17',
                street_name: 'Church Road',
                city: 'London',
                state: 'England',
                country: 'GBR'
              },
              company_structure: 'LLC',
              contact_details: {
                name: 'Clark Kent',
                email: 'clarkkent@gmail.com',
                phone_number: '+441234567890'
              },
              kyb_aml_status: 'clear',
              status: 'active',
              reference_version: 1
            }));
            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Patch.new(url)

            request["content-type"] = 'application/json'

            request["x-api-key"] = 'REPLACE_KEY_VALUE'

            request.body = "{\"name\":\"Romayo
            Ltd\",\"registration_number\":\"12345678\",\"registered_address\":{\"postal_code\":\"D2
            2DF\",\"address_line\":\"14\",\"street_name\":\"Court
            Road\",\"city\":\"London\",\"state\":\"England\",\"country\":\"GBR\"},\"correspondence_address\":{\"postal_code\":\"B3
            2CF\",\"address_line\":\"17\",\"street_name\":\"Church
            Road\",\"city\":\"London\",\"state\":\"England\",\"country\":\"GBR\"},\"company_structure\":\"LLC\",\"contact_details\":{\"name\":\"Clark
            Kent\",\"email\":\"clarkkent@gmail.com\",\"phone_number\":\"+441234567890\"},\"kyb_aml_status\":\"clear\",\"status\":\"active\",\"reference_version\":1}"


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"strings\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D\"\n\n\tpayload := strings.NewReader(\"{\\\"name\\\":\\\"Romayo Ltd\\\",\\\"registration_number\\\":\\\"12345678\\\",\\\"registered_address\\\":{\\\"postal_code\\\":\\\"D2 2DF\\\",\\\"address_line\\\":\\\"14\\\",\\\"street_name\\\":\\\"Court Road\\\",\\\"city\\\":\\\"London\\\",\\\"state\\\":\\\"England\\\",\\\"country\\\":\\\"GBR\\\"},\\\"correspondence_address\\\":{\\\"postal_code\\\":\\\"B3 2CF\\\",\\\"address_line\\\":\\\"17\\\",\\\"street_name\\\":\\\"Church Road\\\",\\\"city\\\":\\\"London\\\",\\\"state\\\":\\\"England\\\",\\\"country\\\":\\\"GBR\\\"},\\\"company_structure\\\":\\\"LLC\\\",\\\"contact_details\\\":{\\\"name\\\":\\\"Clark Kent\\\",\\\"email\\\":\\\"clarkkent@gmail.com\\\",\\\"phone_number\\\":\\\"+441234567890\\\"},\\\"kyb_aml_status\\\":\\\"clear\\\",\\\"status\\\":\\\"active\\\",\\\"reference_version\\\":1}\")\n\n\treq, _ := http.NewRequest(\"PATCH\", url, payload)\n\n\treq.Header.Add(\"content-type\", \"application/json\")\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
  /tenant/workplace-employers/v1/{workplace_employer_id}/investors:
    get:
      summary: Get all investors of a workplace employer (BETA)
      description: >-
        This endpoint will provide investor details attached to a certain
        workplace employer.
      operationId: getWorkplaceEmployerInvestors
      tags:
        - Workplace Employers
      security:
        - ApiSecretKey: []
      parameters:
        - in: path
          name: workplace_employer_id
          required: true
          schema:
            type: string
          description: Workplace Employer Id
        - in: header
          name: x-api-key
          required: true
          schema:
            type: string
          description: ApiSecretKey
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                required:
                  - workplace_employer_id
                  - investors
                type: object
                properties:
                  workplace_employer_id:
                    type: string
                    description: Unique ID of the workplace employer
                    example: wem-AHY58878
                  investors:
                    type: array
                    items:
                      type: object
                      required:
                        - investor_id
                        - first_name
                        - last_name
                        - tax_id
                      properties:
                        investor_id:
                          type: string
                          description: System generated unique ID of the investor
                          example: inv-XUT11265
                        title:
                          type: string
                          example: Mr
                        first_name:
                          type: string
                          example: John
                        last_name:
                          type: string
                          example: Doe
                        tax_id:
                          type: string
                          description: >-
                            A unique identifier assigned to individuals and
                            businesses by the tax authorities for tax purposes
                          example: AB123456C
        '400':
          description: >-
            Request is not complete and may have one or more validations errors.
            Please check the error message and the code
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
                  status:
                    description: Current status of the original request
                    type: string
                    enum:
                      - PROCESSING
                      - COMPLETE
                  response:
                    description: Stringified original response body if status is `COMPLETE`
                    type: object
        '401':
          description: You do not have permissions to access this resource.
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '403':
          description: >-
            Your authentication information is missing or invalid. Please check
            the keys are properly set and its correct
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '404':
          description: The specified resource was not found
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '429':
          description: >-
            You have sent too many requests to the system. Please retry later.
            If you need to increase your throtteling limits, please contact WOS
            support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
        '500':
          description: System error. Retry later. If the error persist, contact WOS support
          content:
            application/json:
              schema:
                required:
                  - message
                properties:
                  error_code:
                    description: Optional error code
                    type: string
                  message:
                    description: Human readable description of the error
                    type: string
      x-codeSamples:
        - lang: Shell + Curl
          source: |-
            curl --request GET \
              --url https://web_host_name/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D/investors \
              --header 'x-api-key: REPLACE_KEY_VALUE'
        - lang: Node + Native
          source: |-
            var http = require("https");

            var options = {
              "method": "GET",
              "hostname": "web_host_name",
              "port": null,
              "path": "/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D/investors",
              "headers": {
                "x-api-key": "REPLACE_KEY_VALUE"
              }
            };

            var req = http.request(options, function (res) {
              var chunks = [];

              res.on("data", function (chunk) {
                chunks.push(chunk);
              });

              res.on("end", function () {
                var body = Buffer.concat(chunks);
                console.log(body.toString());
              });
            });

            req.end();
        - lang: Ruby + Native
          source: >-
            require 'uri'

            require 'net/http'

            require 'openssl'


            url =
            URI("https://web_host_name/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D/investors")


            http = Net::HTTP.new(url.host, url.port)

            http.use_ssl = true

            http.verify_mode = OpenSSL::SSL::VERIFY_NONE


            request = Net::HTTP::Get.new(url)

            request["x-api-key"] = 'REPLACE_KEY_VALUE'


            response = http.request(request)

            puts response.read_body
        - lang: Go + Native
          source: "package main\n\nimport (\n\t\"fmt\"\n\t\"net/http\"\n\t\"io/ioutil\"\n)\n\nfunc main() {\n\n\turl := \"https://web_host_name/tenant/workplace-employers/v1/%7Bworkplace_employer_id%7D/investors\"\n\n\treq, _ := http.NewRequest(\"GET\", url, nil)\n\n\treq.Header.Add(\"x-api-key\", \"REPLACE_KEY_VALUE\")\n\n\tres, _ := http.DefaultClient.Do(req)\n\n\tdefer res.Body.Close()\n\tbody, _ := ioutil.ReadAll(res.Body)\n\n\tfmt.Println(res)\n\tfmt.Println(string(body))\n\n}"
